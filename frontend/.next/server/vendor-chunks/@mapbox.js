/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@mapbox";
exports.ids = ["vendor-chunks/@mapbox"];
exports.modules = {

/***/ "(ssr)/./node_modules/@mapbox/fusspot/lib/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@mapbox/fusspot/lib/index.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\nvar isPlainObject = __webpack_require__(/*! is-plain-obj */ \"(ssr)/./node_modules/is-plain-obj/index.js\");\nvar xtend = __webpack_require__(/*! xtend */ \"(ssr)/./node_modules/xtend/immutable.js\");\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\n\nvar v = {};\n\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\nv.assert = function(rootValidator, options) {\n  options = options || {};\n  return function(value) {\n    var message = validate(rootValidator, value);\n    // all good\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    }\n\n    // enumerate all the error messages\n    return function(options) {\n      errorMessages = errorMessages.map(function(message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options)\n          .split('\\n')\n          .join(NEWLINE_INDENT); // indents any inner nesting\n        return '- ' + key + ': ' + renderedMessage;\n      });\n\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n\n      return (\n        'The following properties' +\n        ofPhrase +\n        ' have invalid values:' +\n        NEWLINE_INDENT +\n        errorMessages.join(NEWLINE_INDENT)\n      );\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function(memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function() {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n};\n\n// Currently array validation fails when the first invalid item is found.\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n  var getValidator = function(index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function(options) {\n        return formatErrorMessage(\n          options,\n          isArrayCulprit(options.path)\n            ? 'cannot be undefined/null.'\n            : 'is required.'\n        );\n      };\n    }\n    return validator.apply(this, arguments);\n  }\n  requiredValidator.__required = true;\n\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators\n      .map(function(validator) {\n        return validate(validator, value);\n      })\n      .filter(Boolean);\n\n    // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n    if (messages.length !== validators.length) {\n      return;\n    }\n\n    // check primitive type\n    if (\n      messages.every(function(message) {\n        return message.length === 1 && typeof message[0] === 'string';\n      })\n    ) {\n      return orList(\n        messages.map(function(m) {\n          return m[0];\n        })\n      );\n    }\n\n    // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex ¯\\_(ツ)_/¯. For the current scope only returning the longest message.\n    return messages.reduce(function(max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  var validators = options.map(function(value) {\n    return v.equal(value);\n  });\n\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n  options = xtend(options, { path: path });\n\n  return typeof result === 'function'\n    ? result(options) // allows customization of result\n    : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function(key) {\n    return { key: key, value: obj[key] };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\n\nmodule.exports = v;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9mdXNzcG90L2xpYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLGdFQUFjO0FBQzFDLFlBQVksbUJBQU8sQ0FBQyxzREFBTzs7QUFFM0I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsOEJBQThCLGVBQWUsY0FBYyxlQUFlO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsWUFBWTs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEI7QUFDOUIsYUFBYTtBQUNiLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L2Z1c3Nwb3QvbGliL2luZGV4LmpzPzg2MGEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBWYWxpZGF0b3JzIGFyZSBmdW5jdGlvbnMgd2hpY2ggYXNzZXJ0IGNlcnRhaW4gdHlwZS5cbiAqIFRoZXkgY2FuIHJldHVybiBhIHN0cmluZyB3aGljaCBjYW4gdGhlbiBiZSB1c2VkXG4gKiB0byBkaXNwbGF5IGEgaGVscGZ1bCBlcnJvciBtZXNzYWdlLlxuICogVGhleSBjYW4gYWxzbyByZXR1cm4gYSBmdW5jdGlvbiBmb3IgYSBjdXN0b20gZXJyb3IgbWVzc2FnZS5cbiAqL1xudmFyIGlzUGxhaW5PYmplY3QgPSByZXF1aXJlKCdpcy1wbGFpbi1vYmonKTtcbnZhciB4dGVuZCA9IHJlcXVpcmUoJ3h0ZW5kJyk7XG5cbnZhciBERUZBVUxUX0VSUk9SX1BBVEggPSAndmFsdWUnO1xudmFyIE5FV0xJTkVfSU5ERU5UID0gJ1xcbiAgJztcblxudmFyIHYgPSB7fTtcblxuLyoqXG4gKiBSdW5uZXJzXG4gKlxuICogVGFrZSByb290IHZhbGlkYXRvcnMgYW5kIHJ1biBhc3NlcnRpb25cbiAqL1xudi5hc3NlcnQgPSBmdW5jdGlvbihyb290VmFsaWRhdG9yLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgbWVzc2FnZSA9IHZhbGlkYXRlKHJvb3RWYWxpZGF0b3IsIHZhbHVlKTtcbiAgICAvLyBhbGwgZ29vZFxuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlcnJvck1lc3NhZ2UgPSBwcm9jZXNzTWVzc2FnZShtZXNzYWdlLCBvcHRpb25zKTtcblxuICAgIGlmIChvcHRpb25zLmFwaU5hbWUpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IG9wdGlvbnMuYXBpTmFtZSArICc6ICcgKyBlcnJvck1lc3NhZ2U7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gIH07XG59O1xuXG4vKipcbiAqIEhpZ2hlciBPcmRlciBWYWxpZGF0b3JzXG4gKlxuICogdmFsaWRhdG9ycyB3aGljaCB0YWtlIG90aGVyIHZhbGlkYXRvcnMgYXMgaW5wdXRcbiAqIGFuZCBvdXRwdXQgYSBuZXcgdmFsaWRhdG9yXG4gKi9cbnYuc2hhcGUgPSBmdW5jdGlvbiBzaGFwZSh2YWxpZGF0b3JPYmopIHtcbiAgdmFyIHZhbGlkYXRvcnMgPSBvYmplY3RFbnRyaWVzKHZhbGlkYXRvck9iaik7XG4gIHJldHVybiBmdW5jdGlvbiBzaGFwZVZhbGlkYXRvcih2YWx1ZSkge1xuICAgIHZhciB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGUodi5wbGFpbk9iamVjdCwgdmFsdWUpO1xuXG4gICAgaWYgKHZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0O1xuICAgIH1cblxuICAgIHZhciBrZXksIHZhbGlkYXRvcjtcbiAgICB2YXIgZXJyb3JNZXNzYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWxpZGF0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSB2YWxpZGF0b3JzW2ldLmtleTtcbiAgICAgIHZhbGlkYXRvciA9IHZhbGlkYXRvcnNbaV0udmFsdWU7XG4gICAgICB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGUodmFsaWRhdG9yLCB2YWx1ZVtrZXldKTtcblxuICAgICAgaWYgKHZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICAgICAgLy8gcmV0dXJuIFtrZXldLmNvbmNhdCh2YWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgZXJyb3JNZXNzYWdlcy5wdXNoKFtrZXldLmNvbmNhdCh2YWxpZGF0aW9uUmVzdWx0KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVycm9yTWVzc2FnZXMubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIGVycm9yTWVzc2FnZXNbMF07XG4gICAgfVxuXG4gICAgLy8gZW51bWVyYXRlIGFsbCB0aGUgZXJyb3IgbWVzc2FnZXNcbiAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgZXJyb3JNZXNzYWdlcyA9IGVycm9yTWVzc2FnZXMubWFwKGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGtleSA9IG1lc3NhZ2VbMF07XG4gICAgICAgIHZhciByZW5kZXJlZE1lc3NhZ2UgPSBwcm9jZXNzTWVzc2FnZShtZXNzYWdlLCBvcHRpb25zKVxuICAgICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgICAuam9pbihORVdMSU5FX0lOREVOVCk7IC8vIGluZGVudHMgYW55IGlubmVyIG5lc3RpbmdcbiAgICAgICAgcmV0dXJuICctICcgKyBrZXkgKyAnOiAnICsgcmVuZGVyZWRNZXNzYWdlO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBvYmplY3RJZCA9IG9wdGlvbnMucGF0aC5qb2luKCcuJyk7XG4gICAgICB2YXIgb2ZQaHJhc2UgPSBvYmplY3RJZCA9PT0gREVGQVVMVF9FUlJPUl9QQVRIID8gJycgOiAnIG9mICcgKyBvYmplY3RJZDtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgJ1RoZSBmb2xsb3dpbmcgcHJvcGVydGllcycgK1xuICAgICAgICBvZlBocmFzZSArXG4gICAgICAgICcgaGF2ZSBpbnZhbGlkIHZhbHVlczonICtcbiAgICAgICAgTkVXTElORV9JTkRFTlQgK1xuICAgICAgICBlcnJvck1lc3NhZ2VzLmpvaW4oTkVXTElORV9JTkRFTlQpXG4gICAgICApO1xuICAgIH07XG4gIH07XG59O1xuXG52LnN0cmljdFNoYXBlID0gZnVuY3Rpb24gc3RyaWN0U2hhcGUodmFsaWRhdG9yT2JqKSB7XG4gIHZhciBzaGFwZVZhbGlkYXRvciA9IHYuc2hhcGUodmFsaWRhdG9yT2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHN0cmljdFNoYXBlVmFsaWRhdG9yKHZhbHVlKSB7XG4gICAgdmFyIHNoYXBlUmVzdWx0ID0gc2hhcGVWYWxpZGF0b3IodmFsdWUpO1xuICAgIGlmIChzaGFwZVJlc3VsdCkge1xuICAgICAgcmV0dXJuIHNoYXBlUmVzdWx0O1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkS2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKS5yZWR1Y2UoZnVuY3Rpb24obWVtbywgdmFsdWVLZXkpIHtcbiAgICAgIGlmICh2YWxpZGF0b3JPYmpbdmFsdWVLZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWVtby5wdXNoKHZhbHVlS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIFtdKTtcblxuICAgIGlmIChpbnZhbGlkS2V5cy5sZW5ndGggIT09IDApIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdUaGUgZm9sbG93aW5nIGtleXMgYXJlIGludmFsaWQ6ICcgKyBpbnZhbGlkS2V5cy5qb2luKCcsICcpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG52LmFycmF5T2YgPSBmdW5jdGlvbiBhcnJheU9mKHZhbGlkYXRvcikge1xuICByZXR1cm4gY3JlYXRlQXJyYXlWYWxpZGF0b3IodmFsaWRhdG9yKTtcbn07XG5cbnYudHVwbGUgPSBmdW5jdGlvbiB0dXBsZSgpIHtcbiAgdmFyIHZhbGlkYXRvcnMgPSBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSlcbiAgICA/IGFyZ3VtZW50c1swXVxuICAgIDogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgcmV0dXJuIGNyZWF0ZUFycmF5VmFsaWRhdG9yKHZhbGlkYXRvcnMpO1xufTtcblxuLy8gQ3VycmVudGx5IGFycmF5IHZhbGlkYXRpb24gZmFpbHMgd2hlbiB0aGUgZmlyc3QgaW52YWxpZCBpdGVtIGlzIGZvdW5kLlxuZnVuY3Rpb24gY3JlYXRlQXJyYXlWYWxpZGF0b3IodmFsaWRhdG9ycykge1xuICB2YXIgdmFsaWRhdGluZ1R1cGxlID0gQXJyYXkuaXNBcnJheSh2YWxpZGF0b3JzKTtcbiAgdmFyIGdldFZhbGlkYXRvciA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKHZhbGlkYXRpbmdUdXBsZSkge1xuICAgICAgcmV0dXJuIHZhbGlkYXRvcnNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdG9ycztcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gYXJyYXlWYWxpZGF0b3IodmFsdWUpIHtcbiAgICB2YXIgdmFsaWRhdGlvblJlc3VsdCA9IHZhbGlkYXRlKHYucGxhaW5BcnJheSwgdmFsdWUpO1xuICAgIGlmICh2YWxpZGF0aW9uUmVzdWx0KSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdDtcbiAgICB9XG5cbiAgICBpZiAodmFsaWRhdGluZ1R1cGxlICYmIHZhbHVlLmxlbmd0aCAhPT0gdmFsaWRhdG9ycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAnYW4gYXJyYXkgd2l0aCAnICsgdmFsaWRhdG9ycy5sZW5ndGggKyAnIGl0ZW1zJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGUoZ2V0VmFsaWRhdG9yKGkpLCB2YWx1ZVtpXSk7XG4gICAgICBpZiAodmFsaWRhdGlvblJlc3VsdCkge1xuICAgICAgICByZXR1cm4gW2ldLmNvbmNhdCh2YWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbnYucmVxdWlyZWQgPSBmdW5jdGlvbiByZXF1aXJlZCh2YWxpZGF0b3IpIHtcbiAgZnVuY3Rpb24gcmVxdWlyZWRWYWxpZGF0b3IodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEVycm9yTWVzc2FnZShcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIGlzQXJyYXlDdWxwcml0KG9wdGlvbnMucGF0aClcbiAgICAgICAgICAgID8gJ2Nhbm5vdCBiZSB1bmRlZmluZWQvbnVsbC4nXG4gICAgICAgICAgICA6ICdpcyByZXF1aXJlZC4nXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgcmVxdWlyZWRWYWxpZGF0b3IuX19yZXF1aXJlZCA9IHRydWU7XG5cbiAgcmV0dXJuIHJlcXVpcmVkVmFsaWRhdG9yO1xufTtcblxudi5vbmVPZlR5cGUgPSBmdW5jdGlvbiBvbmVPZlR5cGUoKSB7XG4gIHZhciB2YWxpZGF0b3JzID0gQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pXG4gICAgPyBhcmd1bWVudHNbMF1cbiAgICA6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gIHJldHVybiBmdW5jdGlvbiBvbmVPZlR5cGVWYWxpZGF0b3IodmFsdWUpIHtcbiAgICB2YXIgbWVzc2FnZXMgPSB2YWxpZGF0b3JzXG4gICAgICAubWFwKGZ1bmN0aW9uKHZhbGlkYXRvcikge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUodmFsaWRhdG9yLCB2YWx1ZSk7XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihCb29sZWFuKTtcblxuICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYXMgbWFueSBtZXNzYWdlcyBhcyBuby4gb2YgdmFsaWRhdG9ycyxcbiAgICAvLyB0aGVuIGF0IGxlYXN0IG9uZSB2YWxpZGF0b3Igd2FzIG9rIHdpdGggdGhlIHZhbHVlLlxuICAgIGlmIChtZXNzYWdlcy5sZW5ndGggIT09IHZhbGlkYXRvcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgcHJpbWl0aXZlIHR5cGVcbiAgICBpZiAoXG4gICAgICBtZXNzYWdlcy5ldmVyeShmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgbWVzc2FnZVswXSA9PT0gJ3N0cmluZyc7XG4gICAgICB9KVxuICAgICkge1xuICAgICAgcmV0dXJuIG9yTGlzdChcbiAgICAgICAgbWVzc2FnZXMubWFwKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICByZXR1cm4gbVswXTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ29tcGxleCBvbmVPZlR5cGVzIGxpa2VcbiAgICAvLyBgdi5vbmVPZnR5cGVzKHYuc2hhcGUoe25hbWU6IHYuc3RyaW5nfSlgLCBgdi5zaGFwZSh7bmFtZTogdi5udW1iZXJ9KSlgXG4gICAgLy8gYXJlIGNvbXBsZXggwq9cXF8o44OEKV8vwq8uIEZvciB0aGUgY3VycmVudCBzY29wZSBvbmx5IHJldHVybmluZyB0aGUgbG9uZ2VzdCBtZXNzYWdlLlxuICAgIHJldHVybiBtZXNzYWdlcy5yZWR1Y2UoZnVuY3Rpb24obWF4LCBhcnIpIHtcbiAgICAgIHJldHVybiBhcnIubGVuZ3RoID4gbWF4Lmxlbmd0aCA/IGFyciA6IG1heDtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8qKlxuICogTWV0YSBWYWxpZGF0b3JzXG4gKiB3aGljaCB0YWtlIG9wdGlvbnMgYXMgYXJndW1lbnQgKG5vdCB2YWxpZGF0b3JzKVxuICogYW5kIHJldHVybiBhIG5ldyBwcmltaXRpdmUgdmFsaWRhdG9yXG4gKi9cbnYuZXF1YWwgPSBmdW5jdGlvbiBlcXVhbChjb21wYXJlV2l0aCkge1xuICByZXR1cm4gZnVuY3Rpb24gZXF1YWxWYWxpZGF0b3IodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IGNvbXBhcmVXaXRoKSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29tcGFyZVdpdGgpO1xuICAgIH1cbiAgfTtcbn07XG5cbnYub25lT2YgPSBmdW5jdGlvbiBvbmVPZigpIHtcbiAgdmFyIG9wdGlvbnMgPSBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSlcbiAgICA/IGFyZ3VtZW50c1swXVxuICAgIDogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgdmFyIHZhbGlkYXRvcnMgPSBvcHRpb25zLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2LmVxdWFsKHZhbHVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHYub25lT2ZUeXBlLmFwcGx5KHRoaXMsIHZhbGlkYXRvcnMpO1xufTtcblxudi5yYW5nZSA9IGZ1bmN0aW9uIHJhbmdlKGNvbXBhcmVXaXRoKSB7XG4gIHZhciBtaW4gPSBjb21wYXJlV2l0aFswXTtcbiAgdmFyIG1heCA9IGNvbXBhcmVXaXRoWzFdO1xuICByZXR1cm4gZnVuY3Rpb24gcmFuZ2VWYWxpZGF0b3IodmFsdWUpIHtcbiAgICB2YXIgdmFsaWRhdGlvblJlc3VsdCA9IHZhbGlkYXRlKHYubnVtYmVyLCB2YWx1ZSk7XG5cbiAgICBpZiAodmFsaWRhdGlvblJlc3VsdCB8fCB2YWx1ZSA8IG1pbiB8fCB2YWx1ZSA+IG1heCkge1xuICAgICAgcmV0dXJuICdudW1iZXIgYmV0d2VlbiAnICsgbWluICsgJyAmICcgKyBtYXggKyAnIChpbmNsdXNpdmUpJztcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIFByaW1pdGl2ZSB2YWxpZGF0b3JzXG4gKlxuICogc2ltcGxlIHZhbGlkYXRvcnMgd2hpY2ggcmV0dXJuIGEgc3RyaW5nIG9yIHVuZGVmaW5lZFxuICovXG52LmFueSA9IGZ1bmN0aW9uIGFueSgpIHtcbiAgcmV0dXJuO1xufTtcblxudi5ib29sZWFuID0gZnVuY3Rpb24gYm9vbGVhbih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gJ2Jvb2xlYW4nO1xuICB9XG59O1xuXG52Lm51bWJlciA9IGZ1bmN0aW9uIG51bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiAnbnVtYmVyJztcbiAgfVxufTtcblxudi5wbGFpbkFycmF5ID0gZnVuY3Rpb24gcGxhaW5BcnJheSh2YWx1ZSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuICdhcnJheSc7XG4gIH1cbn07XG5cbnYucGxhaW5PYmplY3QgPSBmdW5jdGlvbiBwbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuICdvYmplY3QnO1xuICB9XG59O1xuXG52LnN0cmluZyA9IGZ1bmN0aW9uIHN0cmluZyh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiAnc3RyaW5nJztcbiAgfVxufTtcblxudi5mdW5jID0gZnVuY3Rpb24gZnVuYyh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbic7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHZhbGlkYXRvciwgdmFsdWUpIHtcbiAgLy8gYXNzZXJ0aW9ucyBhcmUgb3B0aW9uYWwgYnkgZGVmYXVsdCB1bmxlc3Mgd3JhcHBlZCBpbiB2LnJlcXVpcmVcbiAgaWYgKHZhbHVlID09IG51bGwgJiYgIXZhbGlkYXRvci5oYXNPd25Qcm9wZXJ0eSgnX19yZXF1aXJlZCcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IHZhbGlkYXRvcih2YWx1ZSk7XG5cbiAgaWYgKHJlc3VsdCkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJlc3VsdCkgPyByZXN1bHQgOiBbcmVzdWx0XTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzTWVzc2FnZShtZXNzYWdlLCBvcHRpb25zKSB7XG4gIC8vIG1lc3NhZ2UgYXJyYXkgZm9sbG93cyB0aGUgY29udmVudGlvblxuICAvLyBbLi4ucGF0aCwgcmVzdWx0XVxuICAvLyBwYXRoIGlzIGFuIGFycmF5IG9mIG9iamVjdCBrZXlzIC8gYXJyYXkgaW5kaWNlc1xuICAvLyByZXN1bHQgaXMgb3V0cHV0IG9mIHRoZSB2YWxpZGF0b3JcbiAgdmFyIGxlbiA9IG1lc3NhZ2UubGVuZ3RoO1xuXG4gIHZhciByZXN1bHQgPSBtZXNzYWdlW2xlbiAtIDFdO1xuICB2YXIgcGF0aCA9IG1lc3NhZ2Uuc2xpY2UoMCwgbGVuIC0gMSk7XG5cbiAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgcGF0aCA9IFtERUZBVUxUX0VSUk9SX1BBVEhdO1xuICB9XG4gIG9wdGlvbnMgPSB4dGVuZChvcHRpb25zLCB7IHBhdGg6IHBhdGggfSk7XG5cbiAgcmV0dXJuIHR5cGVvZiByZXN1bHQgPT09ICdmdW5jdGlvbidcbiAgICA/IHJlc3VsdChvcHRpb25zKSAvLyBhbGxvd3MgY3VzdG9taXphdGlvbiBvZiByZXN1bHRcbiAgICA6IGZvcm1hdEVycm9yTWVzc2FnZShvcHRpb25zLCBwcmV0dGlmeVJlc3VsdChyZXN1bHQpKTtcbn1cblxuZnVuY3Rpb24gb3JMaXN0KGxpc3QpIHtcbiAgaWYgKGxpc3QubGVuZ3RoIDwgMikge1xuICAgIHJldHVybiBsaXN0WzBdO1xuICB9XG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBsaXN0LmpvaW4oJyBvciAnKTtcbiAgfVxuICByZXR1cm4gbGlzdC5zbGljZSgwLCAtMSkuam9pbignLCAnKSArICcsIG9yICcgKyBsaXN0LnNsaWNlKC0xKTtcbn1cblxuZnVuY3Rpb24gcHJldHRpZnlSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiAnbXVzdCBiZSAnICsgYWRkQXJ0aWNsZShyZXN1bHQpICsgJy4nO1xufVxuXG5mdW5jdGlvbiBhZGRBcnRpY2xlKG5vdW5QaHJhc2UpIHtcbiAgaWYgKC9eYW4/IC8udGVzdChub3VuUGhyYXNlKSkge1xuICAgIHJldHVybiBub3VuUGhyYXNlO1xuICB9XG4gIGlmICgvXlthZWlvdV0vaS50ZXN0KG5vdW5QaHJhc2UpKSB7XG4gICAgcmV0dXJuICdhbiAnICsgbm91blBocmFzZTtcbiAgfVxuICBpZiAoL15bYS16XS9pLnRlc3Qobm91blBocmFzZSkpIHtcbiAgICByZXR1cm4gJ2EgJyArIG5vdW5QaHJhc2U7XG4gIH1cbiAgcmV0dXJuIG5vdW5QaHJhc2U7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yTWVzc2FnZShvcHRpb25zLCBwcmV0dHlSZXN1bHQpIHtcbiAgdmFyIGFycmF5Q3VscHJpdCA9IGlzQXJyYXlDdWxwcml0KG9wdGlvbnMucGF0aCk7XG4gIHZhciBvdXRwdXQgPSBvcHRpb25zLnBhdGguam9pbignLicpICsgJyAnICsgcHJldHR5UmVzdWx0O1xuICB2YXIgcHJlcGVuZCA9IGFycmF5Q3VscHJpdCA/ICdJdGVtIGF0IHBvc2l0aW9uICcgOiAnJztcblxuICByZXR1cm4gcHJlcGVuZCArIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gaXNBcnJheUN1bHByaXQocGF0aCkge1xuICByZXR1cm4gdHlwZW9mIHBhdGhbcGF0aC5sZW5ndGggLSAxXSA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgcGF0aFswXSA9PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gb2JqZWN0RW50cmllcyhvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaiB8fCB7fSkubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiB7IGtleToga2V5LCB2YWx1ZTogb2JqW2tleV0gfTtcbiAgfSk7XG59XG5cbnYudmFsaWRhdGUgPSB2YWxpZGF0ZTtcbnYucHJvY2Vzc01lc3NhZ2UgPSBwcm9jZXNzTWVzc2FnZTtcblxubW9kdWxlLmV4cG9ydHMgPSB2O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/fusspot/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/geojson-area/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@mapbox/geojson-area/index.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var wgs84 = __webpack_require__(/*! wgs84 */ \"(ssr)/./node_modules/wgs84/index.js\");\n\nmodule.exports.geometry = geometry;\nmodule.exports.ring = ringArea;\n\nfunction geometry(_) {\n    var area = 0, i;\n    switch (_.type) {\n        case 'Polygon':\n            return polygonArea(_.coordinates);\n        case 'MultiPolygon':\n            for (i = 0; i < _.coordinates.length; i++) {\n                area += polygonArea(_.coordinates[i]);\n            }\n            return area;\n        case 'Point':\n        case 'MultiPoint':\n        case 'LineString':\n        case 'MultiLineString':\n            return 0;\n        case 'GeometryCollection':\n            for (i = 0; i < _.geometries.length; i++) {\n                area += geometry(_.geometries[i]);\n            }\n            return area;\n    }\n}\n\nfunction polygonArea(coords) {\n    var area = 0;\n    if (coords && coords.length > 0) {\n        area += Math.abs(ringArea(coords[0]));\n        for (var i = 1; i < coords.length; i++) {\n            area -= Math.abs(ringArea(coords[i]));\n        }\n    }\n    return area;\n}\n\n/**\n * Calculate the approximate area of the polygon were it projected onto\n *     the earth.  Note that this area will be positive if ring is oriented\n *     clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for\n *     Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\n *     Laboratory, Pasadena, CA, June 2007 http://trs-new.jpl.nasa.gov/dspace/handle/2014/40409\n *\n * Returns:\n * {float} The approximate signed geodesic area of the polygon in square\n *     meters.\n */\n\nfunction ringArea(coords) {\n    var p1, p2, p3, lowerIndex, middleIndex, upperIndex, i,\n    area = 0,\n    coordsLength = coords.length;\n\n    if (coordsLength > 2) {\n        for (i = 0; i < coordsLength; i++) {\n            if (i === coordsLength - 2) {// i = N-2\n                lowerIndex = coordsLength - 2;\n                middleIndex = coordsLength -1;\n                upperIndex = 0;\n            } else if (i === coordsLength - 1) {// i = N-1\n                lowerIndex = coordsLength - 1;\n                middleIndex = 0;\n                upperIndex = 1;\n            } else { // i = 0 to N-3\n                lowerIndex = i;\n                middleIndex = i+1;\n                upperIndex = i+2;\n            }\n            p1 = coords[lowerIndex];\n            p2 = coords[middleIndex];\n            p3 = coords[upperIndex];\n            area += ( rad(p3[0]) - rad(p1[0]) ) * Math.sin( rad(p2[1]));\n        }\n\n        area = area * wgs84.RADIUS * wgs84.RADIUS / 2;\n    }\n\n    return area;\n}\n\nfunction rad(_) {\n    return _ * Math.PI / 180;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9nZW9qc29uLWFyZWEvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxtQkFBTyxDQUFDLGtEQUFPOztBQUUzQix1QkFBdUI7QUFDdkIsbUJBQW1COztBQUVuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5QkFBeUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxPQUFPO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEMseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0NBQWtDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9nZW9qc29uLWFyZWEvaW5kZXguanM/OTI5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgd2dzODQgPSByZXF1aXJlKCd3Z3M4NCcpO1xuXG5tb2R1bGUuZXhwb3J0cy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xubW9kdWxlLmV4cG9ydHMucmluZyA9IHJpbmdBcmVhO1xuXG5mdW5jdGlvbiBnZW9tZXRyeShfKSB7XG4gICAgdmFyIGFyZWEgPSAwLCBpO1xuICAgIHN3aXRjaCAoXy50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgICAgICAgcmV0dXJuIHBvbHlnb25BcmVhKF8uY29vcmRpbmF0ZXMpO1xuICAgICAgICBjYXNlICdNdWx0aVBvbHlnb24nOlxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF8uY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcmVhICs9IHBvbHlnb25BcmVhKF8uY29vcmRpbmF0ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZWE7XG4gICAgICAgIGNhc2UgJ1BvaW50JzpcbiAgICAgICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgXy5nZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJlYSArPSBnZW9tZXRyeShfLmdlb21ldHJpZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZWE7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwb2x5Z29uQXJlYShjb29yZHMpIHtcbiAgICB2YXIgYXJlYSA9IDA7XG4gICAgaWYgKGNvb3JkcyAmJiBjb29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBhcmVhICs9IE1hdGguYWJzKHJpbmdBcmVhKGNvb3Jkc1swXSkpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJlYSAtPSBNYXRoLmFicyhyaW5nQXJlYShjb29yZHNbaV0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGFwcHJveGltYXRlIGFyZWEgb2YgdGhlIHBvbHlnb24gd2VyZSBpdCBwcm9qZWN0ZWQgb250b1xuICogICAgIHRoZSBlYXJ0aC4gIE5vdGUgdGhhdCB0aGlzIGFyZWEgd2lsbCBiZSBwb3NpdGl2ZSBpZiByaW5nIGlzIG9yaWVudGVkXG4gKiAgICAgY2xvY2t3aXNlLCBvdGhlcndpc2UgaXQgd2lsbCBiZSBuZWdhdGl2ZS5cbiAqXG4gKiBSZWZlcmVuY2U6XG4gKiBSb2JlcnQuIEcuIENoYW1iZXJsYWluIGFuZCBXaWxsaWFtIEguIER1cXVldHRlLCBcIlNvbWUgQWxnb3JpdGhtcyBmb3JcbiAqICAgICBQb2x5Z29ucyBvbiBhIFNwaGVyZVwiLCBKUEwgUHVibGljYXRpb24gMDctMDMsIEpldCBQcm9wdWxzaW9uXG4gKiAgICAgTGFib3JhdG9yeSwgUGFzYWRlbmEsIENBLCBKdW5lIDIwMDcgaHR0cDovL3Rycy1uZXcuanBsLm5hc2EuZ292L2RzcGFjZS9oYW5kbGUvMjAxNC80MDQwOVxuICpcbiAqIFJldHVybnM6XG4gKiB7ZmxvYXR9IFRoZSBhcHByb3hpbWF0ZSBzaWduZWQgZ2VvZGVzaWMgYXJlYSBvZiB0aGUgcG9seWdvbiBpbiBzcXVhcmVcbiAqICAgICBtZXRlcnMuXG4gKi9cblxuZnVuY3Rpb24gcmluZ0FyZWEoY29vcmRzKSB7XG4gICAgdmFyIHAxLCBwMiwgcDMsIGxvd2VySW5kZXgsIG1pZGRsZUluZGV4LCB1cHBlckluZGV4LCBpLFxuICAgIGFyZWEgPSAwLFxuICAgIGNvb3Jkc0xlbmd0aCA9IGNvb3Jkcy5sZW5ndGg7XG5cbiAgICBpZiAoY29vcmRzTGVuZ3RoID4gMikge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09PSBjb29yZHNMZW5ndGggLSAyKSB7Ly8gaSA9IE4tMlxuICAgICAgICAgICAgICAgIGxvd2VySW5kZXggPSBjb29yZHNMZW5ndGggLSAyO1xuICAgICAgICAgICAgICAgIG1pZGRsZUluZGV4ID0gY29vcmRzTGVuZ3RoIC0xO1xuICAgICAgICAgICAgICAgIHVwcGVySW5kZXggPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpID09PSBjb29yZHNMZW5ndGggLSAxKSB7Ly8gaSA9IE4tMVxuICAgICAgICAgICAgICAgIGxvd2VySW5kZXggPSBjb29yZHNMZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIG1pZGRsZUluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB1cHBlckluZGV4ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGkgPSAwIHRvIE4tM1xuICAgICAgICAgICAgICAgIGxvd2VySW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIG1pZGRsZUluZGV4ID0gaSsxO1xuICAgICAgICAgICAgICAgIHVwcGVySW5kZXggPSBpKzI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwMSA9IGNvb3Jkc1tsb3dlckluZGV4XTtcbiAgICAgICAgICAgIHAyID0gY29vcmRzW21pZGRsZUluZGV4XTtcbiAgICAgICAgICAgIHAzID0gY29vcmRzW3VwcGVySW5kZXhdO1xuICAgICAgICAgICAgYXJlYSArPSAoIHJhZChwM1swXSkgLSByYWQocDFbMF0pICkgKiBNYXRoLnNpbiggcmFkKHAyWzFdKSk7XG4gICAgICAgIH1cblxuICAgICAgICBhcmVhID0gYXJlYSAqIHdnczg0LlJBRElVUyAqIHdnczg0LlJBRElVUyAvIDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyZWE7XG59XG5cbmZ1bmN0aW9uIHJhZChfKSB7XG4gICAgcmV0dXJuIF8gKiBNYXRoLlBJIC8gMTgwO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/geojson-area/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/geojson-normalize/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@mapbox/geojson-normalize/index.js ***!
  \*********************************************************/
/***/ ((module) => {

eval("module.exports = normalize;\n\nvar types = {\n    Point: 'geometry',\n    MultiPoint: 'geometry',\n    LineString: 'geometry',\n    MultiLineString: 'geometry',\n    Polygon: 'geometry',\n    MultiPolygon: 'geometry',\n    GeometryCollection: 'geometry',\n    Feature: 'feature',\n    FeatureCollection: 'featurecollection'\n};\n\n/**\n * Normalize a GeoJSON feature into a FeatureCollection.\n *\n * @param {object} gj geojson data\n * @returns {object} normalized geojson data\n */\nfunction normalize(gj) {\n    if (!gj || !gj.type) return null;\n    var type = types[gj.type];\n    if (!type) return null;\n\n    if (type === 'geometry') {\n        return {\n            type: 'FeatureCollection',\n            features: [{\n                type: 'Feature',\n                properties: {},\n                geometry: gj\n            }]\n        };\n    } else if (type === 'feature') {\n        return {\n            type: 'FeatureCollection',\n            features: [gj]\n        };\n    } else if (type === 'featurecollection') {\n        return gj;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9nZW9qc29uLW5vcm1hbGl6ZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9nZW9qc29uLW5vcm1hbGl6ZS9pbmRleC5qcz84ZWMzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gbm9ybWFsaXplO1xuXG52YXIgdHlwZXMgPSB7XG4gICAgUG9pbnQ6ICdnZW9tZXRyeScsXG4gICAgTXVsdGlQb2ludDogJ2dlb21ldHJ5JyxcbiAgICBMaW5lU3RyaW5nOiAnZ2VvbWV0cnknLFxuICAgIE11bHRpTGluZVN0cmluZzogJ2dlb21ldHJ5JyxcbiAgICBQb2x5Z29uOiAnZ2VvbWV0cnknLFxuICAgIE11bHRpUG9seWdvbjogJ2dlb21ldHJ5JyxcbiAgICBHZW9tZXRyeUNvbGxlY3Rpb246ICdnZW9tZXRyeScsXG4gICAgRmVhdHVyZTogJ2ZlYXR1cmUnLFxuICAgIEZlYXR1cmVDb2xsZWN0aW9uOiAnZmVhdHVyZWNvbGxlY3Rpb24nXG59O1xuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIEdlb0pTT04gZmVhdHVyZSBpbnRvIGEgRmVhdHVyZUNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGdqIGdlb2pzb24gZGF0YVxuICogQHJldHVybnMge29iamVjdH0gbm9ybWFsaXplZCBnZW9qc29uIGRhdGFcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplKGdqKSB7XG4gICAgaWYgKCFnaiB8fCAhZ2oudHlwZSkgcmV0dXJuIG51bGw7XG4gICAgdmFyIHR5cGUgPSB0eXBlc1tnai50eXBlXTtcbiAgICBpZiAoIXR5cGUpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKHR5cGUgPT09ICdnZW9tZXRyeScpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICAgICAgICBmZWF0dXJlczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6IGdqXG4gICAgICAgICAgICB9XVxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ZlYXR1cmUnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgZmVhdHVyZXM6IFtnal1cbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdmZWF0dXJlY29sbGVjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGdqO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/geojson-normalize/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/events.js":
/*!***************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/lib/events.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nvar nanoid = (__webpack_require__(/*! nanoid */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/node_modules/nanoid/index.cjs\").nanoid);\n\n/**\n * Construct a new mapbox event client to send interaction events to the mapbox event service\n * @param {Object} options options with which to create the service\n * @param {String} options.accessToken the mapbox access token to make requests\n * @param {Number} [options.flushInterval=1000] the number of ms after which to flush the event queue\n * @param {Number} [options.maxQueueSize=100] the number of events to queue before flushing\n * @private\n */\nfunction MapboxEventManager(options) {\n  this.origin = options.origin || 'https://api.mapbox.com';\n  this.endpoint = 'events/v2';\n  this.access_token = options.accessToken;\n  this.version = '0.3.0'\n  this.pluginSessionID = this.generateSessionID();\n  this.sessionIncrementer = 0;\n  this.userAgent = this.getUserAgent();\n\n  this.options = options;\n  this.send = this.send.bind(this);\n\n\n  // parse global options to be sent with each request\n  this.countries = (options.countries) ? options.countries.split(\",\") : null;\n  this.types = (options.types) ? options.types.split(\",\") : null;\n  this.bbox = (options.bbox) ? options.bbox : null;\n  this.language = (options.language) ? options.language.split(\",\") : null;\n  this.limit = (options.limit) ? +options.limit : null;\n  this.locale = navigator.language || null;\n  this.enableEventLogging = this.shouldEnableLogging(options);\n  this.eventQueue = new Array();\n  this.flushInterval = options.flushInterval || 1000;\n  this.maxQueueSize = options.maxQueueSize || 100;\n  this.timer = (this.flushInterval) ? setTimeout(this.flush.bind(this), this.flushInterval) : null;\n  // keep some state to deduplicate requests if necessary\n  this.lastSentInput = \"\";\n  this.lastSentIndex = 0;\n}\n\nMapboxEventManager.prototype = {\n  /**\n     * Send a search.select event to the mapbox events service\n     * This event marks the array index of the item selected by the user out of the array of possible options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  select: function(selected, geocoder){\n    var payload = this.getEventPayload('search.select', geocoder, { selectedFeature: selected });\n    if (!payload) return; // reject malformed event\n    if ((payload.resultIndex === this.lastSentIndex && payload.queryString === this.lastSentInput) || payload.resultIndex == -1) {\n      // don't log duplicate events if the user re-selected the same feature on the same search\n      return;\n    }\n    this.lastSentIndex = payload.resultIndex;\n    this.lastSentInput = payload.queryString;\n    return this.push(payload)\n  },\n\n  /**\n     * Send a search-start event to the mapbox events service\n     * This turnstile event marks when a user starts a new search\n     * @private\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  start: function(geocoder){\n    var payload = this.getEventPayload('search.start', geocoder);\n    if (!payload) return; // reject malformed event\n    return this.push(payload);\n  },\n\n  /**\n   * Send a search-keyevent event to the mapbox events service\n   * This event records each keypress in sequence\n   * @private\n   * @param {Object} keyEvent the keydown event to log\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * \n   */\n  keyevent: function(keyEvent, geocoder){\n\n    //pass invalid event\n    if (!keyEvent.key) return;\n    // don't send events for keys that don't change the input\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if (keyEvent.metaKey || [9, 27, 37, 39, 13, 38, 40].indexOf(keyEvent.keyCode) !== -1) return;\n    var payload = this.getEventPayload('search.keystroke', geocoder, { key: keyEvent.key });\n    if (!payload) return; // reject malformed event\n    return this.push(payload);\n  },\n\n  /**\n   * Send an event to the events service\n   *\n   * The event is skipped if the instance is not enabled to send logging events\n   *\n   * @private\n   * @param {Object} payload the http POST body of the event\n   * @param {Function} [callback] a callback function to invoke when the send has completed\n   * @returns {Promise}\n   */\n  send: function (payload, callback) {\n    if (!this.enableEventLogging) {\n      if (callback) return callback();\n      return;\n    }\n    var options = this.getRequestOptions(payload);\n    this.request(options, function(err){\n      if (err) return this.handleError(err, callback);\n      if (callback) {\n        return callback();\n      }\n    }.bind(this))\n  },\n  /**\n   * Get http request options\n   * @private\n   * @param {*} payload\n   */\n  getRequestOptions: function(payload){\n    if (!Array.isArray(payload)) payload = [payload];\n    var options = {\n      // events must be sent with POST\n      method: \"POST\",\n      host: this.origin,\n      path: this.endpoint +  \"?access_token=\" + this.access_token,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body:JSON.stringify(payload) //events are arrays\n    }\n    return options\n  },\n\n  /**\n   * Get the event payload to send to the events service\n   * Most payload properties are shared across all events\n   * @private\n   * @param {String} event the name of the event to send to the events service. Valid options are 'search.start', 'search.select', 'search.feedback'.\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * @param {Object} eventArgs Additional arguments needed for certain event types\n   * @param {Object} eventArgs.key The key pressed by the user\n   * @param {Object} eventArgs.selectedFeature GeoJSON Feature selected by the user\n   * @returns {Object} an event payload\n   */\n  getEventPayload: function (event, geocoder, eventArgs = {}) {\n    // Make sure required arguments are present for certain event types\n    if (\n      (event === 'search.select' && !eventArgs.selectedFeature) ||\n      (event === 'search.keystroke' && !eventArgs.key)\n    ) {\n      return null;\n    }\n\n    // Handle proximity, whether null, lat/lng coordinate object, or 'ip'\n    var proximity;\n    if (!geocoder.options.proximity) {\n      proximity = null;\n    } else if (typeof geocoder.options.proximity === 'object') {\n      proximity = [geocoder.options.proximity.longitude, geocoder.options.proximity.latitude];\n    } else if (geocoder.options.proximity === 'ip') {\n      var ipProximityHeader = geocoder._headers ? geocoder._headers['ip-proximity'] : null;\n      if (ipProximityHeader && typeof ipProximityHeader === 'string') {\n        proximity = ipProximityHeader.split(',').map(parseFloat);\n      } else {\n        proximity = [999,999];  // Alias for 'ip' in event logs\n      }\n    } else {\n      proximity = geocoder.options.proximity;\n    }\n\n    var zoom = (geocoder._map) ? geocoder._map.getZoom() : undefined;\n    var payload = {\n      event: event,\n      version: this.getEventSchemaVersion(event),\n      created: +new Date(),\n      sessionIdentifier: this.getSessionId(),\n      country: this.countries,\n      userAgent: this.userAgent,\n      language: this.language,\n      bbox: this.bbox,\n      types: this.types,\n      endpoint: 'mapbox.places',\n      autocomplete: geocoder.options.autocomplete,\n      fuzzyMatch: geocoder.options.fuzzyMatch,\n      proximity: proximity,\n      limit: geocoder.options.limit,\n      routing: geocoder.options.routing,\n      worldview: geocoder.options.worldview,\n      mapZoom: zoom,\n      keyboardLocale: this.locale\n    }\n\n    // get the text in the search bar\n    if (event === \"search.select\"){\n      payload.queryString = geocoder.inputString;\n    } else if (event != \"search.select\" && geocoder._inputEl){\n      payload.queryString = geocoder._inputEl.value;\n    } else {\n      payload.queryString = geocoder.inputString;\n    }\n\n    // add additional properties for certain event types\n    if (['search.keystroke', 'search.select'].includes(event)) {\n      payload.path = 'geocoding/v5/mapbox.places';\n    }\n    if (event === 'search.keystroke' && eventArgs.key) {\n      payload.lastAction = eventArgs.key;\n    } else if (event === 'search.select' && eventArgs.selectedFeature) {\n      var selected = eventArgs.selectedFeature;\n      var resultIndex = this.getSelectedIndex(selected, geocoder);\n      payload.resultIndex = resultIndex;\n      payload.resultPlaceName = selected.place_name;\n      payload.resultId = selected.id;\n      if (selected.properties) {\n        payload.resultMapboxId = selected.properties.mapbox_id;\n      }\n      if (geocoder._typeahead) {\n        var results = geocoder._typeahead.data;\n        if (results && results.length > 0) {\n          payload.suggestionIds = this.getSuggestionIds(results);\n          payload.suggestionNames = this.getSuggestionNames(results);\n          payload.suggestionTypes = this.getSuggestionTypes(results);\n          payload.suggestionSources = this.getSuggestionSources(results);\n        }\n      }\n    }\n\n    // Finally, validate that required properties are present for API compatibility\n    if (!this.validatePayload(payload)) {\n      return null;\n    }\n\n    return payload;\n  },\n\n  /**\n   * Wraps the request function for easier testing\n   * Make an http request and invoke a callback\n   * @private\n   * @param {Object} opts options describing the http request to be made\n   * @param {Function} callback the callback to invoke when the http request is completed\n   */\n  request: function (opts, callback) {\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 ) {\n        if (this.status == 204){\n          //success\n          return callback(null);\n        }else {\n          return callback(this.statusText);\n        }\n      }\n    };\n\n    xhttp.open(opts.method, opts.host + '/' + opts.path, true);\n    for (var header in opts.headers){\n      var headerValue = opts.headers[header];\n      xhttp.setRequestHeader(header, headerValue)\n    }\n    xhttp.send(opts.body);\n  },\n\n  /**\n   * Handle an error that occurred while making a request\n   * @param {Object} err an error instance to log\n   * @private\n   */\n  handleError: function (err, callback) {\n    if (callback) return callback(err);\n  },\n\n  /**\n   * Generate a session ID to be returned with all of the searches made by this geocoder instance\n   * ID is random and cannot be tracked across sessions\n   * @private\n   */\n  generateSessionID: function () {\n    return nanoid();\n  },\n\n  /**\n   * Get the a unique session ID for the current plugin session and increment the session counter.\n   *\n   * @returns {String} The session ID\n   */\n  getSessionId: function(){\n    return this.pluginSessionID + '.' + this.sessionIncrementer;\n  },\n\n  /**\n   * Get a user agent string to send with the request to the events service\n   * @private\n   */\n  getUserAgent: function () {\n    return 'mapbox-gl-geocoder.' + this.version + \".\" + navigator.userAgent;\n  },\n\n  /**\n     * Get the 0-based numeric index of the item that the user selected out of the list of options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a Mapbox-GL-Geocoder instance\n     * @returns {Number} the index of the selected result\n     */\n  getSelectedIndex: function(selected, geocoder){\n    if (!geocoder._typeahead) return;\n    var results = geocoder._typeahead.data;\n    var selectedID = selected.id;\n    var resultIDs = results.map(function (feature) {\n      return feature.id;\n    });\n    var selectedIdx = resultIDs.indexOf(selectedID);\n    return selectedIdx;\n  },\n\n  getSuggestionIds: function (results) {\n    return results.map(function (feature) {\n      if (feature.properties) {\n        return feature.properties.mapbox_id || '';\n      }\n      return feature.id || '';\n    });\n  },\n\n  getSuggestionNames: function (results) {\n    return results.map(function (feature) {\n      return feature.place_name || '';\n    });\n  },\n  \n  getSuggestionTypes: function (results) {\n    return results.map(function (feature) {\n      if (feature.place_type && Array.isArray(feature.place_type)) {\n        return feature.place_type[0] || '';\n      }\n      return '';\n    });\n  },\n  \n  getSuggestionSources: function (results) {\n    return results.map(function (feature) {\n      return feature._source || '';\n    });\n  },\n\n  /**\n   * Get the correct schema version for the event\n   * @private\n   * @param {String} event Name of the event\n   * @returns \n   */\n  getEventSchemaVersion: function(event) {\n    if (['search.keystroke', 'search.select'].includes(event)) {\n      return '2.2';\n    } else {\n      return '2.0';\n    }\n  },\n\n  /**\n   * Checks if a payload has all the required properties for the event type\n   * @private\n   * @param {Object} payload \n   * @returns \n   */\n  validatePayload: function(payload) {\n    if (!payload || !payload.event) return false;\n\n    var searchStartRequiredProps = ['event', 'created', 'sessionIdentifier', 'queryString'];\n    var searchKeystrokeRequiredProps = ['event', 'created', 'sessionIdentifier', 'queryString', 'lastAction'];\n    var searchSelectRequiredProps = ['event', 'created', 'sessionIdentifier', 'queryString', 'resultIndex', 'path', 'suggestionIds'];\n\n    var event = payload.event;\n    if (event === 'search.start') {\n      return this.objectHasRequiredProps(payload, searchStartRequiredProps);\n    } else if (event === 'search.keystroke') {\n      return this.objectHasRequiredProps(payload, searchKeystrokeRequiredProps);\n    } else if (event === 'search.select') {\n      return this.objectHasRequiredProps(payload, searchSelectRequiredProps);\n    }\n\n    return true;\n  },\n\n  /**\n   * Checks of an object has all the required properties\n   * @private\n   * @param {Object} obj \n   * @param {Array<String>} requiredProps \n   * @returns \n   */\n  objectHasRequiredProps: function(obj, requiredProps) {\n    return requiredProps.every(function(prop) {\n      if (prop === 'queryString') {\n        return typeof obj[prop] === 'string' && obj[prop].length > 0;\n      }\n      return obj[prop] !== undefined;\n    });\n  },\n\n  /**\n     * Check whether events should be logged\n     * Clients using a localGeocoder or an origin other than mapbox should not have events logged\n     * @private\n     */\n  shouldEnableLogging: function(options){\n    if (options.enableEventLogging === false) return false;\n    if (options.origin && options.origin !== 'https://api.mapbox.com') return false;\n    return true;\n  },\n\n  /**\n   * Flush out the event queue by sending events to the events service\n   * @private\n   */\n  flush: function(){\n    if (this.eventQueue.length > 0){\n      this.send(this.eventQueue);\n      this.eventQueue = new Array();\n    }\n    // //reset the timer\n    if (this.timer)  clearTimeout(this.timer);\n    if (this.flushInterval) this.timer = setTimeout(this.flush.bind(this), this.flushInterval)\n  },\n\n  /**\n   * Push event into the pending queue\n   * @param {Object} evt the event to send to the events service\n   * @param {Boolean} forceFlush indicates that the event queue should be flushed after adding this event regardless of size of the queue\n   * @private\n   */\n  push: function(evt, forceFlush){\n    this.eventQueue.push(evt);\n    if (this.eventQueue.length >= this.maxQueueSize || forceFlush){\n      this.flush();\n    }\n  },\n\n  /**\n   * Flush any remaining events from the queue before it is removed\n   * @private\n   */\n  remove: function(){\n    this.flush();\n  }\n}\n\n\n\nmodule.exports = MapboxEventManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbGliL2V2ZW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLGFBQWEsMkhBQXdCOztBQUVyQztBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esb0VBQW9FLDJCQUEyQjtBQUMvRiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxtQkFBbUI7QUFDMUYsMEJBQTBCO0FBQzFCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixlQUFlLFFBQVE7QUFDdkI7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLGdDQUFnQztBQUNoQztBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbGliL2V2ZW50cy5qcz9lZjlkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBuYW5vaWQgPSByZXF1aXJlKCduYW5vaWQnKS5uYW5vaWQ7XG5cbi8qKlxuICogQ29uc3RydWN0IGEgbmV3IG1hcGJveCBldmVudCBjbGllbnQgdG8gc2VuZCBpbnRlcmFjdGlvbiBldmVudHMgdG8gdGhlIG1hcGJveCBldmVudCBzZXJ2aWNlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBvcHRpb25zIHdpdGggd2hpY2ggdG8gY3JlYXRlIHRoZSBzZXJ2aWNlXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5hY2Nlc3NUb2tlbiB0aGUgbWFwYm94IGFjY2VzcyB0b2tlbiB0byBtYWtlIHJlcXVlc3RzXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZmx1c2hJbnRlcnZhbD0xMDAwXSB0aGUgbnVtYmVyIG9mIG1zIGFmdGVyIHdoaWNoIHRvIGZsdXNoIHRoZSBldmVudCBxdWV1ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFF1ZXVlU2l6ZT0xMDBdIHRoZSBudW1iZXIgb2YgZXZlbnRzIHRvIHF1ZXVlIGJlZm9yZSBmbHVzaGluZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gTWFwYm94RXZlbnRNYW5hZ2VyKG9wdGlvbnMpIHtcbiAgdGhpcy5vcmlnaW4gPSBvcHRpb25zLm9yaWdpbiB8fCAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbSc7XG4gIHRoaXMuZW5kcG9pbnQgPSAnZXZlbnRzL3YyJztcbiAgdGhpcy5hY2Nlc3NfdG9rZW4gPSBvcHRpb25zLmFjY2Vzc1Rva2VuO1xuICB0aGlzLnZlcnNpb24gPSAnMC4zLjAnXG4gIHRoaXMucGx1Z2luU2Vzc2lvbklEID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JRCgpO1xuICB0aGlzLnNlc3Npb25JbmNyZW1lbnRlciA9IDA7XG4gIHRoaXMudXNlckFnZW50ID0gdGhpcy5nZXRVc2VyQWdlbnQoKTtcblxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLnNlbmQgPSB0aGlzLnNlbmQuYmluZCh0aGlzKTtcblxuXG4gIC8vIHBhcnNlIGdsb2JhbCBvcHRpb25zIHRvIGJlIHNlbnQgd2l0aCBlYWNoIHJlcXVlc3RcbiAgdGhpcy5jb3VudHJpZXMgPSAob3B0aW9ucy5jb3VudHJpZXMpID8gb3B0aW9ucy5jb3VudHJpZXMuc3BsaXQoXCIsXCIpIDogbnVsbDtcbiAgdGhpcy50eXBlcyA9IChvcHRpb25zLnR5cGVzKSA/IG9wdGlvbnMudHlwZXMuc3BsaXQoXCIsXCIpIDogbnVsbDtcbiAgdGhpcy5iYm94ID0gKG9wdGlvbnMuYmJveCkgPyBvcHRpb25zLmJib3ggOiBudWxsO1xuICB0aGlzLmxhbmd1YWdlID0gKG9wdGlvbnMubGFuZ3VhZ2UpID8gb3B0aW9ucy5sYW5ndWFnZS5zcGxpdChcIixcIikgOiBudWxsO1xuICB0aGlzLmxpbWl0ID0gKG9wdGlvbnMubGltaXQpID8gK29wdGlvbnMubGltaXQgOiBudWxsO1xuICB0aGlzLmxvY2FsZSA9IG5hdmlnYXRvci5sYW5ndWFnZSB8fCBudWxsO1xuICB0aGlzLmVuYWJsZUV2ZW50TG9nZ2luZyA9IHRoaXMuc2hvdWxkRW5hYmxlTG9nZ2luZyhvcHRpb25zKTtcbiAgdGhpcy5ldmVudFF1ZXVlID0gbmV3IEFycmF5KCk7XG4gIHRoaXMuZmx1c2hJbnRlcnZhbCA9IG9wdGlvbnMuZmx1c2hJbnRlcnZhbCB8fCAxMDAwO1xuICB0aGlzLm1heFF1ZXVlU2l6ZSA9IG9wdGlvbnMubWF4UXVldWVTaXplIHx8IDEwMDtcbiAgdGhpcy50aW1lciA9ICh0aGlzLmZsdXNoSW50ZXJ2YWwpID8gc2V0VGltZW91dCh0aGlzLmZsdXNoLmJpbmQodGhpcyksIHRoaXMuZmx1c2hJbnRlcnZhbCkgOiBudWxsO1xuICAvLyBrZWVwIHNvbWUgc3RhdGUgdG8gZGVkdXBsaWNhdGUgcmVxdWVzdHMgaWYgbmVjZXNzYXJ5XG4gIHRoaXMubGFzdFNlbnRJbnB1dCA9IFwiXCI7XG4gIHRoaXMubGFzdFNlbnRJbmRleCA9IDA7XG59XG5cbk1hcGJveEV2ZW50TWFuYWdlci5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgICAqIFNlbmQgYSBzZWFyY2guc2VsZWN0IGV2ZW50IHRvIHRoZSBtYXBib3ggZXZlbnRzIHNlcnZpY2VcbiAgICAgKiBUaGlzIGV2ZW50IG1hcmtzIHRoZSBhcnJheSBpbmRleCBvZiB0aGUgaXRlbSBzZWxlY3RlZCBieSB0aGUgdXNlciBvdXQgb2YgdGhlIGFycmF5IG9mIHBvc3NpYmxlIG9wdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWxlY3RlZCB0aGUgZ2VvanNvbiBmZWF0dXJlIHNlbGVjdGVkIGJ5IHRoZSB1c2VyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGdlb2NvZGVyIGEgbWFwYm94LWdsLWdlb2NvZGVyIGluc3RhbmNlXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gIHNlbGVjdDogZnVuY3Rpb24oc2VsZWN0ZWQsIGdlb2NvZGVyKXtcbiAgICB2YXIgcGF5bG9hZCA9IHRoaXMuZ2V0RXZlbnRQYXlsb2FkKCdzZWFyY2guc2VsZWN0JywgZ2VvY29kZXIsIHsgc2VsZWN0ZWRGZWF0dXJlOiBzZWxlY3RlZCB9KTtcbiAgICBpZiAoIXBheWxvYWQpIHJldHVybjsgLy8gcmVqZWN0IG1hbGZvcm1lZCBldmVudFxuICAgIGlmICgocGF5bG9hZC5yZXN1bHRJbmRleCA9PT0gdGhpcy5sYXN0U2VudEluZGV4ICYmIHBheWxvYWQucXVlcnlTdHJpbmcgPT09IHRoaXMubGFzdFNlbnRJbnB1dCkgfHwgcGF5bG9hZC5yZXN1bHRJbmRleCA9PSAtMSkge1xuICAgICAgLy8gZG9uJ3QgbG9nIGR1cGxpY2F0ZSBldmVudHMgaWYgdGhlIHVzZXIgcmUtc2VsZWN0ZWQgdGhlIHNhbWUgZmVhdHVyZSBvbiB0aGUgc2FtZSBzZWFyY2hcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sYXN0U2VudEluZGV4ID0gcGF5bG9hZC5yZXN1bHRJbmRleDtcbiAgICB0aGlzLmxhc3RTZW50SW5wdXQgPSBwYXlsb2FkLnF1ZXJ5U3RyaW5nO1xuICAgIHJldHVybiB0aGlzLnB1c2gocGF5bG9hZClcbiAgfSxcblxuICAvKipcbiAgICAgKiBTZW5kIGEgc2VhcmNoLXN0YXJ0IGV2ZW50IHRvIHRoZSBtYXBib3ggZXZlbnRzIHNlcnZpY2VcbiAgICAgKiBUaGlzIHR1cm5zdGlsZSBldmVudCBtYXJrcyB3aGVuIGEgdXNlciBzdGFydHMgYSBuZXcgc2VhcmNoXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZ2VvY29kZXIgYSBtYXBib3gtZ2wtZ2VvY29kZXIgaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgc3RhcnQ6IGZ1bmN0aW9uKGdlb2NvZGVyKXtcbiAgICB2YXIgcGF5bG9hZCA9IHRoaXMuZ2V0RXZlbnRQYXlsb2FkKCdzZWFyY2guc3RhcnQnLCBnZW9jb2Rlcik7XG4gICAgaWYgKCFwYXlsb2FkKSByZXR1cm47IC8vIHJlamVjdCBtYWxmb3JtZWQgZXZlbnRcbiAgICByZXR1cm4gdGhpcy5wdXNoKHBheWxvYWQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZW5kIGEgc2VhcmNoLWtleWV2ZW50IGV2ZW50IHRvIHRoZSBtYXBib3ggZXZlbnRzIHNlcnZpY2VcbiAgICogVGhpcyBldmVudCByZWNvcmRzIGVhY2gga2V5cHJlc3MgaW4gc2VxdWVuY2VcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGtleUV2ZW50IHRoZSBrZXlkb3duIGV2ZW50IHRvIGxvZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gZ2VvY29kZXIgYSBtYXBib3gtZ2wtZ2VvY29kZXIgaW5zdGFuY2VcbiAgICogXG4gICAqL1xuICBrZXlldmVudDogZnVuY3Rpb24oa2V5RXZlbnQsIGdlb2NvZGVyKXtcblxuICAgIC8vcGFzcyBpbnZhbGlkIGV2ZW50XG4gICAgaWYgKCFrZXlFdmVudC5rZXkpIHJldHVybjtcbiAgICAvLyBkb24ndCBzZW5kIGV2ZW50cyBmb3Iga2V5cyB0aGF0IGRvbid0IGNoYW5nZSB0aGUgaW5wdXRcbiAgICAvLyBUQUIsIEVTQywgTEVGVCwgUklHSFQsIEVOVEVSLCBVUCwgRE9XTlxuICAgIGlmIChrZXlFdmVudC5tZXRhS2V5IHx8IFs5LCAyNywgMzcsIDM5LCAxMywgMzgsIDQwXS5pbmRleE9mKGtleUV2ZW50LmtleUNvZGUpICE9PSAtMSkgcmV0dXJuO1xuICAgIHZhciBwYXlsb2FkID0gdGhpcy5nZXRFdmVudFBheWxvYWQoJ3NlYXJjaC5rZXlzdHJva2UnLCBnZW9jb2RlciwgeyBrZXk6IGtleUV2ZW50LmtleSB9KTtcbiAgICBpZiAoIXBheWxvYWQpIHJldHVybjsgLy8gcmVqZWN0IG1hbGZvcm1lZCBldmVudFxuICAgIHJldHVybiB0aGlzLnB1c2gocGF5bG9hZCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlbmQgYW4gZXZlbnQgdG8gdGhlIGV2ZW50cyBzZXJ2aWNlXG4gICAqXG4gICAqIFRoZSBldmVudCBpcyBza2lwcGVkIGlmIHRoZSBpbnN0YW5jZSBpcyBub3QgZW5hYmxlZCB0byBzZW5kIGxvZ2dpbmcgZXZlbnRzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIHRoZSBodHRwIFBPU1QgYm9keSBvZiB0aGUgZXZlbnRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHRoZSBzZW5kIGhhcyBjb21wbGV0ZWRcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBzZW5kOiBmdW5jdGlvbiAocGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlRXZlbnRMb2dnaW5nKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuZ2V0UmVxdWVzdE9wdGlvbnMocGF5bG9hZCk7XG4gICAgdGhpcy5yZXF1ZXN0KG9wdGlvbnMsIGZ1bmN0aW9uKGVycil7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihlcnIsIGNhbGxiYWNrKTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcykpXG4gIH0sXG4gIC8qKlxuICAgKiBHZXQgaHR0cCByZXF1ZXN0IG9wdGlvbnNcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSBwYXlsb2FkXG4gICAqL1xuICBnZXRSZXF1ZXN0T3B0aW9uczogZnVuY3Rpb24ocGF5bG9hZCl7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBheWxvYWQpKSBwYXlsb2FkID0gW3BheWxvYWRdO1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgLy8gZXZlbnRzIG11c3QgYmUgc2VudCB3aXRoIFBPU1RcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBob3N0OiB0aGlzLm9yaWdpbixcbiAgICAgIHBhdGg6IHRoaXMuZW5kcG9pbnQgKyAgXCI/YWNjZXNzX3Rva2VuPVwiICsgdGhpcy5hY2Nlc3NfdG9rZW4sXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH0sXG4gICAgICBib2R5OkpTT04uc3RyaW5naWZ5KHBheWxvYWQpIC8vZXZlbnRzIGFyZSBhcnJheXNcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBldmVudCBwYXlsb2FkIHRvIHNlbmQgdG8gdGhlIGV2ZW50cyBzZXJ2aWNlXG4gICAqIE1vc3QgcGF5bG9hZCBwcm9wZXJ0aWVzIGFyZSBzaGFyZWQgYWNyb3NzIGFsbCBldmVudHNcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IHRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBzZW5kIHRvIHRoZSBldmVudHMgc2VydmljZS4gVmFsaWQgb3B0aW9ucyBhcmUgJ3NlYXJjaC5zdGFydCcsICdzZWFyY2guc2VsZWN0JywgJ3NlYXJjaC5mZWVkYmFjaycuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBnZW9jb2RlciBhIG1hcGJveC1nbC1nZW9jb2RlciBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRBcmdzIEFkZGl0aW9uYWwgYXJndW1lbnRzIG5lZWRlZCBmb3IgY2VydGFpbiBldmVudCB0eXBlc1xuICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRBcmdzLmtleSBUaGUga2V5IHByZXNzZWQgYnkgdGhlIHVzZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50QXJncy5zZWxlY3RlZEZlYXR1cmUgR2VvSlNPTiBGZWF0dXJlIHNlbGVjdGVkIGJ5IHRoZSB1c2VyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGFuIGV2ZW50IHBheWxvYWRcbiAgICovXG4gIGdldEV2ZW50UGF5bG9hZDogZnVuY3Rpb24gKGV2ZW50LCBnZW9jb2RlciwgZXZlbnRBcmdzID0ge30pIHtcbiAgICAvLyBNYWtlIHN1cmUgcmVxdWlyZWQgYXJndW1lbnRzIGFyZSBwcmVzZW50IGZvciBjZXJ0YWluIGV2ZW50IHR5cGVzXG4gICAgaWYgKFxuICAgICAgKGV2ZW50ID09PSAnc2VhcmNoLnNlbGVjdCcgJiYgIWV2ZW50QXJncy5zZWxlY3RlZEZlYXR1cmUpIHx8XG4gICAgICAoZXZlbnQgPT09ICdzZWFyY2gua2V5c3Ryb2tlJyAmJiAhZXZlbnRBcmdzLmtleSlcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm94aW1pdHksIHdoZXRoZXIgbnVsbCwgbGF0L2xuZyBjb29yZGluYXRlIG9iamVjdCwgb3IgJ2lwJ1xuICAgIHZhciBwcm94aW1pdHk7XG4gICAgaWYgKCFnZW9jb2Rlci5vcHRpb25zLnByb3hpbWl0eSkge1xuICAgICAgcHJveGltaXR5ID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBnZW9jb2Rlci5vcHRpb25zLnByb3hpbWl0eSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHByb3hpbWl0eSA9IFtnZW9jb2Rlci5vcHRpb25zLnByb3hpbWl0eS5sb25naXR1ZGUsIGdlb2NvZGVyLm9wdGlvbnMucHJveGltaXR5LmxhdGl0dWRlXTtcbiAgICB9IGVsc2UgaWYgKGdlb2NvZGVyLm9wdGlvbnMucHJveGltaXR5ID09PSAnaXAnKSB7XG4gICAgICB2YXIgaXBQcm94aW1pdHlIZWFkZXIgPSBnZW9jb2Rlci5faGVhZGVycyA/IGdlb2NvZGVyLl9oZWFkZXJzWydpcC1wcm94aW1pdHknXSA6IG51bGw7XG4gICAgICBpZiAoaXBQcm94aW1pdHlIZWFkZXIgJiYgdHlwZW9mIGlwUHJveGltaXR5SGVhZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgICBwcm94aW1pdHkgPSBpcFByb3hpbWl0eUhlYWRlci5zcGxpdCgnLCcpLm1hcChwYXJzZUZsb2F0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3hpbWl0eSA9IFs5OTksOTk5XTsgIC8vIEFsaWFzIGZvciAnaXAnIGluIGV2ZW50IGxvZ3NcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcHJveGltaXR5ID0gZ2VvY29kZXIub3B0aW9ucy5wcm94aW1pdHk7XG4gICAgfVxuXG4gICAgdmFyIHpvb20gPSAoZ2VvY29kZXIuX21hcCkgPyBnZW9jb2Rlci5fbWFwLmdldFpvb20oKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgcGF5bG9hZCA9IHtcbiAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgIHZlcnNpb246IHRoaXMuZ2V0RXZlbnRTY2hlbWFWZXJzaW9uKGV2ZW50KSxcbiAgICAgIGNyZWF0ZWQ6ICtuZXcgRGF0ZSgpLFxuICAgICAgc2Vzc2lvbklkZW50aWZpZXI6IHRoaXMuZ2V0U2Vzc2lvbklkKCksXG4gICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cmllcyxcbiAgICAgIHVzZXJBZ2VudDogdGhpcy51c2VyQWdlbnQsXG4gICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZSxcbiAgICAgIGJib3g6IHRoaXMuYmJveCxcbiAgICAgIHR5cGVzOiB0aGlzLnR5cGVzLFxuICAgICAgZW5kcG9pbnQ6ICdtYXBib3gucGxhY2VzJyxcbiAgICAgIGF1dG9jb21wbGV0ZTogZ2VvY29kZXIub3B0aW9ucy5hdXRvY29tcGxldGUsXG4gICAgICBmdXp6eU1hdGNoOiBnZW9jb2Rlci5vcHRpb25zLmZ1enp5TWF0Y2gsXG4gICAgICBwcm94aW1pdHk6IHByb3hpbWl0eSxcbiAgICAgIGxpbWl0OiBnZW9jb2Rlci5vcHRpb25zLmxpbWl0LFxuICAgICAgcm91dGluZzogZ2VvY29kZXIub3B0aW9ucy5yb3V0aW5nLFxuICAgICAgd29ybGR2aWV3OiBnZW9jb2Rlci5vcHRpb25zLndvcmxkdmlldyxcbiAgICAgIG1hcFpvb206IHpvb20sXG4gICAgICBrZXlib2FyZExvY2FsZTogdGhpcy5sb2NhbGVcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIHRleHQgaW4gdGhlIHNlYXJjaCBiYXJcbiAgICBpZiAoZXZlbnQgPT09IFwic2VhcmNoLnNlbGVjdFwiKXtcbiAgICAgIHBheWxvYWQucXVlcnlTdHJpbmcgPSBnZW9jb2Rlci5pbnB1dFN0cmluZztcbiAgICB9IGVsc2UgaWYgKGV2ZW50ICE9IFwic2VhcmNoLnNlbGVjdFwiICYmIGdlb2NvZGVyLl9pbnB1dEVsKXtcbiAgICAgIHBheWxvYWQucXVlcnlTdHJpbmcgPSBnZW9jb2Rlci5faW5wdXRFbC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF5bG9hZC5xdWVyeVN0cmluZyA9IGdlb2NvZGVyLmlucHV0U3RyaW5nO1xuICAgIH1cblxuICAgIC8vIGFkZCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgZm9yIGNlcnRhaW4gZXZlbnQgdHlwZXNcbiAgICBpZiAoWydzZWFyY2gua2V5c3Ryb2tlJywgJ3NlYXJjaC5zZWxlY3QnXS5pbmNsdWRlcyhldmVudCkpIHtcbiAgICAgIHBheWxvYWQucGF0aCA9ICdnZW9jb2RpbmcvdjUvbWFwYm94LnBsYWNlcyc7XG4gICAgfVxuICAgIGlmIChldmVudCA9PT0gJ3NlYXJjaC5rZXlzdHJva2UnICYmIGV2ZW50QXJncy5rZXkpIHtcbiAgICAgIHBheWxvYWQubGFzdEFjdGlvbiA9IGV2ZW50QXJncy5rZXk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ3NlYXJjaC5zZWxlY3QnICYmIGV2ZW50QXJncy5zZWxlY3RlZEZlYXR1cmUpIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IGV2ZW50QXJncy5zZWxlY3RlZEZlYXR1cmU7XG4gICAgICB2YXIgcmVzdWx0SW5kZXggPSB0aGlzLmdldFNlbGVjdGVkSW5kZXgoc2VsZWN0ZWQsIGdlb2NvZGVyKTtcbiAgICAgIHBheWxvYWQucmVzdWx0SW5kZXggPSByZXN1bHRJbmRleDtcbiAgICAgIHBheWxvYWQucmVzdWx0UGxhY2VOYW1lID0gc2VsZWN0ZWQucGxhY2VfbmFtZTtcbiAgICAgIHBheWxvYWQucmVzdWx0SWQgPSBzZWxlY3RlZC5pZDtcbiAgICAgIGlmIChzZWxlY3RlZC5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIHBheWxvYWQucmVzdWx0TWFwYm94SWQgPSBzZWxlY3RlZC5wcm9wZXJ0aWVzLm1hcGJveF9pZDtcbiAgICAgIH1cbiAgICAgIGlmIChnZW9jb2Rlci5fdHlwZWFoZWFkKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gZ2VvY29kZXIuX3R5cGVhaGVhZC5kYXRhO1xuICAgICAgICBpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwYXlsb2FkLnN1Z2dlc3Rpb25JZHMgPSB0aGlzLmdldFN1Z2dlc3Rpb25JZHMocmVzdWx0cyk7XG4gICAgICAgICAgcGF5bG9hZC5zdWdnZXN0aW9uTmFtZXMgPSB0aGlzLmdldFN1Z2dlc3Rpb25OYW1lcyhyZXN1bHRzKTtcbiAgICAgICAgICBwYXlsb2FkLnN1Z2dlc3Rpb25UeXBlcyA9IHRoaXMuZ2V0U3VnZ2VzdGlvblR5cGVzKHJlc3VsdHMpO1xuICAgICAgICAgIHBheWxvYWQuc3VnZ2VzdGlvblNvdXJjZXMgPSB0aGlzLmdldFN1Z2dlc3Rpb25Tb3VyY2VzKHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmluYWxseSwgdmFsaWRhdGUgdGhhdCByZXF1aXJlZCBwcm9wZXJ0aWVzIGFyZSBwcmVzZW50IGZvciBBUEkgY29tcGF0aWJpbGl0eVxuICAgIGlmICghdGhpcy52YWxpZGF0ZVBheWxvYWQocGF5bG9hZCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBwYXlsb2FkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBXcmFwcyB0aGUgcmVxdWVzdCBmdW5jdGlvbiBmb3IgZWFzaWVyIHRlc3RpbmdcbiAgICogTWFrZSBhbiBodHRwIHJlcXVlc3QgYW5kIGludm9rZSBhIGNhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIG9wdGlvbnMgZGVzY3JpYmluZyB0aGUgaHR0cCByZXF1ZXN0IHRvIGJlIG1hZGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHRvIGludm9rZSB3aGVuIHRoZSBodHRwIHJlcXVlc3QgaXMgY29tcGxldGVkXG4gICAqL1xuICByZXF1ZXN0OiBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCApIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwNCl7XG4gICAgICAgICAgLy9zdWNjZXNzXG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHRoaXMuc3RhdHVzVGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgeGh0dHAub3BlbihvcHRzLm1ldGhvZCwgb3B0cy5ob3N0ICsgJy8nICsgb3B0cy5wYXRoLCB0cnVlKTtcbiAgICBmb3IgKHZhciBoZWFkZXIgaW4gb3B0cy5oZWFkZXJzKXtcbiAgICAgIHZhciBoZWFkZXJWYWx1ZSA9IG9wdHMuaGVhZGVyc1toZWFkZXJdO1xuICAgICAgeGh0dHAuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIsIGhlYWRlclZhbHVlKVxuICAgIH1cbiAgICB4aHR0cC5zZW5kKG9wdHMuYm9keSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhbiBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIG1ha2luZyBhIHJlcXVlc3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGVyciBhbiBlcnJvciBpbnN0YW5jZSB0byBsb2dcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUVycm9yOiBmdW5jdGlvbiAoZXJyLCBjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjaykgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgc2Vzc2lvbiBJRCB0byBiZSByZXR1cm5lZCB3aXRoIGFsbCBvZiB0aGUgc2VhcmNoZXMgbWFkZSBieSB0aGlzIGdlb2NvZGVyIGluc3RhbmNlXG4gICAqIElEIGlzIHJhbmRvbSBhbmQgY2Fubm90IGJlIHRyYWNrZWQgYWNyb3NzIHNlc3Npb25zXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZW5lcmF0ZVNlc3Npb25JRDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuYW5vaWQoKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBhIHVuaXF1ZSBzZXNzaW9uIElEIGZvciB0aGUgY3VycmVudCBwbHVnaW4gc2Vzc2lvbiBhbmQgaW5jcmVtZW50IHRoZSBzZXNzaW9uIGNvdW50ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzZXNzaW9uIElEXG4gICAqL1xuICBnZXRTZXNzaW9uSWQ6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMucGx1Z2luU2Vzc2lvbklEICsgJy4nICsgdGhpcy5zZXNzaW9uSW5jcmVtZW50ZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhIHVzZXIgYWdlbnQgc3RyaW5nIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdCB0byB0aGUgZXZlbnRzIHNlcnZpY2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFVzZXJBZ2VudDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnbWFwYm94LWdsLWdlb2NvZGVyLicgKyB0aGlzLnZlcnNpb24gKyBcIi5cIiArIG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAgICogR2V0IHRoZSAwLWJhc2VkIG51bWVyaWMgaW5kZXggb2YgdGhlIGl0ZW0gdGhhdCB0aGUgdXNlciBzZWxlY3RlZCBvdXQgb2YgdGhlIGxpc3Qgb2Ygb3B0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGVkIHRoZSBnZW9qc29uIGZlYXR1cmUgc2VsZWN0ZWQgYnkgdGhlIHVzZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZ2VvY29kZXIgYSBNYXBib3gtR0wtR2VvY29kZXIgaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgaW5kZXggb2YgdGhlIHNlbGVjdGVkIHJlc3VsdFxuICAgICAqL1xuICBnZXRTZWxlY3RlZEluZGV4OiBmdW5jdGlvbihzZWxlY3RlZCwgZ2VvY29kZXIpe1xuICAgIGlmICghZ2VvY29kZXIuX3R5cGVhaGVhZCkgcmV0dXJuO1xuICAgIHZhciByZXN1bHRzID0gZ2VvY29kZXIuX3R5cGVhaGVhZC5kYXRhO1xuICAgIHZhciBzZWxlY3RlZElEID0gc2VsZWN0ZWQuaWQ7XG4gICAgdmFyIHJlc3VsdElEcyA9IHJlc3VsdHMubWFwKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICByZXR1cm4gZmVhdHVyZS5pZDtcbiAgICB9KTtcbiAgICB2YXIgc2VsZWN0ZWRJZHggPSByZXN1bHRJRHMuaW5kZXhPZihzZWxlY3RlZElEKTtcbiAgICByZXR1cm4gc2VsZWN0ZWRJZHg7XG4gIH0sXG5cbiAgZ2V0U3VnZ2VzdGlvbklkczogZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICByZXR1cm4gcmVzdWx0cy5tYXAoZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmUucHJvcGVydGllcy5tYXBib3hfaWQgfHwgJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmVhdHVyZS5pZCB8fCAnJztcbiAgICB9KTtcbiAgfSxcblxuICBnZXRTdWdnZXN0aW9uTmFtZXM6IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgcmV0dXJuIHJlc3VsdHMubWFwKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICByZXR1cm4gZmVhdHVyZS5wbGFjZV9uYW1lIHx8ICcnO1xuICAgIH0pO1xuICB9LFxuICBcbiAgZ2V0U3VnZ2VzdGlvblR5cGVzOiBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgIHJldHVybiByZXN1bHRzLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgaWYgKGZlYXR1cmUucGxhY2VfdHlwZSAmJiBBcnJheS5pc0FycmF5KGZlYXR1cmUucGxhY2VfdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmUucGxhY2VfdHlwZVswXSB8fCAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9KTtcbiAgfSxcbiAgXG4gIGdldFN1Z2dlc3Rpb25Tb3VyY2VzOiBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgIHJldHVybiByZXN1bHRzLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgcmV0dXJuIGZlYXR1cmUuX3NvdXJjZSB8fCAnJztcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBjb3JyZWN0IHNjaGVtYSB2ZXJzaW9uIGZvciB0aGUgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IE5hbWUgb2YgdGhlIGV2ZW50XG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgZ2V0RXZlbnRTY2hlbWFWZXJzaW9uOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChbJ3NlYXJjaC5rZXlzdHJva2UnLCAnc2VhcmNoLnNlbGVjdCddLmluY2x1ZGVzKGV2ZW50KSkge1xuICAgICAgcmV0dXJuICcyLjInO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJzIuMCc7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBwYXlsb2FkIGhhcyBhbGwgdGhlIHJlcXVpcmVkIHByb3BlcnRpZXMgZm9yIHRoZSBldmVudCB0eXBlXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIFxuICAgKiBAcmV0dXJucyBcbiAgICovXG4gIHZhbGlkYXRlUGF5bG9hZDogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgIGlmICghcGF5bG9hZCB8fCAhcGF5bG9hZC5ldmVudCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIHNlYXJjaFN0YXJ0UmVxdWlyZWRQcm9wcyA9IFsnZXZlbnQnLCAnY3JlYXRlZCcsICdzZXNzaW9uSWRlbnRpZmllcicsICdxdWVyeVN0cmluZyddO1xuICAgIHZhciBzZWFyY2hLZXlzdHJva2VSZXF1aXJlZFByb3BzID0gWydldmVudCcsICdjcmVhdGVkJywgJ3Nlc3Npb25JZGVudGlmaWVyJywgJ3F1ZXJ5U3RyaW5nJywgJ2xhc3RBY3Rpb24nXTtcbiAgICB2YXIgc2VhcmNoU2VsZWN0UmVxdWlyZWRQcm9wcyA9IFsnZXZlbnQnLCAnY3JlYXRlZCcsICdzZXNzaW9uSWRlbnRpZmllcicsICdxdWVyeVN0cmluZycsICdyZXN1bHRJbmRleCcsICdwYXRoJywgJ3N1Z2dlc3Rpb25JZHMnXTtcblxuICAgIHZhciBldmVudCA9IHBheWxvYWQuZXZlbnQ7XG4gICAgaWYgKGV2ZW50ID09PSAnc2VhcmNoLnN0YXJ0Jykge1xuICAgICAgcmV0dXJuIHRoaXMub2JqZWN0SGFzUmVxdWlyZWRQcm9wcyhwYXlsb2FkLCBzZWFyY2hTdGFydFJlcXVpcmVkUHJvcHMpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdzZWFyY2gua2V5c3Ryb2tlJykge1xuICAgICAgcmV0dXJuIHRoaXMub2JqZWN0SGFzUmVxdWlyZWRQcm9wcyhwYXlsb2FkLCBzZWFyY2hLZXlzdHJva2VSZXF1aXJlZFByb3BzKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnc2VhcmNoLnNlbGVjdCcpIHtcbiAgICAgIHJldHVybiB0aGlzLm9iamVjdEhhc1JlcXVpcmVkUHJvcHMocGF5bG9hZCwgc2VhcmNoU2VsZWN0UmVxdWlyZWRQcm9wcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrcyBvZiBhbiBvYmplY3QgaGFzIGFsbCB0aGUgcmVxdWlyZWQgcHJvcGVydGllc1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFxuICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZz59IHJlcXVpcmVkUHJvcHMgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgb2JqZWN0SGFzUmVxdWlyZWRQcm9wczogZnVuY3Rpb24ob2JqLCByZXF1aXJlZFByb3BzKSB7XG4gICAgcmV0dXJuIHJlcXVpcmVkUHJvcHMuZXZlcnkoZnVuY3Rpb24ocHJvcCkge1xuICAgICAgaWYgKHByb3AgPT09ICdxdWVyeVN0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmpbcHJvcF0gPT09ICdzdHJpbmcnICYmIG9ialtwcm9wXS5sZW5ndGggPiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialtwcm9wXSAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgZXZlbnRzIHNob3VsZCBiZSBsb2dnZWRcbiAgICAgKiBDbGllbnRzIHVzaW5nIGEgbG9jYWxHZW9jb2RlciBvciBhbiBvcmlnaW4gb3RoZXIgdGhhbiBtYXBib3ggc2hvdWxkIG5vdCBoYXZlIGV2ZW50cyBsb2dnZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICBzaG91bGRFbmFibGVMb2dnaW5nOiBmdW5jdGlvbihvcHRpb25zKXtcbiAgICBpZiAob3B0aW9ucy5lbmFibGVFdmVudExvZ2dpbmcgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG9wdGlvbnMub3JpZ2luICYmIG9wdGlvbnMub3JpZ2luICE9PSAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbScpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogRmx1c2ggb3V0IHRoZSBldmVudCBxdWV1ZSBieSBzZW5kaW5nIGV2ZW50cyB0byB0aGUgZXZlbnRzIHNlcnZpY2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZsdXNoOiBmdW5jdGlvbigpe1xuICAgIGlmICh0aGlzLmV2ZW50UXVldWUubGVuZ3RoID4gMCl7XG4gICAgICB0aGlzLnNlbmQodGhpcy5ldmVudFF1ZXVlKTtcbiAgICAgIHRoaXMuZXZlbnRRdWV1ZSA9IG5ldyBBcnJheSgpO1xuICAgIH1cbiAgICAvLyAvL3Jlc2V0IHRoZSB0aW1lclxuICAgIGlmICh0aGlzLnRpbWVyKSAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgIGlmICh0aGlzLmZsdXNoSW50ZXJ2YWwpIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuZmx1c2guYmluZCh0aGlzKSwgdGhpcy5mbHVzaEludGVydmFsKVxuICB9LFxuXG4gIC8qKlxuICAgKiBQdXNoIGV2ZW50IGludG8gdGhlIHBlbmRpbmcgcXVldWVcbiAgICogQHBhcmFtIHtPYmplY3R9IGV2dCB0aGUgZXZlbnQgdG8gc2VuZCB0byB0aGUgZXZlbnRzIHNlcnZpY2VcbiAgICogQHBhcmFtIHtCb29sZWFufSBmb3JjZUZsdXNoIGluZGljYXRlcyB0aGF0IHRoZSBldmVudCBxdWV1ZSBzaG91bGQgYmUgZmx1c2hlZCBhZnRlciBhZGRpbmcgdGhpcyBldmVudCByZWdhcmRsZXNzIG9mIHNpemUgb2YgdGhlIHF1ZXVlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwdXNoOiBmdW5jdGlvbihldnQsIGZvcmNlRmx1c2gpe1xuICAgIHRoaXMuZXZlbnRRdWV1ZS5wdXNoKGV2dCk7XG4gICAgaWYgKHRoaXMuZXZlbnRRdWV1ZS5sZW5ndGggPj0gdGhpcy5tYXhRdWV1ZVNpemUgfHwgZm9yY2VGbHVzaCl7XG4gICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGbHVzaCBhbnkgcmVtYWluaW5nIGV2ZW50cyBmcm9tIHRoZSBxdWV1ZSBiZWZvcmUgaXQgaXMgcmVtb3ZlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVtb3ZlOiBmdW5jdGlvbigpe1xuICAgIHRoaXMuZmx1c2goKTtcbiAgfVxufVxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBNYXBib3hFdmVudE1hbmFnZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/exceptions.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/lib/exceptions.js ***!
  \*******************************************************************/
/***/ ((module) => {

eval("module.exports = {\n  'fr': {\n    'name': 'France',\n    'bbox': [[-4.59235, 41.380007], [9.560016, 51.148506]]\n  },\n  'us': {\n    'name': 'United States',\n    'bbox': [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n  },\n  'ru': {\n    'name': 'Russia',\n    'bbox': [[19.66064, 41.151416], [190.10042, 81.2504]]\n  },\n  'ca': {\n    'name': 'Canada',\n    'bbox': [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbGliL2V4Y2VwdGlvbnMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1nZW9jb2Rlci9saWIvZXhjZXB0aW9ucy5qcz9kMWVkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAnZnInOiB7XG4gICAgJ25hbWUnOiAnRnJhbmNlJyxcbiAgICAnYmJveCc6IFtbLTQuNTkyMzUsIDQxLjM4MDAwN10sIFs5LjU2MDAxNiwgNTEuMTQ4NTA2XV1cbiAgfSxcbiAgJ3VzJzoge1xuICAgICduYW1lJzogJ1VuaXRlZCBTdGF0ZXMnLFxuICAgICdiYm94JzogW1stMTcxLjc5MTExMSwgMTguOTE2MTldLCBbLTY2Ljk2NDY2LCA3MS4zNTc3NjRdXVxuICB9LFxuICAncnUnOiB7XG4gICAgJ25hbWUnOiAnUnVzc2lhJyxcbiAgICAnYmJveCc6IFtbMTkuNjYwNjQsIDQxLjE1MTQxNl0sIFsxOTAuMTAwNDIsIDgxLjI1MDRdXVxuICB9LFxuICAnY2EnOiB7XG4gICAgJ25hbWUnOiAnQ2FuYWRhJyxcbiAgICAnYmJveCc6IFtbLTE0MC45OTc3OCwgNDEuNjc1MTA1XSwgWy01Mi42NDgwOTksIDgzLjIzMzI0XV1cbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/exceptions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/geolocation.js":
/*!********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/lib/geolocation.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("function Geolocation() {}\n\nGeolocation.prototype = {\n\n  isSupport: function() {\n    return Boolean(window.navigator.geolocation);\n  },\n\n  getCurrentPosition: function() {\n    const positionOptions = {\n      enableHighAccuracy: true\n    };\n\n    return new Promise(function(resolve, reject) {\n      window.navigator.geolocation.getCurrentPosition(resolve, reject, positionOptions);\n    });\n  },\n}\n\nmodule.exports = Geolocation;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbGliL2dlb2xvY2F0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1nZW9jb2Rlci9saWIvZ2VvbG9jYXRpb24uanM/N2RmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBHZW9sb2NhdGlvbigpIHt9XG5cbkdlb2xvY2F0aW9uLnByb3RvdHlwZSA9IHtcblxuICBpc1N1cHBvcnQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBCb29sZWFuKHdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24pO1xuICB9LFxuXG4gIGdldEN1cnJlbnRQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgcG9zaXRpb25PcHRpb25zID0ge1xuICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHJlc29sdmUsIHJlamVjdCwgcG9zaXRpb25PcHRpb25zKTtcbiAgICB9KTtcbiAgfSxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHZW9sb2NhdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/geolocation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/lib/index.js ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar Typeahead = __webpack_require__(/*! suggestions */ \"(ssr)/./node_modules/suggestions/index.js\");\nvar debounce = __webpack_require__(/*! lodash.debounce */ \"(ssr)/./node_modules/lodash.debounce/index.js\");\nvar extend = __webpack_require__(/*! xtend */ \"(ssr)/./node_modules/xtend/immutable.js\");\nvar EventEmitter = (__webpack_require__(/*! events */ \"events\").EventEmitter);\nvar exceptions = __webpack_require__(/*! ./exceptions */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/exceptions.js\");\nvar MapboxClient = __webpack_require__(/*! @mapbox/mapbox-sdk */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/index.js\");\nvar mbxGeocoder = __webpack_require__(/*! @mapbox/mapbox-sdk/services/geocoding */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/services/geocoding.js\");\nvar MapboxEventManager = __webpack_require__(/*! ./events */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/events.js\");\nvar localization = __webpack_require__(/*! ./localization */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/localization.js\");\nvar subtag = __webpack_require__(/*! subtag */ \"(ssr)/./node_modules/subtag/subtag.js\");\nvar Geolocation = __webpack_require__(/*! ./geolocation */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/geolocation.js\");\nvar utils = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/utils.js\");\n\n\nconst GEOCODE_REQUEST_TYPE = {\n  FORWARD: 0,\n  LOCAL: 1,\n  REVERSE: 2,\n};\n\n/**\n * Don't include this as part of the options object when creating a new MapboxGeocoder instance.\n */\nfunction getFooterNode() {\n  var div = document.createElement('div');\n  div.className = 'mapboxgl-ctrl-geocoder--powered-by';\n  div.innerHTML = '<a href=\"https://www.mapbox.com/search-service\" target=\"_blank\">Powered by Mapbox</a>';\n\n  return div;\n}\n\n/**\n * A geocoder component using the [Mapbox Geocoding API](https://docs.mapbox.com/api/search/#geocoding)\n * @class MapboxGeocoder\n * @param {Object} options\n * @param {String} options.accessToken Required.\n * @param {String} [options.origin=https://api.mapbox.com] Use to set a custom API origin.\n * @param {Object} [options.mapboxgl] A [mapbox-gl](https://github.com/mapbox/mapbox-gl-js) instance to use when creating [Markers](https://docs.mapbox.com/mapbox-gl-js/api/#marker). Required if `options.marker` is `true`.\n * @param {Number} [options.zoom=16] On geocoded result what zoom level should the map animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n * @param {Boolean|Object} [options.flyTo=true] If `false`, animating the map to a selected result is disabled. If `true`, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n * @param {String} [options.placeholder=Search] Override the default placeholder attribute value.\n * @param {Object|'ip'} [options.proximity] a geographical point given as an object with `latitude` and `longitude` properties, or the string 'ip' to use a user's IP address location. Search results closer to this point will be given higher priority.\n * @param {Boolean} [options.trackProximity=true] If `true`, the geocoder proximity will dynamically update based on the current map view or user's IP location, depending on zoom level.\n * @param {Boolean} [options.collapsed=false] If `true`, the geocoder control will collapse until hovered or in focus.\n * @param {Boolean} [options.clearAndBlurOnEsc=false] If `true`, the geocoder control will clear it's contents and blur when user presses the escape key.\n * @param {Boolean} [options.clearOnBlur=false] If `true`, the geocoder control will clear its value when the input blurs.\n * @param {Array} [options.bbox] a bounding box argument: this is\n * a bounding box given as an array in the format `[minX, minY, maxX, maxY]`.\n * Search results will be limited to the bounding box.\n * @param {string} [options.countries] a comma separated list of country codes to\n * limit results to specified country or countries.\n * @param {string} [options.types] a comma seperated list of types that filter\n * results to match those specified. See https://docs.mapbox.com/api/search/#data-types\n * for available types.\n * If reverseGeocode is enabled and no type is specified, the type defaults to POIs. Otherwise, if you configure more than one type, the first type will be used.\n * @param {Number} [options.minLength=2] Minimum number of characters to enter before results are shown.\n * @param {Number} [options.limit=5] Maximum number of results to show.\n * @param {string} [options.language] Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas. Defaults to the browser's language settings.\n * @param {Function} [options.filter] A function which accepts a Feature in the [extended GeoJSON](https://docs.mapbox.com/api/search/geocoding-v5/#geocoding-response-object) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n * @param {Function} [options.localGeocoder] A function accepting the query string which performs local geocoding to supplement results from the Mapbox Geocoding API. Expected to return an Array of GeoJSON Features in the [extended GeoJSON](https://docs.mapbox.com/api/search/geocoding-v5/#geocoding-response-object) format.\n * @param {Function} [options.externalGeocoder] A function accepting the query string and current features list which performs geocoding to supplement results from the Mapbox Geocoding API. Expected to return a Promise which resolves to an Array of GeoJSON Features in the [extended GeoJSON](https://docs.mapbox.com/api/search/geocoding-v5/#geocoding-response-object) format.\n * @param {distance|score} [options.reverseMode=distance] - Set the factors that are used to sort nearby results.\n * @param {boolean} [options.reverseGeocode=false] If `true`, enable reverse geocoding mode. In reverse geocoding, search input is expected to be coordinates in the form `lat, lon`, with suggestions being the reverse geocodes.\n * @param {boolean} [options.flipCoordinates=false] If `true`, search input coordinates for reverse geocoding is expected to be in the form `lon, lat` instead of the default `lat, lon`.\n * @param {Boolean} [options.enableEventLogging=true] Allow Mapbox to collect anonymous usage statistics from the plugin.\n * @param {Boolean|Object} [options.marker=true]  If `true`, a [Marker](https://docs.mapbox.com/mapbox-gl-js/api/#marker) will be added to the map at the location of the user-selected result using a default set of Marker options.  If the value is an object, the marker will be constructed using these options. If `false`, no marker will be added to the map. Requires that `options.mapboxgl` also be set.\n * @param {Function} [options.render] A function that specifies how the results should be rendered in the dropdown menu. This function should accepts a single [extended GeoJSON](https://docs.mapbox.com/api/search/geocoding-v5/#geocoding-response-object) object as input and return a string. Any HTML in the returned string will be rendered.\n * @param {Function} [options.getItemValue] A function that specifies how the selected result should be rendered in the search bar. This function should accept a single [extended GeoJSON](https://docs.mapbox.com/api/search/geocoding-v5/#geocoding-response-object) object as input and return a string. HTML tags in the output string will not be rendered. Defaults to `(item) => item.place_name`.\n * @param {String} [options.mode=mapbox.places] A string specifying the geocoding [endpoint](https://docs.mapbox.com/api/search/#endpoints) to query. Options are `mapbox.places` and `mapbox.places-permanent`. The `mapbox.places-permanent` mode requires an enterprise license for permanent geocodes.\n * @param {Boolean} [options.localGeocoderOnly=false] If `true`, indicates that the `localGeocoder` results should be the only ones returned to the user. If `false`, indicates that the `localGeocoder` results should be combined with those from the Mapbox API with the `localGeocoder` results ranked higher.\n * @param {Boolean} [options.autocomplete=true] Specify whether to return autocomplete results or not. When autocomplete is enabled, results will be included that start with the requested string, rather than just responses that match it exactly.\n * @param {Boolean} [options.fuzzyMatch=true] Specify whether the Geocoding API should attempt approximate, as well as exact, matching when performing searches, or whether it should opt out of this behavior and only attempt exact matching.\n * @param {Boolean} [options.routing=false] Specify whether to request additional metadata about the recommended navigation destination corresponding to the feature or not. Only applicable for address features.\n * @param {String} [options.worldview=\"us\"] Filter results to geographic features whose characteristics are defined differently by audiences belonging to various regional, cultural, or political groups.\n * @param {Boolean} [options.enableGeolocation=false] If `true` enable user geolocation feature.\n * @param {Boolean} [options.useBrowserFocus=false] If `true`, the geocoder will use the browser's focus event to show suggestions. If `false`, it will only highlight active suggestions and Tab will not propagate to the suggestions list.\n * @param {('address'|'street'|'place'|'country')} [options.addressAccuracy=\"street\"] The accuracy for the geolocation feature with which we define the address line to fill. The browser API returns the user's position with accuracy, and sometimes we can get the neighbor's address. To prevent receiving an incorrect address, you can reduce the accuracy of the definition.\n * @example\n * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n * map.addControl(geocoder);\n * @return {MapboxGeocoder} `this`\n *\n */\n\nfunction MapboxGeocoder(options) {\n  this._eventEmitter = new EventEmitter();\n  this.options = extend({}, this.options, options);\n  this.inputString = '';\n  this.fresh = true;\n  this.lastSelected = null;\n  this.geolocation = new Geolocation();\n}\n\nfunction escapeHtml(str) {\n  if (!str) return '';\n  return String(str)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nMapboxGeocoder.prototype = {\n  options: {\n    zoom: 16,\n    flyTo: true,\n    trackProximity: true,\n    minLength: 2,\n    reverseGeocode: false,\n    flipCoordinates: false,\n    limit: 5,\n    origin: 'https://api.mapbox.com',\n    enableEventLogging: true,\n    marker: true,\n    mapboxgl: null,\n    collapsed: false,\n    clearAndBlurOnEsc: false,\n    clearOnBlur: false,\n    enableGeolocation: false,\n    addressAccuracy: 'street',\n    useBrowserFocus: false,\n    getItemValue: function(item) {\n      return item.place_name\n    },\n    render: function(item) {\n      var placeName = escapeHtml(item.place_name).split(',');\n      return '<div class=\"mapboxgl-ctrl-geocoder--suggestion\"><div class=\"mapboxgl-ctrl-geocoder--suggestion-title\">' + placeName[0]+ '</div><div class=\"mapboxgl-ctrl-geocoder--suggestion-address\">' + placeName.splice(1, placeName.length).join(',') + '</div></div>';\n    }\n  },\n  \n  _headers: {},\n\n  /**\n   * Add the geocoder to a container. The container can be either a `mapboxgl.Map`, an `HTMLElement` or a CSS selector string.\n   *\n   * If the container is a [`mapboxgl.Map`](https://docs.mapbox.com/mapbox-gl-js/api/map/), this function will behave identically to [`Map.addControl(geocoder)`](https://docs.mapbox.com/mapbox-gl-js/api/map/#map#addcontrol).\n   * If the container is an instance of [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement), then the geocoder will be appended as a child of that [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement).\n   * If the container is a [CSS selector string](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors), the geocoder will be appended to the element returned from the query.\n   *\n   * This function will throw an error if the container is none of the above.\n   * It will also throw an error if the referenced HTML element cannot be found in the `document.body`.\n   *\n   * For example, if the HTML body contains the element `<div id='geocoder-container'></div>`, the following script will append the geocoder to `#geocoder-container`:\n   *\n   * ```javascript\n   * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n   * geocoder.addTo('#geocoder-container');\n   * ```\n   * @param {String|HTMLElement|mapboxgl.Map} container A reference to the container to which to add the geocoder\n   */\n  addTo: function(container){\n\n    function addToExistingContainer (geocoder, container) {\n      if (!document.body.contains(container)) {\n        throw new Error(\"Element provided to #addTo() exists, but is not in the DOM\")\n      }\n      const el = geocoder.onAdd(); //returns the input elements, which are then added to the requested html container\n      container.appendChild(el);\n    }\n\n    // if the container is a map, add the control like normal\n    if (container._controlContainer){\n      //  it's a mapbox-gl map, add like normal\n      container.addControl(this);\n    }\n    // if the container is an HTMLElement, then set the parent to be that element\n    else if (container instanceof HTMLElement) {\n      addToExistingContainer(this, container);\n    }\n    // if the container is a string, treat it as a CSS query\n    else if (typeof container == 'string'){\n      const parent = document.querySelectorAll(container);\n      if (parent.length === 0){\n        throw new Error(\"Element \", container, \"not found.\")\n      }\n\n      if (parent.length > 1){\n        throw new Error(\"Geocoder can only be added to a single html element\")\n      }\n\n      addToExistingContainer(this, parent[0]);\n    }else{\n      throw new Error(\"Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element\")\n    }\n  },\n\n  onAdd: function(map) {\n    if (map && typeof map != 'string'){\n      this._map = map;\n    }\n\n    this.setLanguage();\n\n    if (!this.options.localGeocoderOnly){\n      this.geocoderService = mbxGeocoder(\n        MapboxClient({\n          accessToken: this.options.accessToken,\n          origin: this.options.origin\n        })\n      );\n    }\n\n    if (this.options.localGeocoderOnly && !this.options.localGeocoder){\n      throw new Error(\"A localGeocoder function must be specified to use localGeocoderOnly mode\")\n    }\n\n    this.eventManager = new MapboxEventManager(this.options);\n\n    this._onChange = this._onChange.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onPaste = this._onPaste.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._showButton = this._showButton.bind(this);\n    this._hideButton = this._hideButton.bind(this);\n    this._onQueryResult = this._onQueryResult.bind(this);\n    this.clear = this.clear.bind(this);\n    this._updateProximity = this._updateProximity.bind(this);\n    this._collapse = this._collapse.bind(this);\n    this._unCollapse = this._unCollapse.bind(this);\n    this._clear = this._clear.bind(this);\n    this._clearOnBlur = this._clearOnBlur.bind(this);\n    this._geolocateUser = this._geolocateUser.bind(this);\n    this._onSuggestionItemFocus = this._onSuggestionItemFocus.bind(this);\n    this._onSuggestionItemKeyDown = this._onSuggestionItemKeydown.bind(this);\n\n    var el = (this.container = document.createElement('div'));\n    el.className = 'mapboxgl-ctrl-geocoder mapboxgl-ctrl';\n\n    var searchIcon = this.createIcon('search', '<path d=\"M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z\"/>')\n\n    this._inputEl = document.createElement('input');\n    this._inputEl.type = 'text';\n    this._inputEl.className = 'mapboxgl-ctrl-geocoder--input';\n\n    this.setPlaceholder();\n\n    if (this.options.collapsed) {\n      this._collapse();\n      this.container.addEventListener('mouseenter', this._unCollapse);\n      this.container.addEventListener('mouseleave', this._collapse);\n      this._inputEl.addEventListener('focus', this._unCollapse);\n    }\n\n    if (this.options.collapsed || this.options.clearOnBlur) {\n      this._inputEl.addEventListener('blur', this._onBlur);\n    }\n\n    this._inputEl.addEventListener('keydown', debounce(this._onKeyDown, 200));\n    this._inputEl.addEventListener('paste', this._onPaste);\n    this._inputEl.addEventListener('change', this._onChange);\n    this.container.addEventListener('mouseenter', this._showButton);\n    this.container.addEventListener('mouseleave', this._hideButton);\n    this._inputEl.addEventListener('keyup', function(e){\n      this.eventManager.keyevent(e, this);\n    }.bind(this));\n\n    var actions = document.createElement('div');\n    actions.classList.add('mapboxgl-ctrl-geocoder--pin-right');\n\n    this._clearEl = document.createElement('button');\n    this._clearEl.setAttribute('aria-label', 'Clear');\n    this._clearEl.addEventListener('click', this.clear);\n    this._clearEl.className = 'mapboxgl-ctrl-geocoder--button';\n\n    var buttonIcon = this.createIcon('close', '<path d=\"M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z\"/>')\n    this._clearEl.appendChild(buttonIcon);\n\n    this._loadingEl = this.createIcon('loading', '<path fill=\"#333\" d=\"M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z\"/><path opacity=\".1\" d=\"M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z\"/>');\n\n    actions.appendChild(this._clearEl);\n    actions.appendChild(this._loadingEl);\n\n    el.appendChild(searchIcon);\n    el.appendChild(this._inputEl);\n\n    if (this.options.enableGeolocation && this.geolocation.isSupport()) {\n      this._geolocateEl = document.createElement('button');\n      this._geolocateEl.setAttribute('aria-label', 'Geolocate');\n      this._geolocateEl.addEventListener('click', this._geolocateUser);\n      this._geolocateEl.className = 'mapboxgl-ctrl-geocoder--button';\n\n      var geolocateIcon = this.createIcon('geolocate', '<path d=\"M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z\" fill=\"#4264fb\"/>');\n      this._geolocateEl.appendChild(geolocateIcon);\n\n      actions.appendChild(this._geolocateEl);\n      this._showGeolocateButton();\n    }\n\n    var typeahead = this._typeahead = new Typeahead(this._inputEl, [], {\n      hideOnBlur: !this.options.useBrowserFocus,\n      filter: false,\n      minLength: this.options.minLength,\n      limit: this.options.limit\n    });\n\n    // To preserve tab navigation order\n    el.insertBefore(actions, typeahead.list.wrapper);\n\n    this.setRenderFunction(this.options.render);\n    typeahead.getItemValue = this.options.getItemValue;\n\n    const handleKeyDownTypeahead = this._typeahead.handleKeyDown.bind(this._typeahead);\n    const handleKeyUpTypeahead = this._typeahead.handleKeyUp.bind(this._typeahead);\n\n    this._typeahead.handleKeyUp \n\n    if (this.options.useBrowserFocus) {\n      this._typeahead.handleKeyDown = function(e) {\n        if (e.keyCode === 9 && !typeahead.list.isEmpty()) {\n          return;\n        }\n        // Arrow down\n        if (e.keyCode === 40) {\n          this._typeahead.list.active = 0;\n          this._typeahead.list.element.querySelectorAll('li').forEach(function(item) {\n            item.classList.remove('active');\n          });\n          this._typeahead.list.element.querySelectorAll('li')[0].classList.add('active');\n          this._typeahead.list.element.querySelectorAll('li')[0].focus();\n          return;\n        // Arrow up\n        } else if (e.keyCode === 38) {\n          this._typeahead.list.active = typeahead.list.items.length - 1;\n          this._typeahead.list.element.querySelectorAll('li').forEach(function(item) {\n            item.classList.remove('active');\n          });\n          this._typeahead.list.element.querySelectorAll('li')[this._typeahead.list.active].classList.add('active');\n          this._typeahead.list.element.querySelectorAll('li')[this._typeahead.list.active].focus();\n          return;\n        }\n        handleKeyDownTypeahead(e);\n      }.bind(this);\n\n      this._typeahead.handleKeyUp = function(e) {\n        if (e && e.keyCode === 16) {\n          e.preventDefault();\n          return;\n        }\n\n        handleKeyUpTypeahead(e);\n      }\n    }\n\n    // Add support for footer.\n    var parentDraw = typeahead.list.draw;\n    var footerNode = this._footerNode = getFooterNode();\n    var self = this;\n    typeahead.list.draw = function() {\n      if (self.options.useBrowserFocus) {\n        typeahead.list.element.querySelectorAll('li').forEach(function(item) {\n          item.removeEventListener('focus', self._onSuggestionItemFocus);\n          item.removeEventListener('keydown', self._onSuggestionItemKeyDown);\n        });\n      }\n      parentDraw.call(this);\n\n      if (self.options.useBrowserFocus) {\n        typeahead.list.element.querySelectorAll('li').forEach(function(item, index) {\n          if (index === 0) {\n            item.focus();\n          }\n          item.setAttribute('data-index', index);\n          item.tabIndex = 0;\n          item.addEventListener('focus', this._onSuggestionItemFocus);\n          item.addEventListener('keydown', this._onSuggestionItemKeyDown);\n        }.bind(self));\n      }\n\n      footerNode.addEventListener('mousedown', function() {\n        this.selectingListItem = true;\n      }.bind(this));\n    \n      footerNode.addEventListener('mouseup', function() {\n        this.selectingListItem = false;\n      }.bind(this));\n\n      this.element.appendChild(footerNode);\n    };\n\n    this.mapMarker = null;\n    this._handleMarker = this._handleMarker.bind(this);\n    if (this._map){\n      if (this.options.trackProximity ) {\n        this._updateProximity();\n        this._map.on('moveend', this._updateProximity);\n      }\n      this._mapboxgl = this.options.mapboxgl;\n      if (!this._mapboxgl && this.options.marker) {\n        // eslint-disable-next-line no-console\n        console.error(\"No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl.\");\n        this.options.marker = false;\n      }\n    }\n    return el;\n  },\n\n  _onSuggestionItemKeydown(e) {\n    const keyCode = e.keyCode;\n    if (keyCode === 9) {\n      return;\n    }\n\n    if (keyCode === 13) {\n      e.preventDefault();\n      const activeItem = this._typeahead.list.element.querySelector('.active');\n      if (activeItem) {\n        const itemIndex = activeItem.getAttribute('data-index');\n        const item = this._typeahead.list.items[itemIndex];\n        if (item) {\n          this._typeahead.value(item.original);\n          this._typeahead.list.hide();\n        }\n      }\n    } else if (keyCode === 38 || keyCode === 40) {\n      const items = this._typeahead.list.element.querySelectorAll('li');\n      if (items.length > 0) {\n        if (keyCode === 38) { // Arrow up\n          if (this._typeahead.list.active > 0) {\n            e.preventDefault();\n            this._typeahead.list.active--;\n          } else {\n            this._typeahead.el.focus();\n            return;\n          }\n        } else if (keyCode === 40) { // Arrow down\n          e.preventDefault();\n          if (this._typeahead.list.active < items.length - 1) {\n            this._typeahead.list.active++;\n          } else {\n            return;\n          }\n        }\n        items.forEach(function(item) {\n          item.classList.remove('active');\n        });\n        const activeItem = items[this._typeahead.list.active];\n        if (activeItem) {\n          activeItem.classList.add('active');\n          activeItem.focus();\n        }\n      }\n    }\n  },\n\n  _onSuggestionItemFocus(e) {\n    this._typeahead.list.active = e.target.getAttribute('data-index');\n    this._typeahead.list.element.querySelectorAll('li').forEach(function(item) {\n      item.classList.remove('active');\n    });\n    e.target.classList.add('active');\n  },\n\n  _geolocateUser: function () {\n    this._hideGeolocateButton();\n    this._showLoadingIcon();\n\n    this.geolocation.getCurrentPosition().then(function(geolocationPosition) {\n      this._hideLoadingIcon();\n\n      const geojson = {\n        geometry: {\n          type: 'Point',\n          coordinates: [geolocationPosition.coords.longitude, geolocationPosition.coords.latitude]\n        }\n      };\n\n      this._handleMarker(geojson);\n      this._fly(geojson);\n\n      this._typeahead.clear();\n      this._typeahead.selected = true;\n      this.lastSelected = JSON.stringify(geojson);\n      this._showClearButton();\n      this.fresh = false;\n\n      const config = {\n        limit: 1,\n        language: [this.options.language],\n        query: geojson.geometry.coordinates,\n        types: [\"address\"]\n      };\n\n      if (this.options.localGeocoderOnly) {\n        const text = geojson.geometry.coordinates[0] + ',' + geojson.geometry.coordinates[1]\n        this._setInputValue(text);\n\n        this._eventEmitter.emit('result', { result: geojson });\n      } else {\n        this.geocoderService.reverseGeocode(config).send().then(function (resp) {\n          const feature = resp.body.features[0];\n  \n          if (feature) {\n            const locationText = utils.transformFeatureToGeolocationText(feature, this.options.addressAccuracy);\n            this._setInputValue(locationText);\n  \n            feature.user_coordinates = geojson.geometry.coordinates;\n            this._eventEmitter.emit('result', { result: feature });\n          } else {\n            this._eventEmitter.emit('result', { result: { user_coordinates: geojson.geometry.coordinates } });\n          }\n        }.bind(this));\n      }\n    }.bind(this)).catch(function(error) {\n      if (error.code === 1) {\n        this._renderUserDeniedGeolocationError();\n      } else {\n        this._renderLocationError();\n      }\n\n      this._hideLoadingIcon();\n      this._showGeolocateButton();\n      this._hideAttribution();\n    }.bind(this));\n  },\n\n  createIcon: function(name, path) {\n    var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    icon.setAttribute('class', 'mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-' + name);\n    icon.setAttribute('viewBox', '0 0 18 18');\n    icon.setAttribute('xml:space','preserve');\n    icon.setAttribute('width', 18);\n    icon.setAttribute('height', 18);\n    icon.innerHTML = path;\n    return icon;\n  },\n\n  onRemove: function() {\n    this.container.parentNode.removeChild(this.container);\n\n    if (this.options.trackProximity && this._map) {\n      this._map.off('moveend', this._updateProximity);\n    }\n\n    this._removeMarker();\n\n    this._map = null;\n\n    return this;\n  },\n\n  _setInputValue: function (value) {\n    this._inputEl.value = value;\n  \n    setTimeout(function () {\n      this._inputEl.focus();\n      this._inputEl.scrollLeft = 0;\n      this._inputEl.setSelectionRange(0, 0);\n    }.bind(this), 1);\n  },\n\n  _onPaste: function(e){\n    var value = (e.clipboardData || window.clipboardData).getData('text');\n    if (value.length >= this.options.minLength) {\n      this._geocode(value);\n    }\n  },\n\n  _onKeyDown: function(e) {\n    var ESC_KEY_CODE = 27,\n      TAB_KEY_CODE = 9;\n\n    if (e.keyCode === ESC_KEY_CODE && this.options.clearAndBlurOnEsc) {\n      this._clear(e);\n      return this._inputEl.blur();\n    }\n\n    // if target has shadowRoot, then get the actual active element inside the shadowRoot\n    var target = e.target && e.target.shadowRoot\n      ? e.target.shadowRoot.activeElement\n      : e.target;\n    var value = target ? target.value : '';\n\n    if (!value) {\n      this.fresh = true;\n      // the user has removed all the text\n      if (e.keyCode !== TAB_KEY_CODE) this.clear(e);\n      this._showGeolocateButton();\n      return this._hideClearButton();\n    }\n\n    this._hideGeolocateButton();\n\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if ((e.metaKey || [TAB_KEY_CODE, ESC_KEY_CODE, 37, 39, 13, 38, 40].indexOf(e.keyCode) !== -1))\n      return;\n\n    if (target.value.length >= this.options.minLength) {\n      this._geocode(target.value);\n    }\n  },\n\n  _showButton: function() {\n    if (this._typeahead.selected) this._showClearButton();\n  },\n\n  _hideButton: function() {\n    if (this._typeahead.selected) this._hideClearButton();\n  },\n\n  _showClearButton: function() {\n    this._clearEl.style.display = 'block';\n  },\n\n  _hideClearButton: function() {\n    this._clearEl.style.display = 'none'\n  },\n\n  _showGeolocateButton: function() {\n    if (this._geolocateEl && this.geolocation.isSupport()) {\n      this._geolocateEl.style.display = 'block';\n    }\n  },\n\n  _hideGeolocateButton: function() {\n    if (this._geolocateEl) {\n      this._geolocateEl.style.display = 'none';\n    }\n  },\n\n  _showLoadingIcon: function() {\n    this._loadingEl.style.display = 'block';\n  },\n  \n  _hideLoadingIcon: function() {\n    this._loadingEl.style.display = 'none';\n  },\n\n  _showAttribution: function() {\n    this._footerNode.style.display = 'block'\n  },\n  \n  _hideAttribution: function() {\n    this._footerNode.style.display = 'none'\n  },\n\n  _onBlur: function(e) {\n    if (this.options.clearOnBlur) {\n      this._clearOnBlur(e);\n    }\n    if (this.options.collapsed) {\n      this._collapse();\n    }\n  },\n  _onChange: function() {\n    var selected = this._typeahead.selected;\n    if (selected  && JSON.stringify(selected) !== this.lastSelected) {\n      this._hideClearButton();\n      if (this.options.flyTo) {\n        this._fly(selected);\n      }\n      if (this.options.marker && this._mapboxgl){\n        this._handleMarker(selected);\n      }\n\n      // After selecting a feature, re-focus the textarea and set\n      // cursor at start.\n      this._inputEl.focus();\n      this._inputEl.scrollLeft = 0;\n      this._inputEl.setSelectionRange(0, 0);\n      this.lastSelected = JSON.stringify(selected);\n      this._eventEmitter.emit('result', { result: selected });\n      this.eventManager.select(selected, this);\n    }\n  },\n\n  _fly: function(selected) {\n    var flyOptions;\n    if (selected.properties && exceptions[selected.properties.short_code]) {\n      // Certain geocoder search results return (and therefore zoom to fit)\n      // an unexpectedly large bounding box: for example, both Russia and the\n      // USA span both sides of -180/180, or France includes the island of\n      // Reunion in the Indian Ocean. An incomplete list of these exceptions\n      // at ./exceptions.json provides \"reasonable\" bounding boxes as a\n      // short-term solution; this may be amended as necessary.\n      flyOptions = extend({}, this.options.flyTo);\n      if (this._map){\n        this._map.fitBounds(exceptions[selected.properties.short_code].bbox, flyOptions);\n      }\n    } else if (selected.bbox) {\n      var bbox = selected.bbox;\n      flyOptions = extend({}, this.options.flyTo);\n      if (this._map){\n        this._map.fitBounds([[bbox[0], bbox[1]], [bbox[2], bbox[3]]], flyOptions);\n      }\n    } else {\n      var defaultFlyOptions = {\n        zoom: this.options.zoom\n      }\n      flyOptions = extend({}, defaultFlyOptions, this.options.flyTo);\n      //  ensure that center is not overriden by custom options\n      if (selected.center) {\n        flyOptions.center = selected.center;\n      } else if (selected.geometry && selected.geometry.type && selected.geometry.type === 'Point' && selected.geometry.coordinates) {\n        flyOptions.center = selected.geometry.coordinates;\n      }\n\n      if (this._map){\n        this._map.flyTo(flyOptions);\n      }\n    }\n  },\n\n  _requestType: function(options, search) {\n    var type;\n    if (options.localGeocoderOnly) {\n      type = GEOCODE_REQUEST_TYPE.LOCAL;\n    } else if (options.reverseGeocode && utils.REVERSE_GEOCODE_COORD_RGX.test(search)) {\n      type = GEOCODE_REQUEST_TYPE.REVERSE;\n    } else {\n      type = GEOCODE_REQUEST_TYPE.FORWARD;\n    }\n    return type;\n  },\n\n  _setupConfig: function(requestType, search) {\n    // Possible config properties to pass to client\n    const keys = [\n      'bbox',\n      'limit',\n      'proximity',\n      'countries',\n      'types',\n      'language',\n      'reverseMode',\n      'mode',\n      'autocomplete',\n      'fuzzyMatch',\n      'routing',\n      'worldview'\n    ];\n    const spacesOrCommaRgx = /[\\s,]+/;\n\n    var self = this;\n    var config = keys.reduce(function(config, key) {\n      // don't include undefined/null params, but allow boolean, among other, values\n      if (self.options[key] === undefined || self.options[key] === null) {\n        return config;\n      }\n\n      // countries, types, and language need to be passed in as arrays to client\n      // https://github.com/mapbox/mapbox-sdk-js/blob/master/services/geocoding.js#L38-L47\n      ['countries', 'types', 'language'].indexOf(key) > -1\n        ? (config[key] = self.options[key].split(spacesOrCommaRgx))\n        : (config[key] = self.options[key]);\n\n      const isCoordKey =\n        typeof self.options[key].longitude === 'number' &&\n        typeof self.options[key].latitude  === 'number';\n\n      if (key === 'proximity' && isCoordKey) {\n        const lng = self.options[key].longitude;\n        const lat = self.options[key].latitude;\n\n        config[key] = [lng, lat];\n      }\n\n      return config;\n    }, {});\n\n    switch (requestType) {\n    case GEOCODE_REQUEST_TYPE.REVERSE: {\n      var coords = search.split(spacesOrCommaRgx).map(function(c) {\n        return parseFloat(c, 10);\n      })\n      if (!self.options.flipCoordinates) {\n        coords.reverse();\n      }\n\n      // client only accepts one type for reverseGeocode, so\n      // use first config type if one, if not default to poi\n      config.types ? [config.types[0]] : [\"poi\"];\n      config = extend(config, { query: coords, limit: 1 });\n\n      // Remove config options not supported by the reverseGeocoder\n      ['proximity', 'autocomplete', 'fuzzyMatch', 'bbox'].forEach(function(key) {\n        if (key in config) {\n          delete config[key]\n        }\n      });\n    } break;\n    case GEOCODE_REQUEST_TYPE.FORWARD: {\n      // Ensure that any reverse geocoding looking request is cleaned up\n      // to be processed as only a forward geocoding request by the server.\n      const trimmedSearch = search.trim();\n      const reverseGeocodeCoordRgx = /^(-?\\d{1,3}(\\.\\d{0,256})?)[, ]+(-?\\d{1,3}(\\.\\d{0,256})?)?$/;\n      if (reverseGeocodeCoordRgx.test(trimmedSearch)) {\n        search = search.replace(/,/g, ' ');\n      }\n      config = extend(config, { query: search });\n    } break;\n    }\n\n    config.session_token = this.eventManager.getSessionId();\n\n    return config;\n  },\n\n  _geocode: function(searchInput) {\n    this.inputString = searchInput;\n    this._showLoadingIcon();\n    this._eventEmitter.emit('loading', { query: searchInput });\n\n    const requestType = this._requestType(this.options, searchInput);\n    const config = this._setupConfig(requestType, searchInput);\n\n    var request;\n    switch (requestType) {\n    case GEOCODE_REQUEST_TYPE.LOCAL:\n      request = Promise.resolve();\n      break;\n    case GEOCODE_REQUEST_TYPE.FORWARD:\n      request = this.geocoderService.forwardGeocode(config).send();\n      break;\n    case GEOCODE_REQUEST_TYPE.REVERSE:\n      request = this.geocoderService.reverseGeocode(config).send();\n      break;\n    }\n\n    var localGeocoderRes = this.options.localGeocoder ? this.options.localGeocoder(searchInput) || [] : [];\n    var externalGeocoderRes = [];\n\n    var geocoderError = null;\n    request.catch(function(error) {\n      geocoderError = error;\n    }.bind(this))\n      .then(\n        function(response) {\n          this._hideLoadingIcon();\n          var res = {};\n\n          if (!response){\n            res = {\n              type: 'FeatureCollection',\n              features: []\n            }\n          } else if (response.statusCode == '200') {\n            res = response.body;\n            res.request = response.request;\n            res.headers = response.headers;\n            this._headers = response.headers;\n          }\n\n          res.config = config;\n\n          if (this.fresh){\n            this.eventManager.start(this);\n            this.fresh = false;\n          }\n\n          // Tag Mapbox as the source for Geocoding API results, to differentiate from local or external geocoder federated results\n          if (res.features && res.features.length) {\n            res.features.map(function (feature) {\n              feature._source = 'mapbox';\n            })\n          }\n\n          // supplement Mapbox Geocoding API results with locally populated results\n          res.features = res.features\n            ? localGeocoderRes.concat(res.features)\n            : localGeocoderRes;\n\n          if (this.options.externalGeocoder) {\n\n            externalGeocoderRes = this.options.externalGeocoder(searchInput, res.features) || Promise.resolve([]);\n            // supplement Mapbox Geocoding API results with features returned by a promise\n            return externalGeocoderRes.then(function(features) {\n              res.features = res.features ? features.concat(res.features) : features;\n              return res;\n            }, function(){\n              // on error, display the original result\n              return res;\n            });\n          }\n          return res;\n\n        }.bind(this)).then(\n        function(res) {\n          if (geocoderError) {\n            throw geocoderError;\n          }\n\n          // apply results filter if provided\n          if (this.options.filter && res.features.length) {\n            res.features = res.features.filter(this.options.filter);\n          }\n\n          if (res.features.length) {\n            this._showClearButton();\n            this._hideGeolocateButton();\n            this._showAttribution();\n            this._eventEmitter.emit('results', res);\n            this._typeahead.update(res.features);\n          } else {\n            this._hideClearButton();\n            this._hideAttribution();\n            this._typeahead.selected = null;\n            this._renderNoResults();\n            this._eventEmitter.emit('results', res);\n          }\n\n        }.bind(this)\n      ).catch(\n        function(err) {\n          this._hideLoadingIcon();\n          this._hideAttribution();\n\n          // in the event of an error in the Mapbox Geocoding API still display results from the localGeocoder\n          if ((localGeocoderRes.length && this.options.localGeocoder) || (externalGeocoderRes.length && this.options.externalGeocoder) ) {\n            this._showClearButton();\n            this._hideGeolocateButton();\n            this._typeahead.update(localGeocoderRes);\n          } else {\n            this._hideClearButton();\n            this._typeahead.selected = null;\n            this._renderError();\n          }\n\n          this._eventEmitter.emit('results', { features: localGeocoderRes });\n          this._eventEmitter.emit('error', { error: err });\n        }.bind(this)\n      );\n\n    return request;\n  },\n\n  /**\n   * Shared logic for clearing input\n   * @param {Event} [ev] the event that triggered the clear, if available\n   * @private\n   *\n   */\n  _clear: function(ev) {\n    if (ev) ev.preventDefault();\n    this._inputEl.value = '';\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this.eventManager.sessionIncrementer++;\n    this._onChange();\n    this._hideClearButton();\n    this._showGeolocateButton();\n    this._removeMarker();\n    this.lastSelected = null;\n    this._eventEmitter.emit('clear');\n    this.fresh = true;\n  },\n\n  /**\n   * Clear and then focus the input.\n   * @param {Event} [ev] the event that triggered the clear, if available\n   *\n   */\n  clear: function(ev) {\n    this._clear(ev);\n    this._inputEl.focus();\n    // We don't hide on blur when using browser focus\n    // because the list is hidden on blur by default.\n    // So we hide it here manually.\n    if (this.options.useBrowserFocus) {\n      this._typeahead.list.hide();\n    }\n  },\n\n\n  /**\n   * Clear the input, without refocusing it. Used to implement clearOnBlur\n   * constructor option.\n   * @param {Event} [ev] the blur event\n   * @private\n   */\n  _clearOnBlur: function(ev) {\n    var ctx = this;\n\n    /*\n     * If relatedTarget is not found, assume user targeted the suggestions list.\n     * In that case, do not clear on blur. There are other edge cases where\n     * ev.relatedTarget could be null. Clicking on list always results in null\n     * relatedtarget because of upstream behavior in `suggestions`.\n     *\n     * The ideal solution would be to check if ev.relatedTarget is a child of\n     * the list. See issue #258 for details on why we can't do that yet.\n     */\n    if (ev.relatedTarget) {\n      ctx._clear(ev);\n    }\n  },\n\n  _onQueryResult: function(response) {\n    var results = response.body;\n    if (!results.features.length) return;\n    var result = results.features[0];\n    this._typeahead.selected = result;\n    this._inputEl.value = result.place_name;\n    this._onChange();\n  },\n\n  _updateProximity: function() {\n    // proximity is designed for local scale, if the user is looking at the whole world,\n    // it doesn't make sense to factor in the arbitrary centre of the map\n    if (!this._map || !this.options.trackProximity){\n      return;\n    }\n    if (this._map.getZoom() > 9) {\n      var center = this._map.getCenter().wrap();\n      this.setProximity({ longitude: center.lng, latitude: center.lat }, false);\n    } else {\n      this.setProximity(null, false);\n    }\n  },\n\n  _collapse: function() {\n    // do not collapse if input is in focus\n    if (!this._inputEl.value && this._inputEl !== document.activeElement) this.container.classList.add('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  _unCollapse: function() {\n    this.container.classList.remove('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  /**\n   * Set & query the input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  query: function(searchInput) {\n    this._geocode(searchInput).then(this._onQueryResult);\n    return this;\n  },\n\n  _renderError: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>\"\n    this._renderMessage(errorMessage);\n  },\n\n  _renderLocationError: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>\"\n    this._renderMessage(errorMessage);\n  },\n\n  _renderNoResults: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>\";\n    this._renderMessage(errorMessage);\n  },\n\n  _renderUserDeniedGeolocationError: function() {\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>\"\n    this._renderMessage(errorMessage);\n  },\n\n  _renderMessage: function(msg){\n    this._typeahead.update([]);\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._typeahead.renderError(msg);\n  },\n\n  /**\n   * Get the text to use as the search bar placeholder\n   *\n   * If placeholder is provided in options, then use options.placeholder\n   * Otherwise, if language is provided in options, then use the localized string of the first language if available\n   * Otherwise use the default\n   *\n   * @returns {String} the value to use as the search bar placeholder\n   * @private\n   */\n  _getPlaceholderText: function(){\n    if (this.options.placeholder) return this.options.placeholder;\n    if (this.options.language){\n      var firstLanguage = this.options.language.split(\",\")[0];\n      var language = subtag.language(firstLanguage);\n      var localizedValue = localization.placeholder[language];\n      if (localizedValue)  return localizedValue;\n    }\n    return 'Search';\n  },\n\n  /**\n   * Set input\n   * @param {string} searchInput location name or other search input\n   * @param {boolean} [showSuggestions=false] display suggestion on setInput call\n   * @returns {MapboxGeocoder} this\n   */\n  setInput: function(searchInput, showSuggestions) {\n    if (showSuggestions === undefined) {\n      showSuggestions = false\n    }\n    // Set input value to passed value and clear everything else.\n    this._inputEl.value = searchInput;\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    if (searchInput.length >= this.options.minLength) {\n      showSuggestions ? this._geocode(searchInput) : this._onChange();\n    }\n    return this;\n  },\n\n  /**\n   * Set proximity\n   * @param {Object|'ip'} proximity The new `options.proximity` value. This is a geographical point given as an object with `latitude` and `longitude` properties or the string 'ip'.\n   * @param {Boolean} disableTrackProximity If true, sets `trackProximity` to false. True by default to prevent `trackProximity` from unintentionally overriding an explicitly set proximity value.\n   * @returns {MapboxGeocoder} this\n   */\n  setProximity: function(proximity, disableTrackProximity = true) {\n    this.options.proximity = proximity;\n    if (disableTrackProximity) {\n      this.options.trackProximity = false;\n    }\n    return this;\n  },\n\n  /**\n   * Get proximity\n   * @returns {Object} The geocoder proximity\n   */\n  getProximity: function() {\n    return this.options.proximity;\n  },\n\n  /**\n   * Set the render function used in the results dropdown\n   * @param {Function} fn The function to use as a render function. This function accepts a single [extended GeoJSON](https://docs.mapbox.com/api/search/geocoding-v5/#geocoding-response-object) object as input and returns a string.\n   * @returns {MapboxGeocoder} this\n   */\n  setRenderFunction: function(fn){\n    if (fn && typeof(fn) == \"function\"){\n      this._typeahead.render = fn;\n    }\n    return this;\n  },\n\n  /**\n   * Get the function used to render the results dropdown\n   *\n   * @returns {Function} the render function\n   */\n  getRenderFunction: function(){\n    return this._typeahead.render;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   *\n   * Look first at the explicitly set options otherwise use the browser's language settings\n   * @param {String} language Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas.\n   * @returns {MapboxGeocoder} this\n   */\n  setLanguage: function(language){\n    var browserLocale = navigator.language || navigator.userLanguage || navigator.browserLanguage;\n    this.options.language = language || this.options.language || browserLocale;\n    return this;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   * @returns {String} The language(s) used by the plugin, if any\n   */\n  getLanguage: function(){\n    return this.options.language;\n  },\n\n  /**\n   * Get the zoom level the map will move to when there is no bounding box on the selected result\n   * @returns {Number} the map zoom\n   */\n  getZoom: function(){\n    return this.options.zoom;\n  },\n\n  /**\n   * Set the zoom level\n   * @param {Number} zoom The zoom level that the map should animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n   * @returns {MapboxGeocoder} this\n   */\n  setZoom: function(zoom){\n    this.options.zoom = zoom;\n    return this;\n  },\n\n  /**\n   * Get the parameters used to fly to the selected response, if any\n   * @returns {Boolean|Object} The `flyTo` option\n   */\n  getFlyTo: function(){\n    return this.options.flyTo;\n  },\n\n  /**\n   * Set the flyTo options\n   * @param {Boolean|Object} flyTo If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n   */\n  setFlyTo: function(flyTo){\n    this.options.flyTo = flyTo;\n    return this;\n  },\n\n  /**\n   * Get the value of the placeholder string\n   * @returns {String} The input element's placeholder value\n   */\n  getPlaceholder: function(){\n    return this.options.placeholder;\n  },\n\n  /**\n   * Set the value of the input element's placeholder\n   * @param {String} placeholder the text to use as the input element's placeholder\n   * @returns {MapboxGeocoder} this\n   */\n  setPlaceholder: function(placeholder){\n    this.options.placeholder = (placeholder) ? placeholder : this._getPlaceholderText();\n    this._inputEl.placeholder = this.options.placeholder;\n    this._inputEl.setAttribute('aria-label', this.options.placeholder);\n    return this\n  },\n\n  /**\n   * Get the bounding box used by the plugin\n   * @returns {Array<Number>} the bounding box, if any\n   */\n  getBbox: function(){\n    return this.options.bbox;\n  },\n\n  /**\n   * Set the bounding box to limit search results to\n   * @param {Array<Number>} bbox a bounding box given as an array in the format [minX, minY, maxX, maxY].\n   * @returns {MapboxGeocoder} this\n   */\n  setBbox: function(bbox){\n    this.options.bbox = bbox;\n    return this;\n  },\n\n  /**\n   * Get a list of the countries to limit search results to\n   * @returns {String} a comma separated list of countries to limit to, if any\n   */\n  getCountries: function(){\n    return this.options.countries;\n  },\n\n  /**\n   * Set the countries to limit search results to\n   * @param {String} countries a comma separated list of countries to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setCountries: function(countries){\n    this.options.countries = countries;\n    return this;\n  },\n\n  /**\n   * Get a list of the types to limit search results to\n   * @returns {String} a comma separated list of types to limit to\n   */\n  getTypes: function(){\n    return this.options.types;\n  },\n\n  /**\n   * Set the types to limit search results to\n   * @param {String} countries a comma separated list of types to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setTypes: function(types){\n    this.options.types = types;\n    return this;\n  },\n\n  /**\n   * Get the minimum number of characters typed to trigger results used in the plugin\n   * @returns {Number} The minimum length in characters before a search is triggered\n   */\n  getMinLength: function(){\n    return this.options.minLength;\n  },\n\n  /**\n   * Set the minimum number of characters typed to trigger results used by the plugin\n   * @param {Number} minLength the minimum length in characters\n   * @returns {MapboxGeocoder} this\n   */\n  setMinLength: function(minLength){\n    this.options.minLength = minLength;\n    if (this._typeahead)  this._typeahead.options.minLength = minLength;\n    return this;\n  },\n\n  /**\n   * Get the limit value for the number of results to display used by the plugin\n   * @returns {Number} The limit value for the number of results to display used by the plugin\n   */\n  getLimit: function(){\n    return this.options.limit;\n  },\n\n  /**\n   * Set the limit value for the number of results to display used by the plugin\n   * @param {Number} limit the number of search results to return\n   * @returns {MapboxGeocoder}\n   */\n  setLimit: function(limit){\n    this.options.limit = limit;\n    if (this._typeahead) this._typeahead.options.limit = limit;\n    return this;\n  },\n\n  /**\n   * Get the filter function used by the plugin\n   * @returns {Function} the filter function\n   */\n  getFilter: function(){\n    return this.options.filter;\n  },\n\n  /**\n   * Set the filter function used by the plugin.\n   * @param {Function} filter A function which accepts a Feature in the [extended GeoJSON](https://docs.mapbox.com/api/search/geocoding-v5/#geocoding-response-object) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n   * @returns {MapboxGeocoder} this\n   */\n  setFilter: function(filter){\n    this.options.filter = filter;\n    return this;\n  },\n\n  /**\n   * Set the geocoding endpoint used by the plugin.\n   * @param {Function} origin A function which accepts an HTTPS URL to specify the endpoint to query results from.\n   * @returns {MapboxGeocoder} this\n   */\n  setOrigin: function(origin){\n    this.options.origin = origin;\n    this.geocoderService = mbxGeocoder(\n      MapboxClient({\n        accessToken: this.options.accessToken,\n        origin: this.options.origin\n      })\n    );\n    return this;\n  },\n\n  /**\n   * Get the geocoding endpoint the plugin is currently set to\n   * @returns {Function} the endpoint URL\n   */\n  getOrigin: function(){\n    return this.options.origin;\n  },\n\n  /**\n   * Set the accessToken option used for the geocoding request endpoint.\n   * @param {String} accessToken value\n   * @returns {MapboxGeocoder} this\n   */\n  setAccessToken: function(accessToken){\n    this.options.accessToken = accessToken;\n    this.geocoderService = mbxGeocoder(\n      MapboxClient({\n        accessToken: this.options.accessToken,\n        origin: this.options.origin\n      })\n    );\n    return this;\n  },\n\n  /**\n   * Set the autocomplete option used for geocoding requests\n   * @param {Boolean} value The boolean value to set autocomplete to\n   * @returns\n   */\n  setAutocomplete: function(value){\n    this.options.autocomplete = value;\n    return this;\n  },\n\n  /**\n   * Get the current autocomplete parameter value used for requests\n   * @returns {Boolean} The autocomplete parameter value\n   */\n  getAutocomplete: function(){\n    return this.options.autocomplete\n  },\n\n  /**\n   * Set the fuzzyMatch option used for approximate matching in geocoding requests\n   * @param {Boolean} value The boolean value to set fuzzyMatch to\n   * @returns\n   */\n  setFuzzyMatch: function(value){\n    this.options.fuzzyMatch = value;\n    return this;\n  },\n\n  /**\n   * Get the current fuzzyMatch parameter value used for requests\n   * @returns {Boolean} The fuzzyMatch parameter value\n   */\n  getFuzzyMatch: function(){\n    return this.options.fuzzyMatch\n  },\n\n  /**\n   * Set the routing parameter used to ask for routable point metadata in geocoding requests\n   * @param {Boolean} value The boolean value to set routing to\n   * @returns\n   */\n  setRouting: function(value){\n    this.options.routing = value;\n    return this;\n  },\n\n  /**\n   * Get the current routing parameter value used for requests\n   * @returns {Boolean} The routing parameter value\n   */\n  getRouting: function(){\n    return this.options.routing\n  },\n\n  /**\n   * Set the worldview parameter\n   * @param {String} code The country code representing the worldview (e.g. \"us\" | \"cn\" | \"jp\", \"in\")\n   * @returns\n   */\n  setWorldview: function(code){\n    this.options.worldview = code;\n    return this;\n  },\n\n  /**\n   * Get the current worldview parameter value used for requests\n   * @returns {String} The worldview parameter value\n   */\n  getWorldview: function(){\n    return this.options.worldview\n  },\n\n  /**\n   * Handle the placement of a result marking the selected result\n   * @private\n   * @param {Object} selected the selected geojson feature\n   * @returns {MapboxGeocoder} this\n   */\n  _handleMarker: function(selected){\n    // clean up any old marker that might be present\n    if (!this._map){\n      return;\n    }\n    this._removeMarker();\n    var defaultMarkerOptions = {\n      color: '#4668F2'\n    }\n    var markerOptions = extend({}, defaultMarkerOptions, this.options.marker)\n    this.mapMarker = new this._mapboxgl.Marker(markerOptions);\n    if (selected.center) {\n      this.mapMarker\n        .setLngLat(selected.center)\n        .addTo(this._map);\n    } else if (selected.geometry && selected.geometry.type && selected.geometry.type === 'Point' && selected.geometry.coordinates) {\n      this.mapMarker\n        .setLngLat(selected.geometry.coordinates)\n        .addTo(this._map);\n    }\n    return this;\n  },\n\n  /**\n   * Handle the removal of a result marker\n   * @private\n   */\n  _removeMarker: function(){\n    if (this.mapMarker){\n      this.mapMarker.remove();\n      this.mapMarker = null;\n    }\n  },\n\n  /**\n   * Subscribe to events that happen within the plugin.\n   * @param {String} type name of event. Available events and the data passed into their respective event objects are:\n   *\n   * - __clear__ `Emitted when the input is cleared`\n   * - __loading__ `{ query } Emitted when the geocoder is looking up a query`\n   * - __results__ `{ results } Fired when the geocoder returns a response`\n   * - __result__ `{ result } Fired when input is set`\n   * - __error__ `{ error } Error as string`\n   * @param {Function} fn function that's called when the event is emitted.\n   * @returns {MapboxGeocoder} this;\n   */\n  on: function(type, fn) {\n    this._eventEmitter.on(type, fn);\n    return this;\n  },\n\n  /**\n   * Remove an event\n   * @returns {MapboxGeocoder} this\n   * @param {String} type Event name.\n   * @param {Function} fn Function that should unsubscribe to the event emitted.\n   */\n  off: function(type, fn) {\n    this._eventEmitter.removeListener(type, fn);\n    this.eventManager.remove();\n    return this;\n  }\n};\n\nmodule.exports = MapboxGeocoder;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdCQUFnQixtQkFBTyxDQUFDLDhEQUFhO0FBQ3JDLGVBQWUsbUJBQU8sQ0FBQyxzRUFBaUI7QUFDeEMsYUFBYSxtQkFBTyxDQUFDLHNEQUFPO0FBQzVCLG1CQUFtQiwwREFBOEI7QUFDakQsaUJBQWlCLG1CQUFPLENBQUMsdUZBQWM7QUFDdkMsbUJBQW1CLG1CQUFPLENBQUMsNEVBQW9CO0FBQy9DLGtCQUFrQixtQkFBTyxDQUFDLDRHQUF1QztBQUNqRSx5QkFBeUIsbUJBQU8sQ0FBQywrRUFBVTtBQUMzQyxtQkFBbUIsbUJBQU8sQ0FBQywyRkFBZ0I7QUFDM0MsYUFBYSxtQkFBTyxDQUFDLHFEQUFRO0FBQzdCLGtCQUFrQixtQkFBTyxDQUFDLHlGQUFlO0FBQ3pDLFlBQVksbUJBQU8sQ0FBQyw2RUFBUzs7O0FBRzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsUUFBUTtBQUNuQixXQUFXLGFBQWE7QUFDeEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLHdDQUF3QztBQUNuRDtBQUNBLHVDQUF1QyxtQ0FBbUM7QUFDMUU7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsd0JBQXdCO0FBQ3hCLHdCQUF3QjtBQUN4QiwwQkFBMEI7QUFDMUIseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGNBQWM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsbUNBQW1DO0FBQzVFO0FBQ0E7QUFDQSxhQUFhLGlDQUFpQztBQUM5QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMkJBQTJCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDRDQUE0QyxpQkFBaUI7QUFDN0QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsaUJBQWlCO0FBQ2pFLFlBQVk7QUFDWixnREFBZ0QsVUFBVSxrREFBa0Q7QUFDNUc7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrQkFBa0I7QUFDNUQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLLElBQUk7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5QkFBeUI7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLElBQUksTUFBTSxNQUFNLGNBQWMsSUFBSSxNQUFNLE1BQU07QUFDM0Y7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGVBQWU7QUFDL0MsTUFBTTtBQUNOOztBQUVBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsb0JBQW9COztBQUU3RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUEsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0NBQStDLDRCQUE0QjtBQUMzRSw2Q0FBNkMsWUFBWTtBQUN6RCxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZDQUE2QztBQUN2RSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsYUFBYSxhQUFhO0FBQzFCLGFBQWEsU0FBUztBQUN0QixlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QixlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxzQkFBc0IsUUFBUTtBQUM5QixzQkFBc0IsVUFBVTtBQUNoQyxxQkFBcUIsU0FBUztBQUM5QixvQkFBb0IsUUFBUTtBQUM1QixhQUFhLFVBQVU7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQixhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1nZW9jb2Rlci9saWIvaW5kZXguanM/YWZjMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlYWhlYWQgPSByZXF1aXJlKCdzdWdnZXN0aW9ucycpO1xudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnbG9kYXNoLmRlYm91bmNlJyk7XG52YXIgZXh0ZW5kID0gcmVxdWlyZSgneHRlbmQnKTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG52YXIgZXhjZXB0aW9ucyA9IHJlcXVpcmUoJy4vZXhjZXB0aW9ucycpO1xudmFyIE1hcGJveENsaWVudCA9IHJlcXVpcmUoJ0BtYXBib3gvbWFwYm94LXNkaycpO1xudmFyIG1ieEdlb2NvZGVyID0gcmVxdWlyZSgnQG1hcGJveC9tYXBib3gtc2RrL3NlcnZpY2VzL2dlb2NvZGluZycpO1xudmFyIE1hcGJveEV2ZW50TWFuYWdlciA9IHJlcXVpcmUoJy4vZXZlbnRzJyk7XG52YXIgbG9jYWxpemF0aW9uID0gcmVxdWlyZSgnLi9sb2NhbGl6YXRpb24nKTtcbnZhciBzdWJ0YWcgPSByZXF1aXJlKCdzdWJ0YWcnKTtcbnZhciBHZW9sb2NhdGlvbiA9IHJlcXVpcmUoJy4vZ2VvbG9jYXRpb24nKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuXG5jb25zdCBHRU9DT0RFX1JFUVVFU1RfVFlQRSA9IHtcbiAgRk9SV0FSRDogMCxcbiAgTE9DQUw6IDEsXG4gIFJFVkVSU0U6IDIsXG59O1xuXG4vKipcbiAqIERvbid0IGluY2x1ZGUgdGhpcyBhcyBwYXJ0IG9mIHRoZSBvcHRpb25zIG9iamVjdCB3aGVuIGNyZWF0aW5nIGEgbmV3IE1hcGJveEdlb2NvZGVyIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBnZXRGb290ZXJOb2RlKCkge1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybC1nZW9jb2Rlci0tcG93ZXJlZC1ieSc7XG4gIGRpdi5pbm5lckhUTUwgPSAnPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vc2VhcmNoLXNlcnZpY2VcIiB0YXJnZXQ9XCJfYmxhbmtcIj5Qb3dlcmVkIGJ5IE1hcGJveDwvYT4nO1xuXG4gIHJldHVybiBkaXY7XG59XG5cbi8qKlxuICogQSBnZW9jb2RlciBjb21wb25lbnQgdXNpbmcgdGhlIFtNYXBib3ggR2VvY29kaW5nIEFQSV0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL3NlYXJjaC8jZ2VvY29kaW5nKVxuICogQGNsYXNzIE1hcGJveEdlb2NvZGVyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuYWNjZXNzVG9rZW4gUmVxdWlyZWQuXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMub3JpZ2luPWh0dHBzOi8vYXBpLm1hcGJveC5jb21dIFVzZSB0byBzZXQgYSBjdXN0b20gQVBJIG9yaWdpbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5tYXBib3hnbF0gQSBbbWFwYm94LWdsXShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcykgaW5zdGFuY2UgdG8gdXNlIHdoZW4gY3JlYXRpbmcgW01hcmtlcnNdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvI21hcmtlcikuIFJlcXVpcmVkIGlmIGBvcHRpb25zLm1hcmtlcmAgaXMgYHRydWVgLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnpvb209MTZdIE9uIGdlb2NvZGVkIHJlc3VsdCB3aGF0IHpvb20gbGV2ZWwgc2hvdWxkIHRoZSBtYXAgYW5pbWF0ZSB0byB3aGVuIGEgYGJib3hgIGlzbid0IGZvdW5kIGluIHRoZSByZXNwb25zZS4gSWYgYSBgYmJveGAgaXMgZm91bmQgdGhlIG1hcCB3aWxsIGZpdCB0byB0aGUgYGJib3hgLlxuICogQHBhcmFtIHtCb29sZWFufE9iamVjdH0gW29wdGlvbnMuZmx5VG89dHJ1ZV0gSWYgYGZhbHNlYCwgYW5pbWF0aW5nIHRoZSBtYXAgdG8gYSBzZWxlY3RlZCByZXN1bHQgaXMgZGlzYWJsZWQuIElmIGB0cnVlYCwgYW5pbWF0aW5nIHRoZSBtYXAgd2lsbCB1c2UgdGhlIGRlZmF1bHQgYW5pbWF0aW9uIHBhcmFtZXRlcnMuIElmIGFuIG9iamVjdCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgYG9wdGlvbnNgIHRvIHRoZSBtYXAgW2BmbHlUb2BdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvI21hcCNmbHl0bykgb3IgW2BmaXRCb3VuZHNgXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpLyNtYXAjZml0Ym91bmRzKSBtZXRob2QgcHJvdmlkaW5nIGNvbnRyb2wgb3ZlciB0aGUgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBsYWNlaG9sZGVyPVNlYXJjaF0gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgcGxhY2Vob2xkZXIgYXR0cmlidXRlIHZhbHVlLlxuICogQHBhcmFtIHtPYmplY3R8J2lwJ30gW29wdGlvbnMucHJveGltaXR5XSBhIGdlb2dyYXBoaWNhbCBwb2ludCBnaXZlbiBhcyBhbiBvYmplY3Qgd2l0aCBgbGF0aXR1ZGVgIGFuZCBgbG9uZ2l0dWRlYCBwcm9wZXJ0aWVzLCBvciB0aGUgc3RyaW5nICdpcCcgdG8gdXNlIGEgdXNlcidzIElQIGFkZHJlc3MgbG9jYXRpb24uIFNlYXJjaCByZXN1bHRzIGNsb3NlciB0byB0aGlzIHBvaW50IHdpbGwgYmUgZ2l2ZW4gaGlnaGVyIHByaW9yaXR5LlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy50cmFja1Byb3hpbWl0eT10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBnZW9jb2RlciBwcm94aW1pdHkgd2lsbCBkeW5hbWljYWxseSB1cGRhdGUgYmFzZWQgb24gdGhlIGN1cnJlbnQgbWFwIHZpZXcgb3IgdXNlcidzIElQIGxvY2F0aW9uLCBkZXBlbmRpbmcgb24gem9vbSBsZXZlbC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY29sbGFwc2VkPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBnZW9jb2RlciBjb250cm9sIHdpbGwgY29sbGFwc2UgdW50aWwgaG92ZXJlZCBvciBpbiBmb2N1cy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2xlYXJBbmRCbHVyT25Fc2M9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIGdlb2NvZGVyIGNvbnRyb2wgd2lsbCBjbGVhciBpdCdzIGNvbnRlbnRzIGFuZCBibHVyIHdoZW4gdXNlciBwcmVzc2VzIHRoZSBlc2NhcGUga2V5LlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jbGVhck9uQmx1cj1mYWxzZV0gSWYgYHRydWVgLCB0aGUgZ2VvY29kZXIgY29udHJvbCB3aWxsIGNsZWFyIGl0cyB2YWx1ZSB3aGVuIHRoZSBpbnB1dCBibHVycy5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmJib3hdIGEgYm91bmRpbmcgYm94IGFyZ3VtZW50OiB0aGlzIGlzXG4gKiBhIGJvdW5kaW5nIGJveCBnaXZlbiBhcyBhbiBhcnJheSBpbiB0aGUgZm9ybWF0IGBbbWluWCwgbWluWSwgbWF4WCwgbWF4WV1gLlxuICogU2VhcmNoIHJlc3VsdHMgd2lsbCBiZSBsaW1pdGVkIHRvIHRoZSBib3VuZGluZyBib3guXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuY291bnRyaWVzXSBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIGNvdW50cnkgY29kZXMgdG9cbiAqIGxpbWl0IHJlc3VsdHMgdG8gc3BlY2lmaWVkIGNvdW50cnkgb3IgY291bnRyaWVzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnR5cGVzXSBhIGNvbW1hIHNlcGVyYXRlZCBsaXN0IG9mIHR5cGVzIHRoYXQgZmlsdGVyXG4gKiByZXN1bHRzIHRvIG1hdGNoIHRob3NlIHNwZWNpZmllZC4gU2VlIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9zZWFyY2gvI2RhdGEtdHlwZXNcbiAqIGZvciBhdmFpbGFibGUgdHlwZXMuXG4gKiBJZiByZXZlcnNlR2VvY29kZSBpcyBlbmFibGVkIGFuZCBubyB0eXBlIGlzIHNwZWNpZmllZCwgdGhlIHR5cGUgZGVmYXVsdHMgdG8gUE9Jcy4gT3RoZXJ3aXNlLCBpZiB5b3UgY29uZmlndXJlIG1vcmUgdGhhbiBvbmUgdHlwZSwgdGhlIGZpcnN0IHR5cGUgd2lsbCBiZSB1c2VkLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pbkxlbmd0aD0yXSBNaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIGVudGVyIGJlZm9yZSByZXN1bHRzIGFyZSBzaG93bi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5saW1pdD01XSBNYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHNob3cuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFuZ3VhZ2VdIFNwZWNpZnkgdGhlIGxhbmd1YWdlIHRvIHVzZSBmb3IgcmVzcG9uc2UgdGV4dCBhbmQgcXVlcnkgcmVzdWx0IHdlaWdodGluZy4gT3B0aW9ucyBhcmUgSUVURiBsYW5ndWFnZSB0YWdzIGNvbXByaXNlZCBvZiBhIG1hbmRhdG9yeSBJU08gNjM5LTEgbGFuZ3VhZ2UgY29kZSBhbmQgb3B0aW9uYWxseSBvbmUgb3IgbW9yZSBJRVRGIHN1YnRhZ3MgZm9yIGNvdW50cnkgb3Igc2NyaXB0LiBNb3JlIHRoYW4gb25lIHZhbHVlIGNhbiBhbHNvIGJlIHNwZWNpZmllZCwgc2VwYXJhdGVkIGJ5IGNvbW1hcy4gRGVmYXVsdHMgdG8gdGhlIGJyb3dzZXIncyBsYW5ndWFnZSBzZXR0aW5ncy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmZpbHRlcl0gQSBmdW5jdGlvbiB3aGljaCBhY2NlcHRzIGEgRmVhdHVyZSBpbiB0aGUgW2V4dGVuZGVkIEdlb0pTT05dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9zZWFyY2gvZ2VvY29kaW5nLXY1LyNnZW9jb2RpbmctcmVzcG9uc2Utb2JqZWN0KSBmb3JtYXQgdG8gZmlsdGVyIG91dCByZXN1bHRzIGZyb20gdGhlIEdlb2NvZGluZyBBUEkgcmVzcG9uc2UgYmVmb3JlIHRoZXkgYXJlIGluY2x1ZGVkIGluIHRoZSBzdWdnZXN0aW9ucyBsaXN0LiBSZXR1cm4gYHRydWVgIHRvIGtlZXAgdGhlIGl0ZW0sIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMubG9jYWxHZW9jb2Rlcl0gQSBmdW5jdGlvbiBhY2NlcHRpbmcgdGhlIHF1ZXJ5IHN0cmluZyB3aGljaCBwZXJmb3JtcyBsb2NhbCBnZW9jb2RpbmcgdG8gc3VwcGxlbWVudCByZXN1bHRzIGZyb20gdGhlIE1hcGJveCBHZW9jb2RpbmcgQVBJLiBFeHBlY3RlZCB0byByZXR1cm4gYW4gQXJyYXkgb2YgR2VvSlNPTiBGZWF0dXJlcyBpbiB0aGUgW2V4dGVuZGVkIEdlb0pTT05dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9zZWFyY2gvZ2VvY29kaW5nLXY1LyNnZW9jb2RpbmctcmVzcG9uc2Utb2JqZWN0KSBmb3JtYXQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5leHRlcm5hbEdlb2NvZGVyXSBBIGZ1bmN0aW9uIGFjY2VwdGluZyB0aGUgcXVlcnkgc3RyaW5nIGFuZCBjdXJyZW50IGZlYXR1cmVzIGxpc3Qgd2hpY2ggcGVyZm9ybXMgZ2VvY29kaW5nIHRvIHN1cHBsZW1lbnQgcmVzdWx0cyBmcm9tIHRoZSBNYXBib3ggR2VvY29kaW5nIEFQSS4gRXhwZWN0ZWQgdG8gcmV0dXJuIGEgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBhbiBBcnJheSBvZiBHZW9KU09OIEZlYXR1cmVzIGluIHRoZSBbZXh0ZW5kZWQgR2VvSlNPTl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL3NlYXJjaC9nZW9jb2RpbmctdjUvI2dlb2NvZGluZy1yZXNwb25zZS1vYmplY3QpIGZvcm1hdC5cbiAqIEBwYXJhbSB7ZGlzdGFuY2V8c2NvcmV9IFtvcHRpb25zLnJldmVyc2VNb2RlPWRpc3RhbmNlXSAtIFNldCB0aGUgZmFjdG9ycyB0aGF0IGFyZSB1c2VkIHRvIHNvcnQgbmVhcmJ5IHJlc3VsdHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJldmVyc2VHZW9jb2RlPWZhbHNlXSBJZiBgdHJ1ZWAsIGVuYWJsZSByZXZlcnNlIGdlb2NvZGluZyBtb2RlLiBJbiByZXZlcnNlIGdlb2NvZGluZywgc2VhcmNoIGlucHV0IGlzIGV4cGVjdGVkIHRvIGJlIGNvb3JkaW5hdGVzIGluIHRoZSBmb3JtIGBsYXQsIGxvbmAsIHdpdGggc3VnZ2VzdGlvbnMgYmVpbmcgdGhlIHJldmVyc2UgZ2VvY29kZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZsaXBDb29yZGluYXRlcz1mYWxzZV0gSWYgYHRydWVgLCBzZWFyY2ggaW5wdXQgY29vcmRpbmF0ZXMgZm9yIHJldmVyc2UgZ2VvY29kaW5nIGlzIGV4cGVjdGVkIHRvIGJlIGluIHRoZSBmb3JtIGBsb24sIGxhdGAgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBgbGF0LCBsb25gLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5lbmFibGVFdmVudExvZ2dpbmc9dHJ1ZV0gQWxsb3cgTWFwYm94IHRvIGNvbGxlY3QgYW5vbnltb3VzIHVzYWdlIHN0YXRpc3RpY3MgZnJvbSB0aGUgcGx1Z2luLlxuICogQHBhcmFtIHtCb29sZWFufE9iamVjdH0gW29wdGlvbnMubWFya2VyPXRydWVdICBJZiBgdHJ1ZWAsIGEgW01hcmtlcl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8jbWFya2VyKSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBtYXAgYXQgdGhlIGxvY2F0aW9uIG9mIHRoZSB1c2VyLXNlbGVjdGVkIHJlc3VsdCB1c2luZyBhIGRlZmF1bHQgc2V0IG9mIE1hcmtlciBvcHRpb25zLiAgSWYgdGhlIHZhbHVlIGlzIGFuIG9iamVjdCwgdGhlIG1hcmtlciB3aWxsIGJlIGNvbnN0cnVjdGVkIHVzaW5nIHRoZXNlIG9wdGlvbnMuIElmIGBmYWxzZWAsIG5vIG1hcmtlciB3aWxsIGJlIGFkZGVkIHRvIHRoZSBtYXAuIFJlcXVpcmVzIHRoYXQgYG9wdGlvbnMubWFwYm94Z2xgIGFsc28gYmUgc2V0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMucmVuZGVyXSBBIGZ1bmN0aW9uIHRoYXQgc3BlY2lmaWVzIGhvdyB0aGUgcmVzdWx0cyBzaG91bGQgYmUgcmVuZGVyZWQgaW4gdGhlIGRyb3Bkb3duIG1lbnUuIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGFjY2VwdHMgYSBzaW5nbGUgW2V4dGVuZGVkIEdlb0pTT05dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9zZWFyY2gvZ2VvY29kaW5nLXY1LyNnZW9jb2RpbmctcmVzcG9uc2Utb2JqZWN0KSBvYmplY3QgYXMgaW5wdXQgYW5kIHJldHVybiBhIHN0cmluZy4gQW55IEhUTUwgaW4gdGhlIHJldHVybmVkIHN0cmluZyB3aWxsIGJlIHJlbmRlcmVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZ2V0SXRlbVZhbHVlXSBBIGZ1bmN0aW9uIHRoYXQgc3BlY2lmaWVzIGhvdyB0aGUgc2VsZWN0ZWQgcmVzdWx0IHNob3VsZCBiZSByZW5kZXJlZCBpbiB0aGUgc2VhcmNoIGJhci4gVGhpcyBmdW5jdGlvbiBzaG91bGQgYWNjZXB0IGEgc2luZ2xlIFtleHRlbmRlZCBHZW9KU09OXShodHRwczovL2RvY3MubWFwYm94LmNvbS9hcGkvc2VhcmNoL2dlb2NvZGluZy12NS8jZ2VvY29kaW5nLXJlc3BvbnNlLW9iamVjdCkgb2JqZWN0IGFzIGlucHV0IGFuZCByZXR1cm4gYSBzdHJpbmcuIEhUTUwgdGFncyBpbiB0aGUgb3V0cHV0IHN0cmluZyB3aWxsIG5vdCBiZSByZW5kZXJlZC4gRGVmYXVsdHMgdG8gYChpdGVtKSA9PiBpdGVtLnBsYWNlX25hbWVgLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1vZGU9bWFwYm94LnBsYWNlc10gQSBzdHJpbmcgc3BlY2lmeWluZyB0aGUgZ2VvY29kaW5nIFtlbmRwb2ludF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL3NlYXJjaC8jZW5kcG9pbnRzKSB0byBxdWVyeS4gT3B0aW9ucyBhcmUgYG1hcGJveC5wbGFjZXNgIGFuZCBgbWFwYm94LnBsYWNlcy1wZXJtYW5lbnRgLiBUaGUgYG1hcGJveC5wbGFjZXMtcGVybWFuZW50YCBtb2RlIHJlcXVpcmVzIGFuIGVudGVycHJpc2UgbGljZW5zZSBmb3IgcGVybWFuZW50IGdlb2NvZGVzLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5sb2NhbEdlb2NvZGVyT25seT1mYWxzZV0gSWYgYHRydWVgLCBpbmRpY2F0ZXMgdGhhdCB0aGUgYGxvY2FsR2VvY29kZXJgIHJlc3VsdHMgc2hvdWxkIGJlIHRoZSBvbmx5IG9uZXMgcmV0dXJuZWQgdG8gdGhlIHVzZXIuIElmIGBmYWxzZWAsIGluZGljYXRlcyB0aGF0IHRoZSBgbG9jYWxHZW9jb2RlcmAgcmVzdWx0cyBzaG91bGQgYmUgY29tYmluZWQgd2l0aCB0aG9zZSBmcm9tIHRoZSBNYXBib3ggQVBJIHdpdGggdGhlIGBsb2NhbEdlb2NvZGVyYCByZXN1bHRzIHJhbmtlZCBoaWdoZXIuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmF1dG9jb21wbGV0ZT10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgdG8gcmV0dXJuIGF1dG9jb21wbGV0ZSByZXN1bHRzIG9yIG5vdC4gV2hlbiBhdXRvY29tcGxldGUgaXMgZW5hYmxlZCwgcmVzdWx0cyB3aWxsIGJlIGluY2x1ZGVkIHRoYXQgc3RhcnQgd2l0aCB0aGUgcmVxdWVzdGVkIHN0cmluZywgcmF0aGVyIHRoYW4ganVzdCByZXNwb25zZXMgdGhhdCBtYXRjaCBpdCBleGFjdGx5LlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5mdXp6eU1hdGNoPXRydWVdIFNwZWNpZnkgd2hldGhlciB0aGUgR2VvY29kaW5nIEFQSSBzaG91bGQgYXR0ZW1wdCBhcHByb3hpbWF0ZSwgYXMgd2VsbCBhcyBleGFjdCwgbWF0Y2hpbmcgd2hlbiBwZXJmb3JtaW5nIHNlYXJjaGVzLCBvciB3aGV0aGVyIGl0IHNob3VsZCBvcHQgb3V0IG9mIHRoaXMgYmVoYXZpb3IgYW5kIG9ubHkgYXR0ZW1wdCBleGFjdCBtYXRjaGluZy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucm91dGluZz1mYWxzZV0gU3BlY2lmeSB3aGV0aGVyIHRvIHJlcXVlc3QgYWRkaXRpb25hbCBtZXRhZGF0YSBhYm91dCB0aGUgcmVjb21tZW5kZWQgbmF2aWdhdGlvbiBkZXN0aW5hdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBmZWF0dXJlIG9yIG5vdC4gT25seSBhcHBsaWNhYmxlIGZvciBhZGRyZXNzIGZlYXR1cmVzLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLndvcmxkdmlldz1cInVzXCJdIEZpbHRlciByZXN1bHRzIHRvIGdlb2dyYXBoaWMgZmVhdHVyZXMgd2hvc2UgY2hhcmFjdGVyaXN0aWNzIGFyZSBkZWZpbmVkIGRpZmZlcmVudGx5IGJ5IGF1ZGllbmNlcyBiZWxvbmdpbmcgdG8gdmFyaW91cyByZWdpb25hbCwgY3VsdHVyYWwsIG9yIHBvbGl0aWNhbCBncm91cHMuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmVuYWJsZUdlb2xvY2F0aW9uPWZhbHNlXSBJZiBgdHJ1ZWAgZW5hYmxlIHVzZXIgZ2VvbG9jYXRpb24gZmVhdHVyZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudXNlQnJvd3NlckZvY3VzPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBnZW9jb2RlciB3aWxsIHVzZSB0aGUgYnJvd3NlcidzIGZvY3VzIGV2ZW50IHRvIHNob3cgc3VnZ2VzdGlvbnMuIElmIGBmYWxzZWAsIGl0IHdpbGwgb25seSBoaWdobGlnaHQgYWN0aXZlIHN1Z2dlc3Rpb25zIGFuZCBUYWIgd2lsbCBub3QgcHJvcGFnYXRlIHRvIHRoZSBzdWdnZXN0aW9ucyBsaXN0LlxuICogQHBhcmFtIHsoJ2FkZHJlc3MnfCdzdHJlZXQnfCdwbGFjZSd8J2NvdW50cnknKX0gW29wdGlvbnMuYWRkcmVzc0FjY3VyYWN5PVwic3RyZWV0XCJdIFRoZSBhY2N1cmFjeSBmb3IgdGhlIGdlb2xvY2F0aW9uIGZlYXR1cmUgd2l0aCB3aGljaCB3ZSBkZWZpbmUgdGhlIGFkZHJlc3MgbGluZSB0byBmaWxsLiBUaGUgYnJvd3NlciBBUEkgcmV0dXJucyB0aGUgdXNlcidzIHBvc2l0aW9uIHdpdGggYWNjdXJhY3ksIGFuZCBzb21ldGltZXMgd2UgY2FuIGdldCB0aGUgbmVpZ2hib3IncyBhZGRyZXNzLiBUbyBwcmV2ZW50IHJlY2VpdmluZyBhbiBpbmNvcnJlY3QgYWRkcmVzcywgeW91IGNhbiByZWR1Y2UgdGhlIGFjY3VyYWN5IG9mIHRoZSBkZWZpbml0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBnZW9jb2RlciA9IG5ldyBNYXBib3hHZW9jb2Rlcih7IGFjY2Vzc1Rva2VuOiBtYXBib3hnbC5hY2Nlc3NUb2tlbiB9KTtcbiAqIG1hcC5hZGRDb250cm9sKGdlb2NvZGVyKTtcbiAqIEByZXR1cm4ge01hcGJveEdlb2NvZGVyfSBgdGhpc2BcbiAqXG4gKi9cblxuZnVuY3Rpb24gTWFwYm94R2VvY29kZXIob3B0aW9ucykge1xuICB0aGlzLl9ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIHRoaXMub3B0aW9ucyA9IGV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgdGhpcy5pbnB1dFN0cmluZyA9ICcnO1xuICB0aGlzLmZyZXNoID0gdHJ1ZTtcbiAgdGhpcy5sYXN0U2VsZWN0ZWQgPSBudWxsO1xuICB0aGlzLmdlb2xvY2F0aW9uID0gbmV3IEdlb2xvY2F0aW9uKCk7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyKSB7XG4gIGlmICghc3RyKSByZXR1cm4gJyc7XG4gIHJldHVybiBTdHJpbmcoc3RyKVxuICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgLnJlcGxhY2UoLycvZywgJyYjMzk7Jyk7XG59XG5cbk1hcGJveEdlb2NvZGVyLnByb3RvdHlwZSA9IHtcbiAgb3B0aW9uczoge1xuICAgIHpvb206IDE2LFxuICAgIGZseVRvOiB0cnVlLFxuICAgIHRyYWNrUHJveGltaXR5OiB0cnVlLFxuICAgIG1pbkxlbmd0aDogMixcbiAgICByZXZlcnNlR2VvY29kZTogZmFsc2UsXG4gICAgZmxpcENvb3JkaW5hdGVzOiBmYWxzZSxcbiAgICBsaW1pdDogNSxcbiAgICBvcmlnaW46ICdodHRwczovL2FwaS5tYXBib3guY29tJyxcbiAgICBlbmFibGVFdmVudExvZ2dpbmc6IHRydWUsXG4gICAgbWFya2VyOiB0cnVlLFxuICAgIG1hcGJveGdsOiBudWxsLFxuICAgIGNvbGxhcHNlZDogZmFsc2UsXG4gICAgY2xlYXJBbmRCbHVyT25Fc2M6IGZhbHNlLFxuICAgIGNsZWFyT25CbHVyOiBmYWxzZSxcbiAgICBlbmFibGVHZW9sb2NhdGlvbjogZmFsc2UsXG4gICAgYWRkcmVzc0FjY3VyYWN5OiAnc3RyZWV0JyxcbiAgICB1c2VCcm93c2VyRm9jdXM6IGZhbHNlLFxuICAgIGdldEl0ZW1WYWx1ZTogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0ucGxhY2VfbmFtZVxuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbihpdGVtKSB7XG4gICAgICB2YXIgcGxhY2VOYW1lID0gZXNjYXBlSHRtbChpdGVtLnBsYWNlX25hbWUpLnNwbGl0KCcsJyk7XG4gICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1zdWdnZXN0aW9uXCI+PGRpdiBjbGFzcz1cIm1hcGJveGdsLWN0cmwtZ2VvY29kZXItLXN1Z2dlc3Rpb24tdGl0bGVcIj4nICsgcGxhY2VOYW1lWzBdKyAnPC9kaXY+PGRpdiBjbGFzcz1cIm1hcGJveGdsLWN0cmwtZ2VvY29kZXItLXN1Z2dlc3Rpb24tYWRkcmVzc1wiPicgKyBwbGFjZU5hbWUuc3BsaWNlKDEsIHBsYWNlTmFtZS5sZW5ndGgpLmpvaW4oJywnKSArICc8L2Rpdj48L2Rpdj4nO1xuICAgIH1cbiAgfSxcbiAgXG4gIF9oZWFkZXJzOiB7fSxcblxuICAvKipcbiAgICogQWRkIHRoZSBnZW9jb2RlciB0byBhIGNvbnRhaW5lci4gVGhlIGNvbnRhaW5lciBjYW4gYmUgZWl0aGVyIGEgYG1hcGJveGdsLk1hcGAsIGFuIGBIVE1MRWxlbWVudGAgb3IgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nLlxuICAgKlxuICAgKiBJZiB0aGUgY29udGFpbmVyIGlzIGEgW2BtYXBib3hnbC5NYXBgXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpL21hcC8pLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmVoYXZlIGlkZW50aWNhbGx5IHRvIFtgTWFwLmFkZENvbnRyb2woZ2VvY29kZXIpYF0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS9tYXAvI21hcCNhZGRjb250cm9sKS5cbiAgICogSWYgdGhlIGNvbnRhaW5lciBpcyBhbiBpbnN0YW5jZSBvZiBbYEhUTUxFbGVtZW50YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50KSwgdGhlbiB0aGUgZ2VvY29kZXIgd2lsbCBiZSBhcHBlbmRlZCBhcyBhIGNoaWxkIG9mIHRoYXQgW2BIVE1MRWxlbWVudGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MRWxlbWVudCkuXG4gICAqIElmIHRoZSBjb250YWluZXIgaXMgYSBbQ1NTIHNlbGVjdG9yIHN0cmluZ10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NTU19TZWxlY3RvcnMpLCB0aGUgZ2VvY29kZXIgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgZWxlbWVudCByZXR1cm5lZCBmcm9tIHRoZSBxdWVyeS5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBjb250YWluZXIgaXMgbm9uZSBvZiB0aGUgYWJvdmUuXG4gICAqIEl0IHdpbGwgYWxzbyB0aHJvdyBhbiBlcnJvciBpZiB0aGUgcmVmZXJlbmNlZCBIVE1MIGVsZW1lbnQgY2Fubm90IGJlIGZvdW5kIGluIHRoZSBgZG9jdW1lbnQuYm9keWAuXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCBpZiB0aGUgSFRNTCBib2R5IGNvbnRhaW5zIHRoZSBlbGVtZW50IGA8ZGl2IGlkPSdnZW9jb2Rlci1jb250YWluZXInPjwvZGl2PmAsIHRoZSBmb2xsb3dpbmcgc2NyaXB0IHdpbGwgYXBwZW5kIHRoZSBnZW9jb2RlciB0byBgI2dlb2NvZGVyLWNvbnRhaW5lcmA6XG4gICAqXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogdmFyIGdlb2NvZGVyID0gbmV3IE1hcGJveEdlb2NvZGVyKHsgYWNjZXNzVG9rZW46IG1hcGJveGdsLmFjY2Vzc1Rva2VuIH0pO1xuICAgKiBnZW9jb2Rlci5hZGRUbygnI2dlb2NvZGVyLWNvbnRhaW5lcicpO1xuICAgKiBgYGBcbiAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8bWFwYm94Z2wuTWFwfSBjb250YWluZXIgQSByZWZlcmVuY2UgdG8gdGhlIGNvbnRhaW5lciB0byB3aGljaCB0byBhZGQgdGhlIGdlb2NvZGVyXG4gICAqL1xuICBhZGRUbzogZnVuY3Rpb24oY29udGFpbmVyKXtcblxuICAgIGZ1bmN0aW9uIGFkZFRvRXhpc3RpbmdDb250YWluZXIgKGdlb2NvZGVyLCBjb250YWluZXIpIHtcbiAgICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhjb250YWluZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVsZW1lbnQgcHJvdmlkZWQgdG8gI2FkZFRvKCkgZXhpc3RzLCBidXQgaXMgbm90IGluIHRoZSBET01cIilcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsID0gZ2VvY29kZXIub25BZGQoKTsgLy9yZXR1cm5zIHRoZSBpbnB1dCBlbGVtZW50cywgd2hpY2ggYXJlIHRoZW4gYWRkZWQgdG8gdGhlIHJlcXVlc3RlZCBodG1sIGNvbnRhaW5lclxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgY29udGFpbmVyIGlzIGEgbWFwLCBhZGQgdGhlIGNvbnRyb2wgbGlrZSBub3JtYWxcbiAgICBpZiAoY29udGFpbmVyLl9jb250cm9sQ29udGFpbmVyKXtcbiAgICAgIC8vICBpdCdzIGEgbWFwYm94LWdsIG1hcCwgYWRkIGxpa2Ugbm9ybWFsXG4gICAgICBjb250YWluZXIuYWRkQ29udHJvbCh0aGlzKTtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGNvbnRhaW5lciBpcyBhbiBIVE1MRWxlbWVudCwgdGhlbiBzZXQgdGhlIHBhcmVudCB0byBiZSB0aGF0IGVsZW1lbnRcbiAgICBlbHNlIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgYWRkVG9FeGlzdGluZ0NvbnRhaW5lcih0aGlzLCBjb250YWluZXIpO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgY29udGFpbmVyIGlzIGEgc3RyaW5nLCB0cmVhdCBpdCBhcyBhIENTUyBxdWVyeVxuICAgIGVsc2UgaWYgKHR5cGVvZiBjb250YWluZXIgPT0gJ3N0cmluZycpe1xuICAgICAgY29uc3QgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb250YWluZXIpO1xuICAgICAgaWYgKHBhcmVudC5sZW5ndGggPT09IDApe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbGVtZW50IFwiLCBjb250YWluZXIsIFwibm90IGZvdW5kLlwiKVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50Lmxlbmd0aCA+IDEpe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW9jb2RlciBjYW4gb25seSBiZSBhZGRlZCB0byBhIHNpbmdsZSBodG1sIGVsZW1lbnRcIilcbiAgICAgIH1cblxuICAgICAgYWRkVG9FeGlzdGluZ0NvbnRhaW5lcih0aGlzLCBwYXJlbnRbMF0pO1xuICAgIH1lbHNle1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IGFkZFRvIG11c3QgYmUgYSBtYXBib3gtZ2wtanMgbWFwLCBhbiBodG1sIGVsZW1lbnQsIG9yIGEgQ1NTIHNlbGVjdG9yIHF1ZXJ5IGZvciBhIHNpbmdsZSBodG1sIGVsZW1lbnRcIilcbiAgICB9XG4gIH0sXG5cbiAgb25BZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgIGlmIChtYXAgJiYgdHlwZW9mIG1hcCAhPSAnc3RyaW5nJyl7XG4gICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRMYW5ndWFnZSgpO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubG9jYWxHZW9jb2Rlck9ubHkpe1xuICAgICAgdGhpcy5nZW9jb2RlclNlcnZpY2UgPSBtYnhHZW9jb2RlcihcbiAgICAgICAgTWFwYm94Q2xpZW50KHtcbiAgICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5vcHRpb25zLmFjY2Vzc1Rva2VuLFxuICAgICAgICAgIG9yaWdpbjogdGhpcy5vcHRpb25zLm9yaWdpblxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmxvY2FsR2VvY29kZXJPbmx5ICYmICF0aGlzLm9wdGlvbnMubG9jYWxHZW9jb2Rlcil7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGxvY2FsR2VvY29kZXIgZnVuY3Rpb24gbXVzdCBiZSBzcGVjaWZpZWQgdG8gdXNlIGxvY2FsR2VvY29kZXJPbmx5IG1vZGVcIilcbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlciA9IG5ldyBNYXBib3hFdmVudE1hbmFnZXIodGhpcy5vcHRpb25zKTtcblxuICAgIHRoaXMuX29uQ2hhbmdlID0gdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblBhc3RlID0gdGhpcy5fb25QYXN0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQmx1ciA9IHRoaXMuX29uQmx1ci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3Nob3dCdXR0b24gPSB0aGlzLl9zaG93QnV0dG9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGlkZUJ1dHRvbiA9IHRoaXMuX2hpZGVCdXR0b24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblF1ZXJ5UmVzdWx0ID0gdGhpcy5fb25RdWVyeVJlc3VsdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2xlYXIgPSB0aGlzLmNsZWFyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fdXBkYXRlUHJveGltaXR5ID0gdGhpcy5fdXBkYXRlUHJveGltaXR5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY29sbGFwc2UgPSB0aGlzLl9jb2xsYXBzZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3VuQ29sbGFwc2UgPSB0aGlzLl91bkNvbGxhcHNlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xlYXIgPSB0aGlzLl9jbGVhci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2NsZWFyT25CbHVyID0gdGhpcy5fY2xlYXJPbkJsdXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9nZW9sb2NhdGVVc2VyID0gdGhpcy5fZ2VvbG9jYXRlVXNlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU3VnZ2VzdGlvbkl0ZW1Gb2N1cyA9IHRoaXMuX29uU3VnZ2VzdGlvbkl0ZW1Gb2N1cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU3VnZ2VzdGlvbkl0ZW1LZXlEb3duID0gdGhpcy5fb25TdWdnZXN0aW9uSXRlbUtleWRvd24uYmluZCh0aGlzKTtcblxuICAgIHZhciBlbCA9ICh0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcbiAgICBlbC5jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybC1nZW9jb2RlciBtYXBib3hnbC1jdHJsJztcblxuICAgIHZhciBzZWFyY2hJY29uID0gdGhpcy5jcmVhdGVJY29uKCdzZWFyY2gnLCAnPHBhdGggZD1cIk03LjQgMi41Yy0yLjcgMC00LjkgMi4yLTQuOSA0LjlzMi4yIDQuOSA0LjkgNC45YzEgMCAxLjgtLjIgMi41LS44bDMuNyAzLjdjLjIuMi40LjMuOC4zLjcgMCAxLjEtLjQgMS4xLTEuMSAwLS4zLS4xLS41LS4zLS44TDExLjQgMTBjLjQtLjguOC0xLjYuOC0yLjUuMS0yLjgtMi4xLTUtNC44LTV6bTAgMS42YzEuOCAwIDMuMiAxLjQgMy4yIDMuMnMtMS40IDMuMi0zLjIgMy4yLTMuMy0xLjMtMy4zLTMuMSAxLjQtMy4zIDMuMy0zLjN6XCIvPicpXG5cbiAgICB0aGlzLl9pbnB1dEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0aGlzLl9pbnB1dEVsLnR5cGUgPSAndGV4dCc7XG4gICAgdGhpcy5faW5wdXRFbC5jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybC1nZW9jb2Rlci0taW5wdXQnO1xuXG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlcigpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb2xsYXBzZWQpIHtcbiAgICAgIHRoaXMuX2NvbGxhcHNlKCk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5fdW5Db2xsYXBzZSk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fY29sbGFwc2UpO1xuICAgICAgdGhpcy5faW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3VuQ29sbGFwc2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29sbGFwc2VkIHx8IHRoaXMub3B0aW9ucy5jbGVhck9uQmx1cikge1xuICAgICAgdGhpcy5faW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fb25CbHVyKTtcbiAgICB9XG5cbiAgICB0aGlzLl9pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWJvdW5jZSh0aGlzLl9vbktleURvd24sIDIwMCkpO1xuICAgIHRoaXMuX2lucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCB0aGlzLl9vblBhc3RlKTtcbiAgICB0aGlzLl9pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5fc2hvd0J1dHRvbik7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hpZGVCdXR0b24pO1xuICAgIHRoaXMuX2lucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihlKXtcbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmtleWV2ZW50KGUsIHRoaXMpO1xuICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICB2YXIgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9jb2Rlci0tcGluLXJpZ2h0Jyk7XG5cbiAgICB0aGlzLl9jbGVhckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgdGhpcy5fY2xlYXJFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2xlYXInKTtcbiAgICB0aGlzLl9jbGVhckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGVhcik7XG4gICAgdGhpcy5fY2xlYXJFbC5jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybC1nZW9jb2Rlci0tYnV0dG9uJztcblxuICAgIHZhciBidXR0b25JY29uID0gdGhpcy5jcmVhdGVJY29uKCdjbG9zZScsICc8cGF0aCBkPVwiTTMuOCAyLjVjLS42IDAtMS4zLjctMS4zIDEuMyAwIC4zLjIuNy41LjhMNy4yIDkgMyAxMy4yYy0uMy4zLS41LjctLjUgMSAwIC42LjcgMS4zIDEuMyAxLjMuMyAwIC43LS4yIDEtLjVMOSAxMC44bDQuMiA0LjJjLjIuMy43LjMgMSAuMy42IDAgMS4zLS43IDEuMy0xLjMgMC0uMy0uMi0uNy0uMy0xbC00LjQtNEwxNSA0LjZjLjMtLjIuNS0uNS41LS44IDAtLjctLjctMS4zLTEuMy0xLjMtLjMgMC0uNy4yLTEgLjNMOSA3LjEgNC44IDIuOGMtLjMtLjEtLjctLjMtMS0uM3pcIi8+JylcbiAgICB0aGlzLl9jbGVhckVsLmFwcGVuZENoaWxkKGJ1dHRvbkljb24pO1xuXG4gICAgdGhpcy5fbG9hZGluZ0VsID0gdGhpcy5jcmVhdGVJY29uKCdsb2FkaW5nJywgJzxwYXRoIGZpbGw9XCIjMzMzXCIgZD1cIk00LjQgNC40bC44LjhjMi4xLTIuMSA1LjUtMi4xIDcuNiAwbC44LS44Yy0yLjUtMi41LTYuNy0yLjUtOS4yIDB6XCIvPjxwYXRoIG9wYWNpdHk9XCIuMVwiIGQ9XCJNMTIuOCAxMi45Yy0yLjEgMi4xLTUuNSAyLjEtNy42IDAtMi4xLTIuMS0yLjEtNS41IDAtNy43bC0uOC0uOGMtMi41IDIuNS0yLjUgNi43IDAgOS4yczYuNiAyLjUgOS4yIDAgMi41LTYuNiAwLTkuMmwtLjguOGMyLjIgMi4xIDIuMiA1LjYgMCA3Ljd6XCIvPicpO1xuXG4gICAgYWN0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLl9jbGVhckVsKTtcbiAgICBhY3Rpb25zLmFwcGVuZENoaWxkKHRoaXMuX2xvYWRpbmdFbCk7XG5cbiAgICBlbC5hcHBlbmRDaGlsZChzZWFyY2hJY29uKTtcbiAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLl9pbnB1dEVsKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlR2VvbG9jYXRpb24gJiYgdGhpcy5nZW9sb2NhdGlvbi5pc1N1cHBvcnQoKSkge1xuICAgICAgdGhpcy5fZ2VvbG9jYXRlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIHRoaXMuX2dlb2xvY2F0ZUVsLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdHZW9sb2NhdGUnKTtcbiAgICAgIHRoaXMuX2dlb2xvY2F0ZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZ2VvbG9jYXRlVXNlcik7XG4gICAgICB0aGlzLl9nZW9sb2NhdGVFbC5jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybC1nZW9jb2Rlci0tYnV0dG9uJztcblxuICAgICAgdmFyIGdlb2xvY2F0ZUljb24gPSB0aGlzLmNyZWF0ZUljb24oJ2dlb2xvY2F0ZScsICc8cGF0aCBkPVwiTTEyLjk5OSAzLjY3N0wyLjA0MiA4LjI2OWMtLjk2Mi40MDMtLjc0NyAxLjgyMy4yOSAxLjkxMmw1LjAzMi40MzEuNDMxIDUuMDMzYy4wODkgMS4wMzcgMS41MDkgMS4yNTIgMS45MTIuMjlsNC41OTItMTAuOTU3Yy4zNDUtLjgyMi0uNDc3LTEuNjQ0LTEuMjk5LTEuMjk5elwiIGZpbGw9XCIjNDI2NGZiXCIvPicpO1xuICAgICAgdGhpcy5fZ2VvbG9jYXRlRWwuYXBwZW5kQ2hpbGQoZ2VvbG9jYXRlSWNvbik7XG5cbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQodGhpcy5fZ2VvbG9jYXRlRWwpO1xuICAgICAgdGhpcy5fc2hvd0dlb2xvY2F0ZUJ1dHRvbigpO1xuICAgIH1cblxuICAgIHZhciB0eXBlYWhlYWQgPSB0aGlzLl90eXBlYWhlYWQgPSBuZXcgVHlwZWFoZWFkKHRoaXMuX2lucHV0RWwsIFtdLCB7XG4gICAgICBoaWRlT25CbHVyOiAhdGhpcy5vcHRpb25zLnVzZUJyb3dzZXJGb2N1cyxcbiAgICAgIGZpbHRlcjogZmFsc2UsXG4gICAgICBtaW5MZW5ndGg6IHRoaXMub3B0aW9ucy5taW5MZW5ndGgsXG4gICAgICBsaW1pdDogdGhpcy5vcHRpb25zLmxpbWl0XG4gICAgfSk7XG5cbiAgICAvLyBUbyBwcmVzZXJ2ZSB0YWIgbmF2aWdhdGlvbiBvcmRlclxuICAgIGVsLmluc2VydEJlZm9yZShhY3Rpb25zLCB0eXBlYWhlYWQubGlzdC53cmFwcGVyKTtcblxuICAgIHRoaXMuc2V0UmVuZGVyRnVuY3Rpb24odGhpcy5vcHRpb25zLnJlbmRlcik7XG4gICAgdHlwZWFoZWFkLmdldEl0ZW1WYWx1ZSA9IHRoaXMub3B0aW9ucy5nZXRJdGVtVmFsdWU7XG5cbiAgICBjb25zdCBoYW5kbGVLZXlEb3duVHlwZWFoZWFkID0gdGhpcy5fdHlwZWFoZWFkLmhhbmRsZUtleURvd24uYmluZCh0aGlzLl90eXBlYWhlYWQpO1xuICAgIGNvbnN0IGhhbmRsZUtleVVwVHlwZWFoZWFkID0gdGhpcy5fdHlwZWFoZWFkLmhhbmRsZUtleVVwLmJpbmQodGhpcy5fdHlwZWFoZWFkKTtcblxuICAgIHRoaXMuX3R5cGVhaGVhZC5oYW5kbGVLZXlVcCBcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudXNlQnJvd3NlckZvY3VzKSB7XG4gICAgICB0aGlzLl90eXBlYWhlYWQuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gOSAmJiAhdHlwZWFoZWFkLmxpc3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFycm93IGRvd25cbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gNDApIHtcbiAgICAgICAgICB0aGlzLl90eXBlYWhlYWQubGlzdC5hY3RpdmUgPSAwO1xuICAgICAgICAgIHRoaXMuX3R5cGVhaGVhZC5saXN0LmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGknKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5fdHlwZWFoZWFkLmxpc3QuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIHRoaXMuX3R5cGVhaGVhZC5saXN0LmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGknKVswXS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gQXJyb3cgdXBcbiAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM4KSB7XG4gICAgICAgICAgdGhpcy5fdHlwZWFoZWFkLmxpc3QuYWN0aXZlID0gdHlwZWFoZWFkLmxpc3QuaXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICB0aGlzLl90eXBlYWhlYWQubGlzdC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuX3R5cGVhaGVhZC5saXN0LmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGknKVt0aGlzLl90eXBlYWhlYWQubGlzdC5hY3RpdmVdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIHRoaXMuX3R5cGVhaGVhZC5saXN0LmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGknKVt0aGlzLl90eXBlYWhlYWQubGlzdC5hY3RpdmVdLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZUtleURvd25UeXBlYWhlYWQoZSk7XG4gICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgIHRoaXMuX3R5cGVhaGVhZC5oYW5kbGVLZXlVcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUgJiYgZS5rZXlDb2RlID09PSAxNikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBoYW5kbGVLZXlVcFR5cGVhaGVhZChlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgc3VwcG9ydCBmb3IgZm9vdGVyLlxuICAgIHZhciBwYXJlbnREcmF3ID0gdHlwZWFoZWFkLmxpc3QuZHJhdztcbiAgICB2YXIgZm9vdGVyTm9kZSA9IHRoaXMuX2Zvb3Rlck5vZGUgPSBnZXRGb290ZXJOb2RlKCk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHR5cGVhaGVhZC5saXN0LmRyYXcgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLm9wdGlvbnMudXNlQnJvd3NlckZvY3VzKSB7XG4gICAgICAgIHR5cGVhaGVhZC5saXN0LmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGknKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICBpdGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgc2VsZi5fb25TdWdnZXN0aW9uSXRlbUZvY3VzKTtcbiAgICAgICAgICBpdGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBzZWxmLl9vblN1Z2dlc3Rpb25JdGVtS2V5RG93bik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcGFyZW50RHJhdy5jYWxsKHRoaXMpO1xuXG4gICAgICBpZiAoc2VsZi5vcHRpb25zLnVzZUJyb3dzZXJGb2N1cykge1xuICAgICAgICB0eXBlYWhlYWQubGlzdC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgaXRlbS5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGluZGV4KTtcbiAgICAgICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25TdWdnZXN0aW9uSXRlbUZvY3VzKTtcbiAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vblN1Z2dlc3Rpb25JdGVtS2V5RG93bik7XG4gICAgICAgIH0uYmluZChzZWxmKSk7XG4gICAgICB9XG5cbiAgICAgIGZvb3Rlck5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW5nTGlzdEl0ZW0gPSB0cnVlO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICBcbiAgICAgIGZvb3Rlck5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGluZ0xpc3RJdGVtID0gZmFsc2U7XG4gICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZm9vdGVyTm9kZSk7XG4gICAgfTtcblxuICAgIHRoaXMubWFwTWFya2VyID0gbnVsbDtcbiAgICB0aGlzLl9oYW5kbGVNYXJrZXIgPSB0aGlzLl9oYW5kbGVNYXJrZXIuYmluZCh0aGlzKTtcbiAgICBpZiAodGhpcy5fbWFwKXtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tQcm94aW1pdHkgKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb3hpbWl0eSgpO1xuICAgICAgICB0aGlzLl9tYXAub24oJ21vdmVlbmQnLCB0aGlzLl91cGRhdGVQcm94aW1pdHkpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbWFwYm94Z2wgPSB0aGlzLm9wdGlvbnMubWFwYm94Z2w7XG4gICAgICBpZiAoIXRoaXMuX21hcGJveGdsICYmIHRoaXMub3B0aW9ucy5tYXJrZXIpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIG1hcGJveGdsIGRldGVjdGVkIGluIG9wdGlvbnMuIE1hcCBtYXJrZXJzIGFyZSBkaXNhYmxlZC4gUGxlYXNlIHNldCBvcHRpb25zLm1hcGJveGdsLlwiKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLm1hcmtlciA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sXG5cbiAgX29uU3VnZ2VzdGlvbkl0ZW1LZXlkb3duKGUpIHtcbiAgICBjb25zdCBrZXlDb2RlID0gZS5rZXlDb2RlO1xuICAgIGlmIChrZXlDb2RlID09PSA5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleUNvZGUgPT09IDEzKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBhY3RpdmVJdGVtID0gdGhpcy5fdHlwZWFoZWFkLmxpc3QuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG4gICAgICBpZiAoYWN0aXZlSXRlbSkge1xuICAgICAgICBjb25zdCBpdGVtSW5kZXggPSBhY3RpdmVJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpO1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5fdHlwZWFoZWFkLmxpc3QuaXRlbXNbaXRlbUluZGV4XTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICB0aGlzLl90eXBlYWhlYWQudmFsdWUoaXRlbS5vcmlnaW5hbCk7XG4gICAgICAgICAgdGhpcy5fdHlwZWFoZWFkLmxpc3QuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSAzOCB8fCBrZXlDb2RlID09PSA0MCkge1xuICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLl90eXBlYWhlYWQubGlzdC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoa2V5Q29kZSA9PT0gMzgpIHsgLy8gQXJyb3cgdXBcbiAgICAgICAgICBpZiAodGhpcy5fdHlwZWFoZWFkLmxpc3QuYWN0aXZlID4gMCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fdHlwZWFoZWFkLmxpc3QuYWN0aXZlLS07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3R5cGVhaGVhZC5lbC5mb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSA0MCkgeyAvLyBBcnJvdyBkb3duXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGlmICh0aGlzLl90eXBlYWhlYWQubGlzdC5hY3RpdmUgPCBpdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICB0aGlzLl90eXBlYWhlYWQubGlzdC5hY3RpdmUrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYWN0aXZlSXRlbSA9IGl0ZW1zW3RoaXMuX3R5cGVhaGVhZC5saXN0LmFjdGl2ZV07XG4gICAgICAgIGlmIChhY3RpdmVJdGVtKSB7XG4gICAgICAgICAgYWN0aXZlSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICBhY3RpdmVJdGVtLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgX29uU3VnZ2VzdGlvbkl0ZW1Gb2N1cyhlKSB7XG4gICAgdGhpcy5fdHlwZWFoZWFkLmxpc3QuYWN0aXZlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4Jyk7XG4gICAgdGhpcy5fdHlwZWFoZWFkLmxpc3QuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgfSxcblxuICBfZ2VvbG9jYXRlVXNlcjogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2hpZGVHZW9sb2NhdGVCdXR0b24oKTtcbiAgICB0aGlzLl9zaG93TG9hZGluZ0ljb24oKTtcblxuICAgIHRoaXMuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCkudGhlbihmdW5jdGlvbihnZW9sb2NhdGlvblBvc2l0aW9uKSB7XG4gICAgICB0aGlzLl9oaWRlTG9hZGluZ0ljb24oKTtcblxuICAgICAgY29uc3QgZ2VvanNvbiA9IHtcbiAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgIGNvb3JkaW5hdGVzOiBbZ2VvbG9jYXRpb25Qb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLCBnZW9sb2NhdGlvblBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZV1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5faGFuZGxlTWFya2VyKGdlb2pzb24pO1xuICAgICAgdGhpcy5fZmx5KGdlb2pzb24pO1xuXG4gICAgICB0aGlzLl90eXBlYWhlYWQuY2xlYXIoKTtcbiAgICAgIHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICB0aGlzLmxhc3RTZWxlY3RlZCA9IEpTT04uc3RyaW5naWZ5KGdlb2pzb24pO1xuICAgICAgdGhpcy5fc2hvd0NsZWFyQnV0dG9uKCk7XG4gICAgICB0aGlzLmZyZXNoID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgbGltaXQ6IDEsXG4gICAgICAgIGxhbmd1YWdlOiBbdGhpcy5vcHRpb25zLmxhbmd1YWdlXSxcbiAgICAgICAgcXVlcnk6IGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsXG4gICAgICAgIHR5cGVzOiBbXCJhZGRyZXNzXCJdXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvY2FsR2VvY29kZXJPbmx5KSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdICsgJywnICsgZ2VvanNvbi5nZW9tZXRyeS5jb29yZGluYXRlc1sxXVxuICAgICAgICB0aGlzLl9zZXRJbnB1dFZhbHVlKHRleHQpO1xuXG4gICAgICAgIHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KCdyZXN1bHQnLCB7IHJlc3VsdDogZ2VvanNvbiB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ2VvY29kZXJTZXJ2aWNlLnJldmVyc2VHZW9jb2RlKGNvbmZpZykuc2VuZCgpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgICBjb25zdCBmZWF0dXJlID0gcmVzcC5ib2R5LmZlYXR1cmVzWzBdO1xuICBcbiAgICAgICAgICBpZiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYXRpb25UZXh0ID0gdXRpbHMudHJhbnNmb3JtRmVhdHVyZVRvR2VvbG9jYXRpb25UZXh0KGZlYXR1cmUsIHRoaXMub3B0aW9ucy5hZGRyZXNzQWNjdXJhY3kpO1xuICAgICAgICAgICAgdGhpcy5fc2V0SW5wdXRWYWx1ZShsb2NhdGlvblRleHQpO1xuICBcbiAgICAgICAgICAgIGZlYXR1cmUudXNlcl9jb29yZGluYXRlcyA9IGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEVtaXR0ZXIuZW1pdCgncmVzdWx0JywgeyByZXN1bHQ6IGZlYXR1cmUgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KCdyZXN1bHQnLCB7IHJlc3VsdDogeyB1c2VyX2Nvb3JkaW5hdGVzOiBnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzIH0gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAxKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclVzZXJEZW5pZWRHZW9sb2NhdGlvbkVycm9yKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW5kZXJMb2NhdGlvbkVycm9yKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2hpZGVMb2FkaW5nSWNvbigpO1xuICAgICAgdGhpcy5fc2hvd0dlb2xvY2F0ZUJ1dHRvbigpO1xuICAgICAgdGhpcy5faGlkZUF0dHJpYnV0aW9uKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfSxcblxuICBjcmVhdGVJY29uOiBmdW5jdGlvbihuYW1lLCBwYXRoKSB7XG4gICAgdmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICAgIGljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1pY29uIG1hcGJveGdsLWN0cmwtZ2VvY29kZXItLWljb24tJyArIG5hbWUpO1xuICAgIGljb24uc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAxOCAxOCcpO1xuICAgIGljb24uc2V0QXR0cmlidXRlKCd4bWw6c3BhY2UnLCdwcmVzZXJ2ZScpO1xuICAgIGljb24uc2V0QXR0cmlidXRlKCd3aWR0aCcsIDE4KTtcbiAgICBpY29uLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgMTgpO1xuICAgIGljb24uaW5uZXJIVE1MID0gcGF0aDtcbiAgICByZXR1cm4gaWNvbjtcbiAgfSxcblxuICBvblJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrUHJveGltaXR5ICYmIHRoaXMuX21hcCkge1xuICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZVByb3hpbWl0eSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVtb3ZlTWFya2VyKCk7XG5cbiAgICB0aGlzLl9tYXAgPSBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX3NldElucHV0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuX2lucHV0RWwudmFsdWUgPSB2YWx1ZTtcbiAgXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLl9pbnB1dEVsLmZvY3VzKCk7XG4gICAgICB0aGlzLl9pbnB1dEVsLnNjcm9sbExlZnQgPSAwO1xuICAgICAgdGhpcy5faW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZSgwLCAwKTtcbiAgICB9LmJpbmQodGhpcyksIDEpO1xuICB9LFxuXG4gIF9vblBhc3RlOiBmdW5jdGlvbihlKXtcbiAgICB2YXIgdmFsdWUgPSAoZS5jbGlwYm9hcmREYXRhIHx8IHdpbmRvdy5jbGlwYm9hcmREYXRhKS5nZXREYXRhKCd0ZXh0Jyk7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubWluTGVuZ3RoKSB7XG4gICAgICB0aGlzLl9nZW9jb2RlKHZhbHVlKTtcbiAgICB9XG4gIH0sXG5cbiAgX29uS2V5RG93bjogZnVuY3Rpb24oZSkge1xuICAgIHZhciBFU0NfS0VZX0NPREUgPSAyNyxcbiAgICAgIFRBQl9LRVlfQ09ERSA9IDk7XG5cbiAgICBpZiAoZS5rZXlDb2RlID09PSBFU0NfS0VZX0NPREUgJiYgdGhpcy5vcHRpb25zLmNsZWFyQW5kQmx1ck9uRXNjKSB7XG4gICAgICB0aGlzLl9jbGVhcihlKTtcbiAgICAgIHJldHVybiB0aGlzLl9pbnB1dEVsLmJsdXIoKTtcbiAgICB9XG5cbiAgICAvLyBpZiB0YXJnZXQgaGFzIHNoYWRvd1Jvb3QsIHRoZW4gZ2V0IHRoZSBhY3R1YWwgYWN0aXZlIGVsZW1lbnQgaW5zaWRlIHRoZSBzaGFkb3dSb290XG4gICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0ICYmIGUudGFyZ2V0LnNoYWRvd1Jvb3RcbiAgICAgID8gZS50YXJnZXQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50XG4gICAgICA6IGUudGFyZ2V0O1xuICAgIHZhciB2YWx1ZSA9IHRhcmdldCA/IHRhcmdldC52YWx1ZSA6ICcnO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgdGhpcy5mcmVzaCA9IHRydWU7XG4gICAgICAvLyB0aGUgdXNlciBoYXMgcmVtb3ZlZCBhbGwgdGhlIHRleHRcbiAgICAgIGlmIChlLmtleUNvZGUgIT09IFRBQl9LRVlfQ09ERSkgdGhpcy5jbGVhcihlKTtcbiAgICAgIHRoaXMuX3Nob3dHZW9sb2NhdGVCdXR0b24oKTtcbiAgICAgIHJldHVybiB0aGlzLl9oaWRlQ2xlYXJCdXR0b24oKTtcbiAgICB9XG5cbiAgICB0aGlzLl9oaWRlR2VvbG9jYXRlQnV0dG9uKCk7XG5cbiAgICAvLyBUQUIsIEVTQywgTEVGVCwgUklHSFQsIEVOVEVSLCBVUCwgRE9XTlxuICAgIGlmICgoZS5tZXRhS2V5IHx8IFtUQUJfS0VZX0NPREUsIEVTQ19LRVlfQ09ERSwgMzcsIDM5LCAxMywgMzgsIDQwXS5pbmRleE9mKGUua2V5Q29kZSkgIT09IC0xKSlcbiAgICAgIHJldHVybjtcblxuICAgIGlmICh0YXJnZXQudmFsdWUubGVuZ3RoID49IHRoaXMub3B0aW9ucy5taW5MZW5ndGgpIHtcbiAgICAgIHRoaXMuX2dlb2NvZGUodGFyZ2V0LnZhbHVlKTtcbiAgICB9XG4gIH0sXG5cbiAgX3Nob3dCdXR0b246IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQpIHRoaXMuX3Nob3dDbGVhckJ1dHRvbigpO1xuICB9LFxuXG4gIF9oaWRlQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fdHlwZWFoZWFkLnNlbGVjdGVkKSB0aGlzLl9oaWRlQ2xlYXJCdXR0b24oKTtcbiAgfSxcblxuICBfc2hvd0NsZWFyQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9jbGVhckVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9LFxuXG4gIF9oaWRlQ2xlYXJCdXR0b246IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2NsZWFyRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICB9LFxuXG4gIF9zaG93R2VvbG9jYXRlQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZ2VvbG9jYXRlRWwgJiYgdGhpcy5nZW9sb2NhdGlvbi5pc1N1cHBvcnQoKSkge1xuICAgICAgdGhpcy5fZ2VvbG9jYXRlRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfVxuICB9LFxuXG4gIF9oaWRlR2VvbG9jYXRlQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZ2VvbG9jYXRlRWwpIHtcbiAgICAgIHRoaXMuX2dlb2xvY2F0ZUVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICB9LFxuXG4gIF9zaG93TG9hZGluZ0ljb246IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2xvYWRpbmdFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfSxcbiAgXG4gIF9oaWRlTG9hZGluZ0ljb246IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2xvYWRpbmdFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9LFxuXG4gIF9zaG93QXR0cmlidXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2Zvb3Rlck5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgfSxcbiAgXG4gIF9oaWRlQXR0cmlidXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2Zvb3Rlck5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICB9LFxuXG4gIF9vbkJsdXI6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNsZWFyT25CbHVyKSB7XG4gICAgICB0aGlzLl9jbGVhck9uQmx1cihlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb2xsYXBzZWQpIHtcbiAgICAgIHRoaXMuX2NvbGxhcHNlKCk7XG4gICAgfVxuICB9LFxuICBfb25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZDtcbiAgICBpZiAoc2VsZWN0ZWQgICYmIEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkKSAhPT0gdGhpcy5sYXN0U2VsZWN0ZWQpIHtcbiAgICAgIHRoaXMuX2hpZGVDbGVhckJ1dHRvbigpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5mbHlUbykge1xuICAgICAgICB0aGlzLl9mbHkoc2VsZWN0ZWQpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYXJrZXIgJiYgdGhpcy5fbWFwYm94Z2wpe1xuICAgICAgICB0aGlzLl9oYW5kbGVNYXJrZXIoc2VsZWN0ZWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZnRlciBzZWxlY3RpbmcgYSBmZWF0dXJlLCByZS1mb2N1cyB0aGUgdGV4dGFyZWEgYW5kIHNldFxuICAgICAgLy8gY3Vyc29yIGF0IHN0YXJ0LlxuICAgICAgdGhpcy5faW5wdXRFbC5mb2N1cygpO1xuICAgICAgdGhpcy5faW5wdXRFbC5zY3JvbGxMZWZ0ID0gMDtcbiAgICAgIHRoaXMuX2lucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgMCk7XG4gICAgICB0aGlzLmxhc3RTZWxlY3RlZCA9IEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkKTtcbiAgICAgIHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KCdyZXN1bHQnLCB7IHJlc3VsdDogc2VsZWN0ZWQgfSk7XG4gICAgICB0aGlzLmV2ZW50TWFuYWdlci5zZWxlY3Qoc2VsZWN0ZWQsIHRoaXMpO1xuICAgIH1cbiAgfSxcblxuICBfZmx5OiBmdW5jdGlvbihzZWxlY3RlZCkge1xuICAgIHZhciBmbHlPcHRpb25zO1xuICAgIGlmIChzZWxlY3RlZC5wcm9wZXJ0aWVzICYmIGV4Y2VwdGlvbnNbc2VsZWN0ZWQucHJvcGVydGllcy5zaG9ydF9jb2RlXSkge1xuICAgICAgLy8gQ2VydGFpbiBnZW9jb2RlciBzZWFyY2ggcmVzdWx0cyByZXR1cm4gKGFuZCB0aGVyZWZvcmUgem9vbSB0byBmaXQpXG4gICAgICAvLyBhbiB1bmV4cGVjdGVkbHkgbGFyZ2UgYm91bmRpbmcgYm94OiBmb3IgZXhhbXBsZSwgYm90aCBSdXNzaWEgYW5kIHRoZVxuICAgICAgLy8gVVNBIHNwYW4gYm90aCBzaWRlcyBvZiAtMTgwLzE4MCwgb3IgRnJhbmNlIGluY2x1ZGVzIHRoZSBpc2xhbmQgb2ZcbiAgICAgIC8vIFJldW5pb24gaW4gdGhlIEluZGlhbiBPY2Vhbi4gQW4gaW5jb21wbGV0ZSBsaXN0IG9mIHRoZXNlIGV4Y2VwdGlvbnNcbiAgICAgIC8vIGF0IC4vZXhjZXB0aW9ucy5qc29uIHByb3ZpZGVzIFwicmVhc29uYWJsZVwiIGJvdW5kaW5nIGJveGVzIGFzIGFcbiAgICAgIC8vIHNob3J0LXRlcm0gc29sdXRpb247IHRoaXMgbWF5IGJlIGFtZW5kZWQgYXMgbmVjZXNzYXJ5LlxuICAgICAgZmx5T3B0aW9ucyA9IGV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLmZseVRvKTtcbiAgICAgIGlmICh0aGlzLl9tYXApe1xuICAgICAgICB0aGlzLl9tYXAuZml0Qm91bmRzKGV4Y2VwdGlvbnNbc2VsZWN0ZWQucHJvcGVydGllcy5zaG9ydF9jb2RlXS5iYm94LCBmbHlPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNlbGVjdGVkLmJib3gpIHtcbiAgICAgIHZhciBiYm94ID0gc2VsZWN0ZWQuYmJveDtcbiAgICAgIGZseU9wdGlvbnMgPSBleHRlbmQoe30sIHRoaXMub3B0aW9ucy5mbHlUbyk7XG4gICAgICBpZiAodGhpcy5fbWFwKXtcbiAgICAgICAgdGhpcy5fbWFwLmZpdEJvdW5kcyhbW2Jib3hbMF0sIGJib3hbMV1dLCBbYmJveFsyXSwgYmJveFszXV1dLCBmbHlPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGRlZmF1bHRGbHlPcHRpb25zID0ge1xuICAgICAgICB6b29tOiB0aGlzLm9wdGlvbnMuem9vbVxuICAgICAgfVxuICAgICAgZmx5T3B0aW9ucyA9IGV4dGVuZCh7fSwgZGVmYXVsdEZseU9wdGlvbnMsIHRoaXMub3B0aW9ucy5mbHlUbyk7XG4gICAgICAvLyAgZW5zdXJlIHRoYXQgY2VudGVyIGlzIG5vdCBvdmVycmlkZW4gYnkgY3VzdG9tIG9wdGlvbnNcbiAgICAgIGlmIChzZWxlY3RlZC5jZW50ZXIpIHtcbiAgICAgICAgZmx5T3B0aW9ucy5jZW50ZXIgPSBzZWxlY3RlZC5jZW50ZXI7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkLmdlb21ldHJ5ICYmIHNlbGVjdGVkLmdlb21ldHJ5LnR5cGUgJiYgc2VsZWN0ZWQuZ2VvbWV0cnkudHlwZSA9PT0gJ1BvaW50JyAmJiBzZWxlY3RlZC5nZW9tZXRyeS5jb29yZGluYXRlcykge1xuICAgICAgICBmbHlPcHRpb25zLmNlbnRlciA9IHNlbGVjdGVkLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fbWFwKXtcbiAgICAgICAgdGhpcy5fbWFwLmZseVRvKGZseU9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfcmVxdWVzdFR5cGU6IGZ1bmN0aW9uKG9wdGlvbnMsIHNlYXJjaCkge1xuICAgIHZhciB0eXBlO1xuICAgIGlmIChvcHRpb25zLmxvY2FsR2VvY29kZXJPbmx5KSB7XG4gICAgICB0eXBlID0gR0VPQ09ERV9SRVFVRVNUX1RZUEUuTE9DQUw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnJldmVyc2VHZW9jb2RlICYmIHV0aWxzLlJFVkVSU0VfR0VPQ09ERV9DT09SRF9SR1gudGVzdChzZWFyY2gpKSB7XG4gICAgICB0eXBlID0gR0VPQ09ERV9SRVFVRVNUX1RZUEUuUkVWRVJTRTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IEdFT0NPREVfUkVRVUVTVF9UWVBFLkZPUldBUkQ7XG4gICAgfVxuICAgIHJldHVybiB0eXBlO1xuICB9LFxuXG4gIF9zZXR1cENvbmZpZzogZnVuY3Rpb24ocmVxdWVzdFR5cGUsIHNlYXJjaCkge1xuICAgIC8vIFBvc3NpYmxlIGNvbmZpZyBwcm9wZXJ0aWVzIHRvIHBhc3MgdG8gY2xpZW50XG4gICAgY29uc3Qga2V5cyA9IFtcbiAgICAgICdiYm94JyxcbiAgICAgICdsaW1pdCcsXG4gICAgICAncHJveGltaXR5JyxcbiAgICAgICdjb3VudHJpZXMnLFxuICAgICAgJ3R5cGVzJyxcbiAgICAgICdsYW5ndWFnZScsXG4gICAgICAncmV2ZXJzZU1vZGUnLFxuICAgICAgJ21vZGUnLFxuICAgICAgJ2F1dG9jb21wbGV0ZScsXG4gICAgICAnZnV6enlNYXRjaCcsXG4gICAgICAncm91dGluZycsXG4gICAgICAnd29ybGR2aWV3J1xuICAgIF07XG4gICAgY29uc3Qgc3BhY2VzT3JDb21tYVJneCA9IC9bXFxzLF0rLztcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY29uZmlnID0ga2V5cy5yZWR1Y2UoZnVuY3Rpb24oY29uZmlnLCBrZXkpIHtcbiAgICAgIC8vIGRvbid0IGluY2x1ZGUgdW5kZWZpbmVkL251bGwgcGFyYW1zLCBidXQgYWxsb3cgYm9vbGVhbiwgYW1vbmcgb3RoZXIsIHZhbHVlc1xuICAgICAgaWYgKHNlbGYub3B0aW9uc1trZXldID09PSB1bmRlZmluZWQgfHwgc2VsZi5vcHRpb25zW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgIH1cblxuICAgICAgLy8gY291bnRyaWVzLCB0eXBlcywgYW5kIGxhbmd1YWdlIG5lZWQgdG8gYmUgcGFzc2VkIGluIGFzIGFycmF5cyB0byBjbGllbnRcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LXNkay1qcy9ibG9iL21hc3Rlci9zZXJ2aWNlcy9nZW9jb2RpbmcuanMjTDM4LUw0N1xuICAgICAgWydjb3VudHJpZXMnLCAndHlwZXMnLCAnbGFuZ3VhZ2UnXS5pbmRleE9mKGtleSkgPiAtMVxuICAgICAgICA/IChjb25maWdba2V5XSA9IHNlbGYub3B0aW9uc1trZXldLnNwbGl0KHNwYWNlc09yQ29tbWFSZ3gpKVxuICAgICAgICA6IChjb25maWdba2V5XSA9IHNlbGYub3B0aW9uc1trZXldKTtcblxuICAgICAgY29uc3QgaXNDb29yZEtleSA9XG4gICAgICAgIHR5cGVvZiBzZWxmLm9wdGlvbnNba2V5XS5sb25naXR1ZGUgPT09ICdudW1iZXInICYmXG4gICAgICAgIHR5cGVvZiBzZWxmLm9wdGlvbnNba2V5XS5sYXRpdHVkZSAgPT09ICdudW1iZXInO1xuXG4gICAgICBpZiAoa2V5ID09PSAncHJveGltaXR5JyAmJiBpc0Nvb3JkS2V5KSB7XG4gICAgICAgIGNvbnN0IGxuZyA9IHNlbGYub3B0aW9uc1trZXldLmxvbmdpdHVkZTtcbiAgICAgICAgY29uc3QgbGF0ID0gc2VsZi5vcHRpb25zW2tleV0ubGF0aXR1ZGU7XG5cbiAgICAgICAgY29uZmlnW2tleV0gPSBbbG5nLCBsYXRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH0sIHt9KTtcblxuICAgIHN3aXRjaCAocmVxdWVzdFR5cGUpIHtcbiAgICBjYXNlIEdFT0NPREVfUkVRVUVTVF9UWVBFLlJFVkVSU0U6IHtcbiAgICAgIHZhciBjb29yZHMgPSBzZWFyY2guc3BsaXQoc3BhY2VzT3JDb21tYVJneCkubWFwKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYywgMTApO1xuICAgICAgfSlcbiAgICAgIGlmICghc2VsZi5vcHRpb25zLmZsaXBDb29yZGluYXRlcykge1xuICAgICAgICBjb29yZHMucmV2ZXJzZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBjbGllbnQgb25seSBhY2NlcHRzIG9uZSB0eXBlIGZvciByZXZlcnNlR2VvY29kZSwgc29cbiAgICAgIC8vIHVzZSBmaXJzdCBjb25maWcgdHlwZSBpZiBvbmUsIGlmIG5vdCBkZWZhdWx0IHRvIHBvaVxuICAgICAgY29uZmlnLnR5cGVzID8gW2NvbmZpZy50eXBlc1swXV0gOiBbXCJwb2lcIl07XG4gICAgICBjb25maWcgPSBleHRlbmQoY29uZmlnLCB7IHF1ZXJ5OiBjb29yZHMsIGxpbWl0OiAxIH0pO1xuXG4gICAgICAvLyBSZW1vdmUgY29uZmlnIG9wdGlvbnMgbm90IHN1cHBvcnRlZCBieSB0aGUgcmV2ZXJzZUdlb2NvZGVyXG4gICAgICBbJ3Byb3hpbWl0eScsICdhdXRvY29tcGxldGUnLCAnZnV6enlNYXRjaCcsICdiYm94J10uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSBpbiBjb25maWcpIHtcbiAgICAgICAgICBkZWxldGUgY29uZmlnW2tleV1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBicmVhaztcbiAgICBjYXNlIEdFT0NPREVfUkVRVUVTVF9UWVBFLkZPUldBUkQ6IHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGFueSByZXZlcnNlIGdlb2NvZGluZyBsb29raW5nIHJlcXVlc3QgaXMgY2xlYW5lZCB1cFxuICAgICAgLy8gdG8gYmUgcHJvY2Vzc2VkIGFzIG9ubHkgYSBmb3J3YXJkIGdlb2NvZGluZyByZXF1ZXN0IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICBjb25zdCB0cmltbWVkU2VhcmNoID0gc2VhcmNoLnRyaW0oKTtcbiAgICAgIGNvbnN0IHJldmVyc2VHZW9jb2RlQ29vcmRSZ3ggPSAvXigtP1xcZHsxLDN9KFxcLlxcZHswLDI1Nn0pPylbLCBdKygtP1xcZHsxLDN9KFxcLlxcZHswLDI1Nn0pPyk/JC87XG4gICAgICBpZiAocmV2ZXJzZUdlb2NvZGVDb29yZFJneC50ZXN0KHRyaW1tZWRTZWFyY2gpKSB7XG4gICAgICAgIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKC8sL2csICcgJyk7XG4gICAgICB9XG4gICAgICBjb25maWcgPSBleHRlbmQoY29uZmlnLCB7IHF1ZXJ5OiBzZWFyY2ggfSk7XG4gICAgfSBicmVhaztcbiAgICB9XG5cbiAgICBjb25maWcuc2Vzc2lvbl90b2tlbiA9IHRoaXMuZXZlbnRNYW5hZ2VyLmdldFNlc3Npb25JZCgpO1xuXG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfSxcblxuICBfZ2VvY29kZTogZnVuY3Rpb24oc2VhcmNoSW5wdXQpIHtcbiAgICB0aGlzLmlucHV0U3RyaW5nID0gc2VhcmNoSW5wdXQ7XG4gICAgdGhpcy5fc2hvd0xvYWRpbmdJY29uKCk7XG4gICAgdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoJ2xvYWRpbmcnLCB7IHF1ZXJ5OiBzZWFyY2hJbnB1dCB9KTtcblxuICAgIGNvbnN0IHJlcXVlc3RUeXBlID0gdGhpcy5fcmVxdWVzdFR5cGUodGhpcy5vcHRpb25zLCBzZWFyY2hJbnB1dCk7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5fc2V0dXBDb25maWcocmVxdWVzdFR5cGUsIHNlYXJjaElucHV0KTtcblxuICAgIHZhciByZXF1ZXN0O1xuICAgIHN3aXRjaCAocmVxdWVzdFR5cGUpIHtcbiAgICBjYXNlIEdFT0NPREVfUkVRVUVTVF9UWVBFLkxPQ0FMOlxuICAgICAgcmVxdWVzdCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBHRU9DT0RFX1JFUVVFU1RfVFlQRS5GT1JXQVJEOlxuICAgICAgcmVxdWVzdCA9IHRoaXMuZ2VvY29kZXJTZXJ2aWNlLmZvcndhcmRHZW9jb2RlKGNvbmZpZykuc2VuZCgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBHRU9DT0RFX1JFUVVFU1RfVFlQRS5SRVZFUlNFOlxuICAgICAgcmVxdWVzdCA9IHRoaXMuZ2VvY29kZXJTZXJ2aWNlLnJldmVyc2VHZW9jb2RlKGNvbmZpZykuc2VuZCgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGxvY2FsR2VvY29kZXJSZXMgPSB0aGlzLm9wdGlvbnMubG9jYWxHZW9jb2RlciA/IHRoaXMub3B0aW9ucy5sb2NhbEdlb2NvZGVyKHNlYXJjaElucHV0KSB8fCBbXSA6IFtdO1xuICAgIHZhciBleHRlcm5hbEdlb2NvZGVyUmVzID0gW107XG5cbiAgICB2YXIgZ2VvY29kZXJFcnJvciA9IG51bGw7XG4gICAgcmVxdWVzdC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgZ2VvY29kZXJFcnJvciA9IGVycm9yO1xuICAgIH0uYmluZCh0aGlzKSlcbiAgICAgIC50aGVuKFxuICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHRoaXMuX2hpZGVMb2FkaW5nSWNvbigpO1xuICAgICAgICAgIHZhciByZXMgPSB7fTtcblxuICAgICAgICAgIGlmICghcmVzcG9uc2Upe1xuICAgICAgICAgICAgcmVzID0ge1xuICAgICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgICBmZWF0dXJlczogW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT0gJzIwMCcpIHtcbiAgICAgICAgICAgIHJlcyA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICAgICAgICByZXMucmVxdWVzdCA9IHJlc3BvbnNlLnJlcXVlc3Q7XG4gICAgICAgICAgICByZXMuaGVhZGVycyA9IHJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgICAgaWYgKHRoaXMuZnJlc2gpe1xuICAgICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuc3RhcnQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmZyZXNoID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVGFnIE1hcGJveCBhcyB0aGUgc291cmNlIGZvciBHZW9jb2RpbmcgQVBJIHJlc3VsdHMsIHRvIGRpZmZlcmVudGlhdGUgZnJvbSBsb2NhbCBvciBleHRlcm5hbCBnZW9jb2RlciBmZWRlcmF0ZWQgcmVzdWx0c1xuICAgICAgICAgIGlmIChyZXMuZmVhdHVyZXMgJiYgcmVzLmZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzLmZlYXR1cmVzLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgICBmZWF0dXJlLl9zb3VyY2UgPSAnbWFwYm94JztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc3VwcGxlbWVudCBNYXBib3ggR2VvY29kaW5nIEFQSSByZXN1bHRzIHdpdGggbG9jYWxseSBwb3B1bGF0ZWQgcmVzdWx0c1xuICAgICAgICAgIHJlcy5mZWF0dXJlcyA9IHJlcy5mZWF0dXJlc1xuICAgICAgICAgICAgPyBsb2NhbEdlb2NvZGVyUmVzLmNvbmNhdChyZXMuZmVhdHVyZXMpXG4gICAgICAgICAgICA6IGxvY2FsR2VvY29kZXJSZXM7XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVybmFsR2VvY29kZXIpIHtcblxuICAgICAgICAgICAgZXh0ZXJuYWxHZW9jb2RlclJlcyA9IHRoaXMub3B0aW9ucy5leHRlcm5hbEdlb2NvZGVyKHNlYXJjaElucHV0LCByZXMuZmVhdHVyZXMpIHx8IFByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAvLyBzdXBwbGVtZW50IE1hcGJveCBHZW9jb2RpbmcgQVBJIHJlc3VsdHMgd2l0aCBmZWF0dXJlcyByZXR1cm5lZCBieSBhIHByb21pc2VcbiAgICAgICAgICAgIHJldHVybiBleHRlcm5hbEdlb2NvZGVyUmVzLnRoZW4oZnVuY3Rpb24oZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgcmVzLmZlYXR1cmVzID0gcmVzLmZlYXR1cmVzID8gZmVhdHVyZXMuY29uY2F0KHJlcy5mZWF0dXJlcykgOiBmZWF0dXJlcztcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIC8vIG9uIGVycm9yLCBkaXNwbGF5IHRoZSBvcmlnaW5hbCByZXN1bHRcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzO1xuXG4gICAgICAgIH0uYmluZCh0aGlzKSkudGhlbihcbiAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgaWYgKGdlb2NvZGVyRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGdlb2NvZGVyRXJyb3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gYXBwbHkgcmVzdWx0cyBmaWx0ZXIgaWYgcHJvdmlkZWRcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpbHRlciAmJiByZXMuZmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXMuZmVhdHVyZXMgPSByZXMuZmVhdHVyZXMuZmlsdGVyKHRoaXMub3B0aW9ucy5maWx0ZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZXMuZmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9zaG93Q2xlYXJCdXR0b24oKTtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVHZW9sb2NhdGVCdXR0b24oKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dBdHRyaWJ1dGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoJ3Jlc3VsdHMnLCByZXMpO1xuICAgICAgICAgICAgdGhpcy5fdHlwZWFoZWFkLnVwZGF0ZShyZXMuZmVhdHVyZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9oaWRlQ2xlYXJCdXR0b24oKTtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVBdHRyaWJ1dGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fdHlwZWFoZWFkLnNlbGVjdGVkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlck5vUmVzdWx0cygpO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoJ3Jlc3VsdHMnLCByZXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICkuY2F0Y2goXG4gICAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIHRoaXMuX2hpZGVMb2FkaW5nSWNvbigpO1xuICAgICAgICAgIHRoaXMuX2hpZGVBdHRyaWJ1dGlvbigpO1xuXG4gICAgICAgICAgLy8gaW4gdGhlIGV2ZW50IG9mIGFuIGVycm9yIGluIHRoZSBNYXBib3ggR2VvY29kaW5nIEFQSSBzdGlsbCBkaXNwbGF5IHJlc3VsdHMgZnJvbSB0aGUgbG9jYWxHZW9jb2RlclxuICAgICAgICAgIGlmICgobG9jYWxHZW9jb2RlclJlcy5sZW5ndGggJiYgdGhpcy5vcHRpb25zLmxvY2FsR2VvY29kZXIpIHx8IChleHRlcm5hbEdlb2NvZGVyUmVzLmxlbmd0aCAmJiB0aGlzLm9wdGlvbnMuZXh0ZXJuYWxHZW9jb2RlcikgKSB7XG4gICAgICAgICAgICB0aGlzLl9zaG93Q2xlYXJCdXR0b24oKTtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVHZW9sb2NhdGVCdXR0b24oKTtcbiAgICAgICAgICAgIHRoaXMuX3R5cGVhaGVhZC51cGRhdGUobG9jYWxHZW9jb2RlclJlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVDbGVhckJ1dHRvbigpO1xuICAgICAgICAgICAgdGhpcy5fdHlwZWFoZWFkLnNlbGVjdGVkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckVycm9yKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fZXZlbnRFbWl0dGVyLmVtaXQoJ3Jlc3VsdHMnLCB7IGZlYXR1cmVzOiBsb2NhbEdlb2NvZGVyUmVzIH0pO1xuICAgICAgICAgIHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KCdlcnJvcicsIHsgZXJyb3I6IGVyciB9KTtcbiAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICApO1xuXG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNoYXJlZCBsb2dpYyBmb3IgY2xlYXJpbmcgaW5wdXRcbiAgICogQHBhcmFtIHtFdmVudH0gW2V2XSB0aGUgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIGNsZWFyLCBpZiBhdmFpbGFibGVcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICovXG4gIF9jbGVhcjogZnVuY3Rpb24oZXYpIHtcbiAgICBpZiAoZXYpIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5faW5wdXRFbC52YWx1ZSA9ICcnO1xuICAgIHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZCA9IG51bGw7XG4gICAgdGhpcy5fdHlwZWFoZWFkLmNsZWFyKCk7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIuc2Vzc2lvbkluY3JlbWVudGVyKys7XG4gICAgdGhpcy5fb25DaGFuZ2UoKTtcbiAgICB0aGlzLl9oaWRlQ2xlYXJCdXR0b24oKTtcbiAgICB0aGlzLl9zaG93R2VvbG9jYXRlQnV0dG9uKCk7XG4gICAgdGhpcy5fcmVtb3ZlTWFya2VyKCk7XG4gICAgdGhpcy5sYXN0U2VsZWN0ZWQgPSBudWxsO1xuICAgIHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KCdjbGVhcicpO1xuICAgIHRoaXMuZnJlc2ggPSB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbGVhciBhbmQgdGhlbiBmb2N1cyB0aGUgaW5wdXQuXG4gICAqIEBwYXJhbSB7RXZlbnR9IFtldl0gdGhlIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoZSBjbGVhciwgaWYgYXZhaWxhYmxlXG4gICAqXG4gICAqL1xuICBjbGVhcjogZnVuY3Rpb24oZXYpIHtcbiAgICB0aGlzLl9jbGVhcihldik7XG4gICAgdGhpcy5faW5wdXRFbC5mb2N1cygpO1xuICAgIC8vIFdlIGRvbid0IGhpZGUgb24gYmx1ciB3aGVuIHVzaW5nIGJyb3dzZXIgZm9jdXNcbiAgICAvLyBiZWNhdXNlIHRoZSBsaXN0IGlzIGhpZGRlbiBvbiBibHVyIGJ5IGRlZmF1bHQuXG4gICAgLy8gU28gd2UgaGlkZSBpdCBoZXJlIG1hbnVhbGx5LlxuICAgIGlmICh0aGlzLm9wdGlvbnMudXNlQnJvd3NlckZvY3VzKSB7XG4gICAgICB0aGlzLl90eXBlYWhlYWQubGlzdC5oaWRlKCk7XG4gICAgfVxuICB9LFxuXG5cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBpbnB1dCwgd2l0aG91dCByZWZvY3VzaW5nIGl0LiBVc2VkIHRvIGltcGxlbWVudCBjbGVhck9uQmx1clxuICAgKiBjb25zdHJ1Y3RvciBvcHRpb24uXG4gICAqIEBwYXJhbSB7RXZlbnR9IFtldl0gdGhlIGJsdXIgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jbGVhck9uQmx1cjogZnVuY3Rpb24oZXYpIHtcbiAgICB2YXIgY3R4ID0gdGhpcztcblxuICAgIC8qXG4gICAgICogSWYgcmVsYXRlZFRhcmdldCBpcyBub3QgZm91bmQsIGFzc3VtZSB1c2VyIHRhcmdldGVkIHRoZSBzdWdnZXN0aW9ucyBsaXN0LlxuICAgICAqIEluIHRoYXQgY2FzZSwgZG8gbm90IGNsZWFyIG9uIGJsdXIuIFRoZXJlIGFyZSBvdGhlciBlZGdlIGNhc2VzIHdoZXJlXG4gICAgICogZXYucmVsYXRlZFRhcmdldCBjb3VsZCBiZSBudWxsLiBDbGlja2luZyBvbiBsaXN0IGFsd2F5cyByZXN1bHRzIGluIG51bGxcbiAgICAgKiByZWxhdGVkdGFyZ2V0IGJlY2F1c2Ugb2YgdXBzdHJlYW0gYmVoYXZpb3IgaW4gYHN1Z2dlc3Rpb25zYC5cbiAgICAgKlxuICAgICAqIFRoZSBpZGVhbCBzb2x1dGlvbiB3b3VsZCBiZSB0byBjaGVjayBpZiBldi5yZWxhdGVkVGFyZ2V0IGlzIGEgY2hpbGQgb2ZcbiAgICAgKiB0aGUgbGlzdC4gU2VlIGlzc3VlICMyNTggZm9yIGRldGFpbHMgb24gd2h5IHdlIGNhbid0IGRvIHRoYXQgeWV0LlxuICAgICAqL1xuICAgIGlmIChldi5yZWxhdGVkVGFyZ2V0KSB7XG4gICAgICBjdHguX2NsZWFyKGV2KTtcbiAgICB9XG4gIH0sXG5cbiAgX29uUXVlcnlSZXN1bHQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgdmFyIHJlc3VsdHMgPSByZXNwb25zZS5ib2R5O1xuICAgIGlmICghcmVzdWx0cy5mZWF0dXJlcy5sZW5ndGgpIHJldHVybjtcbiAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5mZWF0dXJlc1swXTtcbiAgICB0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQgPSByZXN1bHQ7XG4gICAgdGhpcy5faW5wdXRFbC52YWx1ZSA9IHJlc3VsdC5wbGFjZV9uYW1lO1xuICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gIH0sXG5cbiAgX3VwZGF0ZVByb3hpbWl0eTogZnVuY3Rpb24oKSB7XG4gICAgLy8gcHJveGltaXR5IGlzIGRlc2lnbmVkIGZvciBsb2NhbCBzY2FsZSwgaWYgdGhlIHVzZXIgaXMgbG9va2luZyBhdCB0aGUgd2hvbGUgd29ybGQsXG4gICAgLy8gaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGZhY3RvciBpbiB0aGUgYXJiaXRyYXJ5IGNlbnRyZSBvZiB0aGUgbWFwXG4gICAgaWYgKCF0aGlzLl9tYXAgfHwgIXRoaXMub3B0aW9ucy50cmFja1Byb3hpbWl0eSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9tYXAuZ2V0Wm9vbSgpID4gOSkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuX21hcC5nZXRDZW50ZXIoKS53cmFwKCk7XG4gICAgICB0aGlzLnNldFByb3hpbWl0eSh7IGxvbmdpdHVkZTogY2VudGVyLmxuZywgbGF0aXR1ZGU6IGNlbnRlci5sYXQgfSwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFByb3hpbWl0eShudWxsLCBmYWxzZSk7XG4gICAgfVxuICB9LFxuXG4gIF9jb2xsYXBzZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gZG8gbm90IGNvbGxhcHNlIGlmIGlucHV0IGlzIGluIGZvY3VzXG4gICAgaWYgKCF0aGlzLl9pbnB1dEVsLnZhbHVlICYmIHRoaXMuX2lucHV0RWwgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvY29kZXItLWNvbGxhcHNlZCcpO1xuICB9LFxuXG4gIF91bkNvbGxhcHNlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2NvZGVyLS1jb2xsYXBzZWQnKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0ICYgcXVlcnkgdGhlIGlucHV0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hJbnB1dCBsb2NhdGlvbiBuYW1lIG9yIG90aGVyIHNlYXJjaCBpbnB1dFxuICAgKiBAcmV0dXJucyB7TWFwYm94R2VvY29kZXJ9IHRoaXNcbiAgICovXG4gIHF1ZXJ5OiBmdW5jdGlvbihzZWFyY2hJbnB1dCkge1xuICAgIHRoaXMuX2dlb2NvZGUoc2VhcmNoSW5wdXQpLnRoZW4odGhpcy5fb25RdWVyeVJlc3VsdCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX3JlbmRlckVycm9yOiBmdW5jdGlvbigpe1xuICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIjxkaXYgY2xhc3M9J21hcGJveC1nbC1nZW9jb2Rlci0tZXJyb3InPlRoZXJlIHdhcyBhbiBlcnJvciByZWFjaGluZyB0aGUgc2VydmVyPC9kaXY+XCJcbiAgICB0aGlzLl9yZW5kZXJNZXNzYWdlKGVycm9yTWVzc2FnZSk7XG4gIH0sXG5cbiAgX3JlbmRlckxvY2F0aW9uRXJyb3I6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiPGRpdiBjbGFzcz0nbWFwYm94LWdsLWdlb2NvZGVyLS1lcnJvcic+QSBsb2NhdGlvbiBlcnJvciBoYXMgb2NjdXJyZWQ8L2Rpdj5cIlxuICAgIHRoaXMuX3JlbmRlck1lc3NhZ2UoZXJyb3JNZXNzYWdlKTtcbiAgfSxcblxuICBfcmVuZGVyTm9SZXN1bHRzOiBmdW5jdGlvbigpe1xuICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIjxkaXYgY2xhc3M9J21hcGJveC1nbC1nZW9jb2Rlci0tZXJyb3IgbWFwYm94LWdsLWdlb2NvZGVyLS1uby1yZXN1bHRzJz5ObyByZXN1bHRzIGZvdW5kPC9kaXY+XCI7XG4gICAgdGhpcy5fcmVuZGVyTWVzc2FnZShlcnJvck1lc3NhZ2UpO1xuICB9LFxuXG4gIF9yZW5kZXJVc2VyRGVuaWVkR2VvbG9jYXRpb25FcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiPGRpdiBjbGFzcz0nbWFwYm94LWdsLWdlb2NvZGVyLS1lcnJvcic+R2VvbG9jYXRpb24gcGVybWlzc2lvbiBkZW5pZWQ8L2Rpdj5cIlxuICAgIHRoaXMuX3JlbmRlck1lc3NhZ2UoZXJyb3JNZXNzYWdlKTtcbiAgfSxcblxuICBfcmVuZGVyTWVzc2FnZTogZnVuY3Rpb24obXNnKXtcbiAgICB0aGlzLl90eXBlYWhlYWQudXBkYXRlKFtdKTtcbiAgICB0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQgPSBudWxsO1xuICAgIHRoaXMuX3R5cGVhaGVhZC5jbGVhcigpO1xuICAgIHRoaXMuX3R5cGVhaGVhZC5yZW5kZXJFcnJvcihtc2cpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRleHQgdG8gdXNlIGFzIHRoZSBzZWFyY2ggYmFyIHBsYWNlaG9sZGVyXG4gICAqXG4gICAqIElmIHBsYWNlaG9sZGVyIGlzIHByb3ZpZGVkIGluIG9wdGlvbnMsIHRoZW4gdXNlIG9wdGlvbnMucGxhY2Vob2xkZXJcbiAgICogT3RoZXJ3aXNlLCBpZiBsYW5ndWFnZSBpcyBwcm92aWRlZCBpbiBvcHRpb25zLCB0aGVuIHVzZSB0aGUgbG9jYWxpemVkIHN0cmluZyBvZiB0aGUgZmlyc3QgbGFuZ3VhZ2UgaWYgYXZhaWxhYmxlXG4gICAqIE90aGVyd2lzZSB1c2UgdGhlIGRlZmF1bHRcbiAgICpcbiAgICogQHJldHVybnMge1N0cmluZ30gdGhlIHZhbHVlIHRvIHVzZSBhcyB0aGUgc2VhcmNoIGJhciBwbGFjZWhvbGRlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFBsYWNlaG9sZGVyVGV4dDogZnVuY3Rpb24oKXtcbiAgICBpZiAodGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKSByZXR1cm4gdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyO1xuICAgIGlmICh0aGlzLm9wdGlvbnMubGFuZ3VhZ2Upe1xuICAgICAgdmFyIGZpcnN0TGFuZ3VhZ2UgPSB0aGlzLm9wdGlvbnMubGFuZ3VhZ2Uuc3BsaXQoXCIsXCIpWzBdO1xuICAgICAgdmFyIGxhbmd1YWdlID0gc3VidGFnLmxhbmd1YWdlKGZpcnN0TGFuZ3VhZ2UpO1xuICAgICAgdmFyIGxvY2FsaXplZFZhbHVlID0gbG9jYWxpemF0aW9uLnBsYWNlaG9sZGVyW2xhbmd1YWdlXTtcbiAgICAgIGlmIChsb2NhbGl6ZWRWYWx1ZSkgIHJldHVybiBsb2NhbGl6ZWRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuICdTZWFyY2gnO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgaW5wdXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaElucHV0IGxvY2F0aW9uIG5hbWUgb3Igb3RoZXIgc2VhcmNoIGlucHV0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3dTdWdnZXN0aW9ucz1mYWxzZV0gZGlzcGxheSBzdWdnZXN0aW9uIG9uIHNldElucHV0IGNhbGxcbiAgICogQHJldHVybnMge01hcGJveEdlb2NvZGVyfSB0aGlzXG4gICAqL1xuICBzZXRJbnB1dDogZnVuY3Rpb24oc2VhcmNoSW5wdXQsIHNob3dTdWdnZXN0aW9ucykge1xuICAgIGlmIChzaG93U3VnZ2VzdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2hvd1N1Z2dlc3Rpb25zID0gZmFsc2VcbiAgICB9XG4gICAgLy8gU2V0IGlucHV0IHZhbHVlIHRvIHBhc3NlZCB2YWx1ZSBhbmQgY2xlYXIgZXZlcnl0aGluZyBlbHNlLlxuICAgIHRoaXMuX2lucHV0RWwudmFsdWUgPSBzZWFyY2hJbnB1dDtcbiAgICB0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQgPSBudWxsO1xuICAgIHRoaXMuX3R5cGVhaGVhZC5jbGVhcigpO1xuICAgIGlmIChzZWFyY2hJbnB1dC5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1pbkxlbmd0aCkge1xuICAgICAgc2hvd1N1Z2dlc3Rpb25zID8gdGhpcy5fZ2VvY29kZShzZWFyY2hJbnB1dCkgOiB0aGlzLl9vbkNoYW5nZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHByb3hpbWl0eVxuICAgKiBAcGFyYW0ge09iamVjdHwnaXAnfSBwcm94aW1pdHkgVGhlIG5ldyBgb3B0aW9ucy5wcm94aW1pdHlgIHZhbHVlLiBUaGlzIGlzIGEgZ2VvZ3JhcGhpY2FsIHBvaW50IGdpdmVuIGFzIGFuIG9iamVjdCB3aXRoIGBsYXRpdHVkZWAgYW5kIGBsb25naXR1ZGVgIHByb3BlcnRpZXMgb3IgdGhlIHN0cmluZyAnaXAnLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVUcmFja1Byb3hpbWl0eSBJZiB0cnVlLCBzZXRzIGB0cmFja1Byb3hpbWl0eWAgdG8gZmFsc2UuIFRydWUgYnkgZGVmYXVsdCB0byBwcmV2ZW50IGB0cmFja1Byb3hpbWl0eWAgZnJvbSB1bmludGVudGlvbmFsbHkgb3ZlcnJpZGluZyBhbiBleHBsaWNpdGx5IHNldCBwcm94aW1pdHkgdmFsdWUuXG4gICAqIEByZXR1cm5zIHtNYXBib3hHZW9jb2Rlcn0gdGhpc1xuICAgKi9cbiAgc2V0UHJveGltaXR5OiBmdW5jdGlvbihwcm94aW1pdHksIGRpc2FibGVUcmFja1Byb3hpbWl0eSA9IHRydWUpIHtcbiAgICB0aGlzLm9wdGlvbnMucHJveGltaXR5ID0gcHJveGltaXR5O1xuICAgIGlmIChkaXNhYmxlVHJhY2tQcm94aW1pdHkpIHtcbiAgICAgIHRoaXMub3B0aW9ucy50cmFja1Byb3hpbWl0eSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHByb3hpbWl0eVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZ2VvY29kZXIgcHJveGltaXR5XG4gICAqL1xuICBnZXRQcm94aW1pdHk6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucHJveGltaXR5O1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJlbmRlciBmdW5jdGlvbiB1c2VkIGluIHRoZSByZXN1bHRzIGRyb3Bkb3duXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byB1c2UgYXMgYSByZW5kZXIgZnVuY3Rpb24uIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhIHNpbmdsZSBbZXh0ZW5kZWQgR2VvSlNPTl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL3NlYXJjaC9nZW9jb2RpbmctdjUvI2dlb2NvZGluZy1yZXNwb25zZS1vYmplY3QpIG9iamVjdCBhcyBpbnB1dCBhbmQgcmV0dXJucyBhIHN0cmluZy5cbiAgICogQHJldHVybnMge01hcGJveEdlb2NvZGVyfSB0aGlzXG4gICAqL1xuICBzZXRSZW5kZXJGdW5jdGlvbjogZnVuY3Rpb24oZm4pe1xuICAgIGlmIChmbiAmJiB0eXBlb2YoZm4pID09IFwiZnVuY3Rpb25cIil7XG4gICAgICB0aGlzLl90eXBlYWhlYWQucmVuZGVyID0gZm47XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZ1bmN0aW9uIHVzZWQgdG8gcmVuZGVyIHRoZSByZXN1bHRzIGRyb3Bkb3duXG4gICAqXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gdGhlIHJlbmRlciBmdW5jdGlvblxuICAgKi9cbiAgZ2V0UmVuZGVyRnVuY3Rpb246IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuX3R5cGVhaGVhZC5yZW5kZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGFuZ3VhZ2UgdG8gdXNlIGluIFVJIGVsZW1lbnRzIGFuZCB3aGVuIG1ha2luZyBzZWFyY2ggcmVxdWVzdHNcbiAgICpcbiAgICogTG9vayBmaXJzdCBhdCB0aGUgZXhwbGljaXRseSBzZXQgb3B0aW9ucyBvdGhlcndpc2UgdXNlIHRoZSBicm93c2VyJ3MgbGFuZ3VhZ2Ugc2V0dGluZ3NcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxhbmd1YWdlIFNwZWNpZnkgdGhlIGxhbmd1YWdlIHRvIHVzZSBmb3IgcmVzcG9uc2UgdGV4dCBhbmQgcXVlcnkgcmVzdWx0IHdlaWdodGluZy4gT3B0aW9ucyBhcmUgSUVURiBsYW5ndWFnZSB0YWdzIGNvbXByaXNlZCBvZiBhIG1hbmRhdG9yeSBJU08gNjM5LTEgbGFuZ3VhZ2UgY29kZSBhbmQgb3B0aW9uYWxseSBvbmUgb3IgbW9yZSBJRVRGIHN1YnRhZ3MgZm9yIGNvdW50cnkgb3Igc2NyaXB0LiBNb3JlIHRoYW4gb25lIHZhbHVlIGNhbiBhbHNvIGJlIHNwZWNpZmllZCwgc2VwYXJhdGVkIGJ5IGNvbW1hcy5cbiAgICogQHJldHVybnMge01hcGJveEdlb2NvZGVyfSB0aGlzXG4gICAqL1xuICBzZXRMYW5ndWFnZTogZnVuY3Rpb24obGFuZ3VhZ2Upe1xuICAgIHZhciBicm93c2VyTG9jYWxlID0gbmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZTtcbiAgICB0aGlzLm9wdGlvbnMubGFuZ3VhZ2UgPSBsYW5ndWFnZSB8fCB0aGlzLm9wdGlvbnMubGFuZ3VhZ2UgfHwgYnJvd3NlckxvY2FsZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBsYW5ndWFnZSB0byB1c2UgaW4gVUkgZWxlbWVudHMgYW5kIHdoZW4gbWFraW5nIHNlYXJjaCByZXF1ZXN0c1xuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbGFuZ3VhZ2UocykgdXNlZCBieSB0aGUgcGx1Z2luLCBpZiBhbnlcbiAgICovXG4gIGdldExhbmd1YWdlOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMubGFuZ3VhZ2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgem9vbSBsZXZlbCB0aGUgbWFwIHdpbGwgbW92ZSB0byB3aGVuIHRoZXJlIGlzIG5vIGJvdW5kaW5nIGJveCBvbiB0aGUgc2VsZWN0ZWQgcmVzdWx0XG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBtYXAgem9vbVxuICAgKi9cbiAgZ2V0Wm9vbTogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnpvb207XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgem9vbSBsZXZlbFxuICAgKiBAcGFyYW0ge051bWJlcn0gem9vbSBUaGUgem9vbSBsZXZlbCB0aGF0IHRoZSBtYXAgc2hvdWxkIGFuaW1hdGUgdG8gd2hlbiBhIGBiYm94YCBpc24ndCBmb3VuZCBpbiB0aGUgcmVzcG9uc2UuIElmIGEgYGJib3hgIGlzIGZvdW5kIHRoZSBtYXAgd2lsbCBmaXQgdG8gdGhlIGBiYm94YC5cbiAgICogQHJldHVybnMge01hcGJveEdlb2NvZGVyfSB0aGlzXG4gICAqL1xuICBzZXRab29tOiBmdW5jdGlvbih6b29tKXtcbiAgICB0aGlzLm9wdGlvbnMuem9vbSA9IHpvb207XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGZseSB0byB0aGUgc2VsZWN0ZWQgcmVzcG9uc2UsIGlmIGFueVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbnxPYmplY3R9IFRoZSBgZmx5VG9gIG9wdGlvblxuICAgKi9cbiAgZ2V0Rmx5VG86IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5mbHlUbztcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBmbHlUbyBvcHRpb25zXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnxPYmplY3R9IGZseVRvIElmIGZhbHNlLCBhbmltYXRpbmcgdGhlIG1hcCB0byBhIHNlbGVjdGVkIHJlc3VsdCBpcyBkaXNhYmxlZC4gSWYgdHJ1ZSwgYW5pbWF0aW5nIHRoZSBtYXAgd2lsbCB1c2UgdGhlIGRlZmF1bHQgYW5pbWF0aW9uIHBhcmFtZXRlcnMuIElmIGFuIG9iamVjdCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgYG9wdGlvbnNgIHRvIHRoZSBtYXAgW2BmbHlUb2BdKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvI21hcCNmbHl0bykgb3IgW2BmaXRCb3VuZHNgXShodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpLyNtYXAjZml0Ym91bmRzKSBtZXRob2QgcHJvdmlkaW5nIGNvbnRyb2wgb3ZlciB0aGUgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgKi9cbiAgc2V0Rmx5VG86IGZ1bmN0aW9uKGZseVRvKXtcbiAgICB0aGlzLm9wdGlvbnMuZmx5VG8gPSBmbHlUbztcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgcGxhY2Vob2xkZXIgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBpbnB1dCBlbGVtZW50J3MgcGxhY2Vob2xkZXIgdmFsdWVcbiAgICovXG4gIGdldFBsYWNlaG9sZGVyOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IGVsZW1lbnQncyBwbGFjZWhvbGRlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGxhY2Vob2xkZXIgdGhlIHRleHQgdG8gdXNlIGFzIHRoZSBpbnB1dCBlbGVtZW50J3MgcGxhY2Vob2xkZXJcbiAgICogQHJldHVybnMge01hcGJveEdlb2NvZGVyfSB0aGlzXG4gICAqL1xuICBzZXRQbGFjZWhvbGRlcjogZnVuY3Rpb24ocGxhY2Vob2xkZXIpe1xuICAgIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlciA9IChwbGFjZWhvbGRlcikgPyBwbGFjZWhvbGRlciA6IHRoaXMuX2dldFBsYWNlaG9sZGVyVGV4dCgpO1xuICAgIHRoaXMuX2lucHV0RWwucGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXI7XG4gICAgdGhpcy5faW5wdXRFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpO1xuICAgIHJldHVybiB0aGlzXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYm91bmRpbmcgYm94IHVzZWQgYnkgdGhlIHBsdWdpblxuICAgKiBAcmV0dXJucyB7QXJyYXk8TnVtYmVyPn0gdGhlIGJvdW5kaW5nIGJveCwgaWYgYW55XG4gICAqL1xuICBnZXRCYm94OiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYmJveDtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBib3VuZGluZyBib3ggdG8gbGltaXQgc2VhcmNoIHJlc3VsdHMgdG9cbiAgICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBiYm94IGEgYm91bmRpbmcgYm94IGdpdmVuIGFzIGFuIGFycmF5IGluIHRoZSBmb3JtYXQgW21pblgsIG1pblksIG1heFgsIG1heFldLlxuICAgKiBAcmV0dXJucyB7TWFwYm94R2VvY29kZXJ9IHRoaXNcbiAgICovXG4gIHNldEJib3g6IGZ1bmN0aW9uKGJib3gpe1xuICAgIHRoaXMub3B0aW9ucy5iYm94ID0gYmJveDtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBvZiB0aGUgY291bnRyaWVzIHRvIGxpbWl0IHNlYXJjaCByZXN1bHRzIHRvXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IGEgY29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgY291bnRyaWVzIHRvIGxpbWl0IHRvLCBpZiBhbnlcbiAgICovXG4gIGdldENvdW50cmllczogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNvdW50cmllcztcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBjb3VudHJpZXMgdG8gbGltaXQgc2VhcmNoIHJlc3VsdHMgdG9cbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvdW50cmllcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIGNvdW50cmllcyB0byBsaW1pdCB0b1xuICAgKiBAcmV0dXJucyB7TWFwYm94R2VvY29kZXJ9IHRoaXNcbiAgICovXG4gIHNldENvdW50cmllczogZnVuY3Rpb24oY291bnRyaWVzKXtcbiAgICB0aGlzLm9wdGlvbnMuY291bnRyaWVzID0gY291bnRyaWVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IG9mIHRoZSB0eXBlcyB0byBsaW1pdCBzZWFyY2ggcmVzdWx0cyB0b1xuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHR5cGVzIHRvIGxpbWl0IHRvXG4gICAqL1xuICBnZXRUeXBlczogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnR5cGVzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHR5cGVzIHRvIGxpbWl0IHNlYXJjaCByZXN1bHRzIHRvXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb3VudHJpZXMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB0eXBlcyB0byBsaW1pdCB0b1xuICAgKiBAcmV0dXJucyB7TWFwYm94R2VvY29kZXJ9IHRoaXNcbiAgICovXG4gIHNldFR5cGVzOiBmdW5jdGlvbih0eXBlcyl7XG4gICAgdGhpcy5vcHRpb25zLnR5cGVzID0gdHlwZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyB0eXBlZCB0byB0cmlnZ2VyIHJlc3VsdHMgdXNlZCBpbiB0aGUgcGx1Z2luXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBtaW5pbXVtIGxlbmd0aCBpbiBjaGFyYWN0ZXJzIGJlZm9yZSBhIHNlYXJjaCBpcyB0cmlnZ2VyZWRcbiAgICovXG4gIGdldE1pbkxlbmd0aDogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLm1pbkxlbmd0aDtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHR5cGVkIHRvIHRyaWdnZXIgcmVzdWx0cyB1c2VkIGJ5IHRoZSBwbHVnaW5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbkxlbmd0aCB0aGUgbWluaW11bSBsZW5ndGggaW4gY2hhcmFjdGVyc1xuICAgKiBAcmV0dXJucyB7TWFwYm94R2VvY29kZXJ9IHRoaXNcbiAgICovXG4gIHNldE1pbkxlbmd0aDogZnVuY3Rpb24obWluTGVuZ3RoKXtcbiAgICB0aGlzLm9wdGlvbnMubWluTGVuZ3RoID0gbWluTGVuZ3RoO1xuICAgIGlmICh0aGlzLl90eXBlYWhlYWQpICB0aGlzLl90eXBlYWhlYWQub3B0aW9ucy5taW5MZW5ndGggPSBtaW5MZW5ndGg7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGltaXQgdmFsdWUgZm9yIHRoZSBudW1iZXIgb2YgcmVzdWx0cyB0byBkaXNwbGF5IHVzZWQgYnkgdGhlIHBsdWdpblxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbGltaXQgdmFsdWUgZm9yIHRoZSBudW1iZXIgb2YgcmVzdWx0cyB0byBkaXNwbGF5IHVzZWQgYnkgdGhlIHBsdWdpblxuICAgKi9cbiAgZ2V0TGltaXQ6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5saW1pdDtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBsaW1pdCB2YWx1ZSBmb3IgdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIGRpc3BsYXkgdXNlZCBieSB0aGUgcGx1Z2luXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsaW1pdCB0aGUgbnVtYmVyIG9mIHNlYXJjaCByZXN1bHRzIHRvIHJldHVyblxuICAgKiBAcmV0dXJucyB7TWFwYm94R2VvY29kZXJ9XG4gICAqL1xuICBzZXRMaW1pdDogZnVuY3Rpb24obGltaXQpe1xuICAgIHRoaXMub3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgIGlmICh0aGlzLl90eXBlYWhlYWQpIHRoaXMuX3R5cGVhaGVhZC5vcHRpb25zLmxpbWl0ID0gbGltaXQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlsdGVyIGZ1bmN0aW9uIHVzZWQgYnkgdGhlIHBsdWdpblxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IHRoZSBmaWx0ZXIgZnVuY3Rpb25cbiAgICovXG4gIGdldEZpbHRlcjogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbHRlcjtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBmaWx0ZXIgZnVuY3Rpb24gdXNlZCBieSB0aGUgcGx1Z2luLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXIgQSBmdW5jdGlvbiB3aGljaCBhY2NlcHRzIGEgRmVhdHVyZSBpbiB0aGUgW2V4dGVuZGVkIEdlb0pTT05dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9zZWFyY2gvZ2VvY29kaW5nLXY1LyNnZW9jb2RpbmctcmVzcG9uc2Utb2JqZWN0KSBmb3JtYXQgdG8gZmlsdGVyIG91dCByZXN1bHRzIGZyb20gdGhlIEdlb2NvZGluZyBBUEkgcmVzcG9uc2UgYmVmb3JlIHRoZXkgYXJlIGluY2x1ZGVkIGluIHRoZSBzdWdnZXN0aW9ucyBsaXN0LiBSZXR1cm4gYHRydWVgIHRvIGtlZXAgdGhlIGl0ZW0sIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJucyB7TWFwYm94R2VvY29kZXJ9IHRoaXNcbiAgICovXG4gIHNldEZpbHRlcjogZnVuY3Rpb24oZmlsdGVyKXtcbiAgICB0aGlzLm9wdGlvbnMuZmlsdGVyID0gZmlsdGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGdlb2NvZGluZyBlbmRwb2ludCB1c2VkIGJ5IHRoZSBwbHVnaW4uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9yaWdpbiBBIGZ1bmN0aW9uIHdoaWNoIGFjY2VwdHMgYW4gSFRUUFMgVVJMIHRvIHNwZWNpZnkgdGhlIGVuZHBvaW50IHRvIHF1ZXJ5IHJlc3VsdHMgZnJvbS5cbiAgICogQHJldHVybnMge01hcGJveEdlb2NvZGVyfSB0aGlzXG4gICAqL1xuICBzZXRPcmlnaW46IGZ1bmN0aW9uKG9yaWdpbil7XG4gICAgdGhpcy5vcHRpb25zLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLmdlb2NvZGVyU2VydmljZSA9IG1ieEdlb2NvZGVyKFxuICAgICAgTWFwYm94Q2xpZW50KHtcbiAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbixcbiAgICAgICAgb3JpZ2luOiB0aGlzLm9wdGlvbnMub3JpZ2luXG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZ2VvY29kaW5nIGVuZHBvaW50IHRoZSBwbHVnaW4gaXMgY3VycmVudGx5IHNldCB0b1xuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IHRoZSBlbmRwb2ludCBVUkxcbiAgICovXG4gIGdldE9yaWdpbjogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLm9yaWdpbjtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBhY2Nlc3NUb2tlbiBvcHRpb24gdXNlZCBmb3IgdGhlIGdlb2NvZGluZyByZXF1ZXN0IGVuZHBvaW50LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYWNjZXNzVG9rZW4gdmFsdWVcbiAgICogQHJldHVybnMge01hcGJveEdlb2NvZGVyfSB0aGlzXG4gICAqL1xuICBzZXRBY2Nlc3NUb2tlbjogZnVuY3Rpb24oYWNjZXNzVG9rZW4pe1xuICAgIHRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgIHRoaXMuZ2VvY29kZXJTZXJ2aWNlID0gbWJ4R2VvY29kZXIoXG4gICAgICBNYXBib3hDbGllbnQoe1xuICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5vcHRpb25zLmFjY2Vzc1Rva2VuLFxuICAgICAgICBvcmlnaW46IHRoaXMub3B0aW9ucy5vcmlnaW5cbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBhdXRvY29tcGxldGUgb3B0aW9uIHVzZWQgZm9yIGdlb2NvZGluZyByZXF1ZXN0c1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZhbHVlIFRoZSBib29sZWFuIHZhbHVlIHRvIHNldCBhdXRvY29tcGxldGUgdG9cbiAgICogQHJldHVybnNcbiAgICovXG4gIHNldEF1dG9jb21wbGV0ZTogZnVuY3Rpb24odmFsdWUpe1xuICAgIHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IGF1dG9jb21wbGV0ZSBwYXJhbWV0ZXIgdmFsdWUgdXNlZCBmb3IgcmVxdWVzdHNcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFRoZSBhdXRvY29tcGxldGUgcGFyYW1ldGVyIHZhbHVlXG4gICAqL1xuICBnZXRBdXRvY29tcGxldGU6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHRoZSBmdXp6eU1hdGNoIG9wdGlvbiB1c2VkIGZvciBhcHByb3hpbWF0ZSBtYXRjaGluZyBpbiBnZW9jb2RpbmcgcmVxdWVzdHNcbiAgICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZSBUaGUgYm9vbGVhbiB2YWx1ZSB0byBzZXQgZnV6enlNYXRjaCB0b1xuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgc2V0RnV6enlNYXRjaDogZnVuY3Rpb24odmFsdWUpe1xuICAgIHRoaXMub3B0aW9ucy5mdXp6eU1hdGNoID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBmdXp6eU1hdGNoIHBhcmFtZXRlciB2YWx1ZSB1c2VkIGZvciByZXF1ZXN0c1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGhlIGZ1enp5TWF0Y2ggcGFyYW1ldGVyIHZhbHVlXG4gICAqL1xuICBnZXRGdXp6eU1hdGNoOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZnV6enlNYXRjaFxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJvdXRpbmcgcGFyYW1ldGVyIHVzZWQgdG8gYXNrIGZvciByb3V0YWJsZSBwb2ludCBtZXRhZGF0YSBpbiBnZW9jb2RpbmcgcmVxdWVzdHNcbiAgICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZSBUaGUgYm9vbGVhbiB2YWx1ZSB0byBzZXQgcm91dGluZyB0b1xuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgc2V0Um91dGluZzogZnVuY3Rpb24odmFsdWUpe1xuICAgIHRoaXMub3B0aW9ucy5yb3V0aW5nID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCByb3V0aW5nIHBhcmFtZXRlciB2YWx1ZSB1c2VkIGZvciByZXF1ZXN0c1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGhlIHJvdXRpbmcgcGFyYW1ldGVyIHZhbHVlXG4gICAqL1xuICBnZXRSb3V0aW5nOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucm91dGluZ1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHdvcmxkdmlldyBwYXJhbWV0ZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvZGUgVGhlIGNvdW50cnkgY29kZSByZXByZXNlbnRpbmcgdGhlIHdvcmxkdmlldyAoZS5nLiBcInVzXCIgfCBcImNuXCIgfCBcImpwXCIsIFwiaW5cIilcbiAgICogQHJldHVybnNcbiAgICovXG4gIHNldFdvcmxkdmlldzogZnVuY3Rpb24oY29kZSl7XG4gICAgdGhpcy5vcHRpb25zLndvcmxkdmlldyA9IGNvZGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCB3b3JsZHZpZXcgcGFyYW1ldGVyIHZhbHVlIHVzZWQgZm9yIHJlcXVlc3RzXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSB3b3JsZHZpZXcgcGFyYW1ldGVyIHZhbHVlXG4gICAqL1xuICBnZXRXb3JsZHZpZXc6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy53b3JsZHZpZXdcbiAgfSxcblxuICAvKipcbiAgICogSGFuZGxlIHRoZSBwbGFjZW1lbnQgb2YgYSByZXN1bHQgbWFya2luZyB0aGUgc2VsZWN0ZWQgcmVzdWx0XG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZWxlY3RlZCB0aGUgc2VsZWN0ZWQgZ2VvanNvbiBmZWF0dXJlXG4gICAqIEByZXR1cm5zIHtNYXBib3hHZW9jb2Rlcn0gdGhpc1xuICAgKi9cbiAgX2hhbmRsZU1hcmtlcjogZnVuY3Rpb24oc2VsZWN0ZWQpe1xuICAgIC8vIGNsZWFuIHVwIGFueSBvbGQgbWFya2VyIHRoYXQgbWlnaHQgYmUgcHJlc2VudFxuICAgIGlmICghdGhpcy5fbWFwKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcmVtb3ZlTWFya2VyKCk7XG4gICAgdmFyIGRlZmF1bHRNYXJrZXJPcHRpb25zID0ge1xuICAgICAgY29sb3I6ICcjNDY2OEYyJ1xuICAgIH1cbiAgICB2YXIgbWFya2VyT3B0aW9ucyA9IGV4dGVuZCh7fSwgZGVmYXVsdE1hcmtlck9wdGlvbnMsIHRoaXMub3B0aW9ucy5tYXJrZXIpXG4gICAgdGhpcy5tYXBNYXJrZXIgPSBuZXcgdGhpcy5fbWFwYm94Z2wuTWFya2VyKG1hcmtlck9wdGlvbnMpO1xuICAgIGlmIChzZWxlY3RlZC5jZW50ZXIpIHtcbiAgICAgIHRoaXMubWFwTWFya2VyXG4gICAgICAgIC5zZXRMbmdMYXQoc2VsZWN0ZWQuY2VudGVyKVxuICAgICAgICAuYWRkVG8odGhpcy5fbWFwKTtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdGVkLmdlb21ldHJ5ICYmIHNlbGVjdGVkLmdlb21ldHJ5LnR5cGUgJiYgc2VsZWN0ZWQuZ2VvbWV0cnkudHlwZSA9PT0gJ1BvaW50JyAmJiBzZWxlY3RlZC5nZW9tZXRyeS5jb29yZGluYXRlcykge1xuICAgICAgdGhpcy5tYXBNYXJrZXJcbiAgICAgICAgLnNldExuZ0xhdChzZWxlY3RlZC5nZW9tZXRyeS5jb29yZGluYXRlcylcbiAgICAgICAgLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIHJlbW92YWwgb2YgYSByZXN1bHQgbWFya2VyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVtb3ZlTWFya2VyOiBmdW5jdGlvbigpe1xuICAgIGlmICh0aGlzLm1hcE1hcmtlcil7XG4gICAgICB0aGlzLm1hcE1hcmtlci5yZW1vdmUoKTtcbiAgICAgIHRoaXMubWFwTWFya2VyID0gbnVsbDtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBldmVudHMgdGhhdCBoYXBwZW4gd2l0aGluIHRoZSBwbHVnaW4uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIG5hbWUgb2YgZXZlbnQuIEF2YWlsYWJsZSBldmVudHMgYW5kIHRoZSBkYXRhIHBhc3NlZCBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgZXZlbnQgb2JqZWN0cyBhcmU6XG4gICAqXG4gICAqIC0gX19jbGVhcl9fIGBFbWl0dGVkIHdoZW4gdGhlIGlucHV0IGlzIGNsZWFyZWRgXG4gICAqIC0gX19sb2FkaW5nX18gYHsgcXVlcnkgfSBFbWl0dGVkIHdoZW4gdGhlIGdlb2NvZGVyIGlzIGxvb2tpbmcgdXAgYSBxdWVyeWBcbiAgICogLSBfX3Jlc3VsdHNfXyBgeyByZXN1bHRzIH0gRmlyZWQgd2hlbiB0aGUgZ2VvY29kZXIgcmV0dXJucyBhIHJlc3BvbnNlYFxuICAgKiAtIF9fcmVzdWx0X18gYHsgcmVzdWx0IH0gRmlyZWQgd2hlbiBpbnB1dCBpcyBzZXRgXG4gICAqIC0gX19lcnJvcl9fIGB7IGVycm9yIH0gRXJyb3IgYXMgc3RyaW5nYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBmdW5jdGlvbiB0aGF0J3MgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAqIEByZXR1cm5zIHtNYXBib3hHZW9jb2Rlcn0gdGhpcztcbiAgICovXG4gIG9uOiBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgIHRoaXMuX2V2ZW50RW1pdHRlci5vbih0eXBlLCBmbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudFxuICAgKiBAcmV0dXJucyB7TWFwYm94R2VvY29kZXJ9IHRoaXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgRXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdGhhdCBzaG91bGQgdW5zdWJzY3JpYmUgdG8gdGhlIGV2ZW50IGVtaXR0ZWQuXG4gICAqL1xuICBvZmY6IGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgdGhpcy5fZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGZuKTtcbiAgICB0aGlzLmV2ZW50TWFuYWdlci5yZW1vdmUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXBib3hHZW9jb2RlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/localization.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/lib/localization.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/**\n * Localized values for the placeholder string\n * \n * @private\n */\nvar placeholder = {\n  // list drawn from https://docs.mapbox.com/api/search/#language-coverage\n  'de': 'Suche', // german\n  'it': 'Ricerca', //italian\n  'en': 'Search', // english\n  'nl': 'Zoeken', //dutch\n  'fr': 'Chercher',  //french\n  'ca': 'Cerca', //catalan\n  'he': 'לחפש', //hebrew\n  'ja': 'サーチ',  //japanese\n  'lv': 'Meklēt', //latvian\n  'pt': 'Procurar', //portuguese \n  'sr': 'Претрага', //serbian\n  'zh': '搜索', //chinese-simplified\n  'cs': 'Vyhledávání', //czech\n  'hu': 'Keresés', //hungarian\n  'ka': 'ძიება', // georgian\n  'nb': 'Søke', //norwegian\n  'sk': 'Vyhľadávanie', //slovak\n  'th': 'ค้นหา', //thai\n  'fi': 'Hae',//finnish\n  'is': 'Leita',//icelandic\n  'ko': '수색',//korean\n  'pl':  'Szukaj', //polish\n  'sl': 'Iskanje', //slovenian\n  'fa': 'جستجو',  //persian(aka farsi)\n  'ru': 'Поиск'//russian\n}\n\nmodule.exports = {placeholder: placeholder};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbGliL2xvY2FsaXphdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1nZW9jb2Rlci9saWIvbG9jYWxpemF0aW9uLmpzP2M4OGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIExvY2FsaXplZCB2YWx1ZXMgZm9yIHRoZSBwbGFjZWhvbGRlciBzdHJpbmdcbiAqIFxuICogQHByaXZhdGVcbiAqL1xudmFyIHBsYWNlaG9sZGVyID0ge1xuICAvLyBsaXN0IGRyYXduIGZyb20gaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL3NlYXJjaC8jbGFuZ3VhZ2UtY292ZXJhZ2VcbiAgJ2RlJzogJ1N1Y2hlJywgLy8gZ2VybWFuXG4gICdpdCc6ICdSaWNlcmNhJywgLy9pdGFsaWFuXG4gICdlbic6ICdTZWFyY2gnLCAvLyBlbmdsaXNoXG4gICdubCc6ICdab2VrZW4nLCAvL2R1dGNoXG4gICdmcic6ICdDaGVyY2hlcicsICAvL2ZyZW5jaFxuICAnY2EnOiAnQ2VyY2EnLCAvL2NhdGFsYW5cbiAgJ2hlJzogJ9ec15fXpNepJywgLy9oZWJyZXdcbiAgJ2phJzogJ+OCteODvOODgScsICAvL2phcGFuZXNlXG4gICdsdic6ICdNZWtsxJN0JywgLy9sYXR2aWFuXG4gICdwdCc6ICdQcm9jdXJhcicsIC8vcG9ydHVndWVzZSBcbiAgJ3NyJzogJ9Cf0YDQtdGC0YDQsNCz0LAnLCAvL3NlcmJpYW5cbiAgJ3poJzogJ+aQnOe0oicsIC8vY2hpbmVzZS1zaW1wbGlmaWVkXG4gICdjcyc6ICdWeWhsZWTDoXbDoW7DrScsIC8vY3plY2hcbiAgJ2h1JzogJ0tlcmVzw6lzJywgLy9odW5nYXJpYW5cbiAgJ2thJzogJ+GDq+GDmOGDlOGDkeGDkCcsIC8vIGdlb3JnaWFuXG4gICduYic6ICdTw7hrZScsIC8vbm9yd2VnaWFuXG4gICdzayc6ICdWeWjEvmFkw6F2YW5pZScsIC8vc2xvdmFrXG4gICd0aCc6ICfguITguYnguJnguKvguLInLCAvL3RoYWlcbiAgJ2ZpJzogJ0hhZScsLy9maW5uaXNoXG4gICdpcyc6ICdMZWl0YScsLy9pY2VsYW5kaWNcbiAgJ2tvJzogJ+yImOyDiScsLy9rb3JlYW5cbiAgJ3BsJzogICdTenVrYWonLCAvL3BvbGlzaFxuICAnc2wnOiAnSXNrYW5qZScsIC8vc2xvdmVuaWFuXG4gICdmYSc6ICfYrNiz2KrYrNmIJywgIC8vcGVyc2lhbihha2EgZmFyc2kpXG4gICdydSc6ICfQn9C+0LjRgdC6Jy8vcnVzc2lhblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/localization.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/utils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/lib/utils.js ***!
  \**************************************************************/
/***/ ((module) => {

eval("/**\n * This function transforms the feature from reverse geocoding to plain text with specified accuracy\n * @param {object} feature \n * @param {string} accuracy \n * @returns \n */\nfunction transformFeatureToGeolocationText(feature, accuracy) {\n  const addrInfo = getAddressInfo(feature);\n\n  const addressAccuracy =  ['address', 'street', 'place', 'country'];\n  var currentAccuracy;\n\n  if (typeof accuracy === 'function') {\n    return accuracy(addrInfo)\n  }\n\n  const accuracyIndex = addressAccuracy.indexOf(accuracy);\n\n  if (accuracyIndex === -1) {\n    currentAccuracy = addressAccuracy;\n  } else {\n    currentAccuracy = addressAccuracy.slice(accuracyIndex);\n  }\n\n  return currentAccuracy.reduce(function(acc, name) {\n    if (!addrInfo[name]) {\n      return acc;\n    }\n\n    if (acc !== '') {\n      acc = acc + ', ';\n    }\n\n    return acc + addrInfo[name];\n  }, '');\n}\n/**\n * This function transforms the feature from reverse geocoding to AddressInfo object\n * @param {object} feature \n * @returns {object}\n */\nfunction getAddressInfo(feature) {\n  const houseNumber = feature.address || '';\n  const street = feature.text || '';\n  const placeName = feature.place_name || '';\n  const address = placeName.split(',')[0];\n\n  const addrInfo = {\n    address: address,\n    houseNumber: houseNumber,\n    street: street,\n    placeName: placeName,\n  }\n\n  feature.context.forEach(function (context) {\n    const layer = context.id.split('.')[0];\n    addrInfo[layer] = context.text;\n  });\n\n  return addrInfo;\n}\n\nconst REVERSE_GEOCODE_COORD_RGX = /^[ ]*(-?\\d{1,3}(\\.\\d{0,256})?)[, ]+(-?\\d{1,3}(\\.\\d{0,256})?)[ ]*$/;\n\nmodule.exports = {\n  transformFeatureToGeolocationText: transformFeatureToGeolocationText,\n  getAddressInfo: getAddressInfo,\n  REVERSE_GEOCODE_COORD_RGX: REVERSE_GEOCODE_COORD_RGX,\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbGliL3V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQSw4Q0FBOEMsSUFBSSxNQUFNLE1BQU0sY0FBYyxJQUFJLE1BQU0sTUFBTTs7QUFFNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbGliL3V0aWxzLmpzP2ZjMzYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHRyYW5zZm9ybXMgdGhlIGZlYXR1cmUgZnJvbSByZXZlcnNlIGdlb2NvZGluZyB0byBwbGFpbiB0ZXh0IHdpdGggc3BlY2lmaWVkIGFjY3VyYWN5XG4gKiBAcGFyYW0ge29iamVjdH0gZmVhdHVyZSBcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY2N1cmFjeSBcbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1GZWF0dXJlVG9HZW9sb2NhdGlvblRleHQoZmVhdHVyZSwgYWNjdXJhY3kpIHtcbiAgY29uc3QgYWRkckluZm8gPSBnZXRBZGRyZXNzSW5mbyhmZWF0dXJlKTtcblxuICBjb25zdCBhZGRyZXNzQWNjdXJhY3kgPSAgWydhZGRyZXNzJywgJ3N0cmVldCcsICdwbGFjZScsICdjb3VudHJ5J107XG4gIHZhciBjdXJyZW50QWNjdXJhY3k7XG5cbiAgaWYgKHR5cGVvZiBhY2N1cmFjeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhY2N1cmFjeShhZGRySW5mbylcbiAgfVxuXG4gIGNvbnN0IGFjY3VyYWN5SW5kZXggPSBhZGRyZXNzQWNjdXJhY3kuaW5kZXhPZihhY2N1cmFjeSk7XG5cbiAgaWYgKGFjY3VyYWN5SW5kZXggPT09IC0xKSB7XG4gICAgY3VycmVudEFjY3VyYWN5ID0gYWRkcmVzc0FjY3VyYWN5O1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRBY2N1cmFjeSA9IGFkZHJlc3NBY2N1cmFjeS5zbGljZShhY2N1cmFjeUluZGV4KTtcbiAgfVxuXG4gIHJldHVybiBjdXJyZW50QWNjdXJhY3kucmVkdWNlKGZ1bmN0aW9uKGFjYywgbmFtZSkge1xuICAgIGlmICghYWRkckluZm9bbmFtZV0pIHtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfVxuXG4gICAgaWYgKGFjYyAhPT0gJycpIHtcbiAgICAgIGFjYyA9IGFjYyArICcsICc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjYyArIGFkZHJJbmZvW25hbWVdO1xuICB9LCAnJyk7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gdHJhbnNmb3JtcyB0aGUgZmVhdHVyZSBmcm9tIHJldmVyc2UgZ2VvY29kaW5nIHRvIEFkZHJlc3NJbmZvIG9iamVjdFxuICogQHBhcmFtIHtvYmplY3R9IGZlYXR1cmUgXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRBZGRyZXNzSW5mbyhmZWF0dXJlKSB7XG4gIGNvbnN0IGhvdXNlTnVtYmVyID0gZmVhdHVyZS5hZGRyZXNzIHx8ICcnO1xuICBjb25zdCBzdHJlZXQgPSBmZWF0dXJlLnRleHQgfHwgJyc7XG4gIGNvbnN0IHBsYWNlTmFtZSA9IGZlYXR1cmUucGxhY2VfbmFtZSB8fCAnJztcbiAgY29uc3QgYWRkcmVzcyA9IHBsYWNlTmFtZS5zcGxpdCgnLCcpWzBdO1xuXG4gIGNvbnN0IGFkZHJJbmZvID0ge1xuICAgIGFkZHJlc3M6IGFkZHJlc3MsXG4gICAgaG91c2VOdW1iZXI6IGhvdXNlTnVtYmVyLFxuICAgIHN0cmVldDogc3RyZWV0LFxuICAgIHBsYWNlTmFtZTogcGxhY2VOYW1lLFxuICB9XG5cbiAgZmVhdHVyZS5jb250ZXh0LmZvckVhY2goZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICBjb25zdCBsYXllciA9IGNvbnRleHQuaWQuc3BsaXQoJy4nKVswXTtcbiAgICBhZGRySW5mb1tsYXllcl0gPSBjb250ZXh0LnRleHQ7XG4gIH0pO1xuXG4gIHJldHVybiBhZGRySW5mbztcbn1cblxuY29uc3QgUkVWRVJTRV9HRU9DT0RFX0NPT1JEX1JHWCA9IC9eWyBdKigtP1xcZHsxLDN9KFxcLlxcZHswLDI1Nn0pPylbLCBdKygtP1xcZHsxLDN9KFxcLlxcZHswLDI1Nn0pPylbIF0qJC87XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0cmFuc2Zvcm1GZWF0dXJlVG9HZW9sb2NhdGlvblRleHQ6IHRyYW5zZm9ybUZlYXR1cmVUb0dlb2xvY2F0aW9uVGV4dCxcbiAgZ2V0QWRkcmVzc0luZm86IGdldEFkZHJlc3NJbmZvLFxuICBSRVZFUlNFX0dFT0NPREVfQ09PUkRfUkdYOiBSRVZFUlNFX0dFT0NPREVfQ09PUkRfUkdYLFxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/lib/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/index.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar client = __webpack_require__(/*! ./lib/client */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/client.js\");\n\nmodule.exports = client;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGFBQWEsbUJBQU8sQ0FBQywyRUFBYzs7QUFFbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9pbmRleC5qcz82YzFmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGNsaWVudCA9IHJlcXVpcmUoJy4vbGliL2NsaWVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsaWVudDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-client.js":
/*!********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-client.js ***!
  \********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar parseToken = __webpack_require__(/*! @mapbox/parse-mapbox-token */ \"(ssr)/./node_modules/@mapbox/parse-mapbox-token/index.js\");\nvar MapiRequest = __webpack_require__(/*! ./mapi-request */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-request.js\");\nvar constants = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/constants.js\");\n\n/**\n * A low-level Mapbox API client. Use it to create service clients\n * that share the same configuration.\n *\n * Services and `MapiRequest`s use the underlying `MapiClient` to\n * determine how to create, send, and abort requests in a way\n * that is appropriate to the configuration and environment\n * (Node or the browser).\n *\n * @class MapiClient\n * @property {string} accessToken - The Mapbox access token assigned\n *   to this client.\n * @property {string} [origin] - The origin\n *   to use for API requests. Defaults to https://api.mapbox.com.\n */\n\nfunction MapiClient(options) {\n  if (!options || !options.accessToken) {\n    throw new Error('Cannot create a client without an access token');\n  }\n  // Try parsing the access token to determine right away if it's valid.\n  parseToken(options.accessToken);\n\n  this.accessToken = options.accessToken;\n  this.origin = options.origin || constants.API_ORIGIN;\n}\n\nMapiClient.prototype.createRequest = function createRequest(requestOptions) {\n  return new MapiRequest(this, requestOptions);\n};\n\nmodule.exports = MapiClient;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9jbGFzc2VzL21hcGktY2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlCQUFpQixtQkFBTyxDQUFDLDRGQUE0QjtBQUNyRCxrQkFBa0IsbUJBQU8sQ0FBQywyRkFBZ0I7QUFDMUMsZ0JBQWdCLG1CQUFPLENBQUMsOEVBQWM7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9saWIvY2xhc3Nlcy9tYXBpLWNsaWVudC5qcz9kZDMxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHBhcnNlVG9rZW4gPSByZXF1aXJlKCdAbWFwYm94L3BhcnNlLW1hcGJveC10b2tlbicpO1xudmFyIE1hcGlSZXF1ZXN0ID0gcmVxdWlyZSgnLi9tYXBpLXJlcXVlc3QnKTtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBNYXBib3ggQVBJIGNsaWVudC4gVXNlIGl0IHRvIGNyZWF0ZSBzZXJ2aWNlIGNsaWVudHNcbiAqIHRoYXQgc2hhcmUgdGhlIHNhbWUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBTZXJ2aWNlcyBhbmQgYE1hcGlSZXF1ZXN0YHMgdXNlIHRoZSB1bmRlcmx5aW5nIGBNYXBpQ2xpZW50YCB0b1xuICogZGV0ZXJtaW5lIGhvdyB0byBjcmVhdGUsIHNlbmQsIGFuZCBhYm9ydCByZXF1ZXN0cyBpbiBhIHdheVxuICogdGhhdCBpcyBhcHByb3ByaWF0ZSB0byB0aGUgY29uZmlndXJhdGlvbiBhbmQgZW52aXJvbm1lbnRcbiAqIChOb2RlIG9yIHRoZSBicm93c2VyKS5cbiAqXG4gKiBAY2xhc3MgTWFwaUNsaWVudFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFjY2Vzc1Rva2VuIC0gVGhlIE1hcGJveCBhY2Nlc3MgdG9rZW4gYXNzaWduZWRcbiAqICAgdG8gdGhpcyBjbGllbnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW29yaWdpbl0gLSBUaGUgb3JpZ2luXG4gKiAgIHRvIHVzZSBmb3IgQVBJIHJlcXVlc3RzLiBEZWZhdWx0cyB0byBodHRwczovL2FwaS5tYXBib3guY29tLlxuICovXG5cbmZ1bmN0aW9uIE1hcGlDbGllbnQob3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMuYWNjZXNzVG9rZW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgYSBjbGllbnQgd2l0aG91dCBhbiBhY2Nlc3MgdG9rZW4nKTtcbiAgfVxuICAvLyBUcnkgcGFyc2luZyB0aGUgYWNjZXNzIHRva2VuIHRvIGRldGVybWluZSByaWdodCBhd2F5IGlmIGl0J3MgdmFsaWQuXG4gIHBhcnNlVG9rZW4ob3B0aW9ucy5hY2Nlc3NUb2tlbik7XG5cbiAgdGhpcy5hY2Nlc3NUb2tlbiA9IG9wdGlvbnMuYWNjZXNzVG9rZW47XG4gIHRoaXMub3JpZ2luID0gb3B0aW9ucy5vcmlnaW4gfHwgY29uc3RhbnRzLkFQSV9PUklHSU47XG59XG5cbk1hcGlDbGllbnQucHJvdG90eXBlLmNyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KHJlcXVlc3RPcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTWFwaVJlcXVlc3QodGhpcywgcmVxdWVzdE9wdGlvbnMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXBpQ2xpZW50O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-error.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-error.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar constants = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/constants.js\");\n\n/**\n * A Mapbox API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `MapiRequest`'s [`send`](#send)\n * method should reject with a `MapiError`.\n *\n * @class MapiError\n * @hideconstructor\n * @property {MapiRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {MapiRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\nfunction MapiError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n\n  var body;\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = MapiError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9jbGFzc2VzL21hcGktZXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0JBQWdCLG1CQUFPLENBQUMsOEVBQWM7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsYUFBYTtBQUMzQixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0I7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1zZGsvbGliL2NsYXNzZXMvbWFwaS1lcnJvci5qcz82Y2IyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG4vKipcbiAqIEEgTWFwYm94IEFQSSBlcnJvci5cbiAqXG4gKiBJZiB0aGVyZSdzIGFuIGVycm9yIGR1cmluZyB0aGUgQVBJIHRyYW5zYWN0aW9uLFxuICogdGhlIFByb21pc2UgcmV0dXJuZWQgYnkgYE1hcGlSZXF1ZXN0YCdzIFtgc2VuZGBdKCNzZW5kKVxuICogbWV0aG9kIHNob3VsZCByZWplY3Qgd2l0aCBhIGBNYXBpRXJyb3JgLlxuICpcbiAqIEBjbGFzcyBNYXBpRXJyb3JcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqIEBwcm9wZXJ0eSB7TWFwaVJlcXVlc3R9IHJlcXVlc3QgLSBUaGUgZXJyb3JlZCByZXF1ZXN0LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlcnJvci4gVXN1YWxseSB0aGlzIGlzIGAnSHR0cEVycm9yJ2AuXG4gKiAgIElmIHRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkLCBzbyB0aGUgZXJyb3Igd2FzXG4gKiAgIG5vdCBzZW50IGZyb20gdGhlIHNlcnZlciwgdGhlIHR5cGUgd2lsbCBiZVxuICogICBgJ1JlcXVlc3RBYm9ydGVkRXJyb3InYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc3RhdHVzQ29kZV0gLSBUaGUgbnVtZXJpYyBzdGF0dXMgY29kZSBvZlxuICogICB0aGUgSFRUUCByZXNwb25zZS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0IHwgc3RyaW5nfSBbYm9keV0gLSBJZiB0aGUgc2VydmVyIHNlbnQgYSByZXNwb25zZSBib2R5LFxuICogICB0aGlzIHByb3BlcnR5IGV4cG9zZXMgdGhhdCByZXNwb25zZSwgcGFyc2VkIGFzIEpTT04gaWYgcG9zc2libGUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW21lc3NhZ2VdIC0gV2hhdGV2ZXIgbWVzc2FnZSBjb3VsZCBiZSBkZXJpdmVkIGZyb20gdGhlXG4gKiAgIGNhbGwgc2l0ZSBhbmQgSFRUUCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge01hcGlSZXF1ZXN0fSBvcHRpb25zLnJlcXVlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGF0dXNDb2RlXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJvZHldXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubWVzc2FnZV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50eXBlXVxuICovXG5mdW5jdGlvbiBNYXBpRXJyb3Iob3B0aW9ucykge1xuICB2YXIgZXJyb3JUeXBlID0gb3B0aW9ucy50eXBlIHx8IGNvbnN0YW50cy5FUlJPUl9IVFRQO1xuXG4gIHZhciBib2R5O1xuICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgdHJ5IHtcbiAgICAgIGJvZHkgPSBKU09OLnBhcnNlKG9wdGlvbnMuYm9keSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYm9keSA9IG51bGw7XG4gIH1cblxuICB2YXIgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZSB8fCBudWxsO1xuICBpZiAoIW1lc3NhZ2UpIHtcbiAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtZXNzYWdlID0gYm9keTtcbiAgICB9IGVsc2UgaWYgKGJvZHkgJiYgdHlwZW9mIGJvZHkubWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1lc3NhZ2UgPSBib2R5Lm1lc3NhZ2U7XG4gICAgfSBlbHNlIGlmIChlcnJvclR5cGUgPT09IGNvbnN0YW50cy5FUlJPUl9SRVFVRVNUX0FCT1JURUQpIHtcbiAgICAgIG1lc3NhZ2UgPSAnUmVxdWVzdCBhYm9ydGVkJztcbiAgICB9XG4gIH1cblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLnR5cGUgPSBlcnJvclR5cGU7XG4gIHRoaXMuc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZSB8fCBudWxsO1xuICB0aGlzLnJlcXVlc3QgPSBvcHRpb25zLnJlcXVlc3Q7XG4gIHRoaXMuYm9keSA9IGJvZHk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWFwaUVycm9yO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-request.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-request.js ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar parseToken = __webpack_require__(/*! @mapbox/parse-mapbox-token */ \"(ssr)/./node_modules/@mapbox/parse-mapbox-token/index.js\");\nvar xtend = __webpack_require__(/*! xtend */ \"(ssr)/./node_modules/xtend/immutable.js\");\nvar EventEmitter = __webpack_require__(/*! eventemitter3 */ \"(ssr)/./node_modules/eventemitter3/index.js\");\nvar urlUtils = __webpack_require__(/*! ../helpers/url-utils */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/helpers/url-utils.js\");\nvar constants = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/constants.js\");\n\nvar requestId = 1;\n\n/**\n * A Mapbox API request.\n *\n * Note that creating a `MapiRequest` does *not* send the request automatically.\n * Use the request's `send` method to send it off and get a `Promise`.\n *\n * The `emitter` property is an `EventEmitter` that emits the following events:\n *\n * - `'response'` - Listeners will be called with a `MapiResponse`.\n * - `'error'` - Listeners will be called with a `MapiError`.\n * - `'downloadProgress'` - Listeners will be called with `ProgressEvents`.\n * - `'uploadProgress'` - Listeners will be called with `ProgressEvents`.\n *   Upload events are only available when the request includes a file.\n *\n * @class MapiRequest\n * @property {EventEmitter} emitter - An event emitter. See above.\n * @property {MapiClient} client - This request's `MapiClient`.\n * @property {MapiResponse|null} response - If this request has been sent and received\n *   a response, the response is available on this property.\n * @property {MapiError|Error|null} error - If this request has been sent and\n *   received an error in response, the error is available on this property.\n * @property {boolean} aborted - If the request has been aborted\n *   (via [`abort`](#abort)), this property will be `true`.\n * @property {boolean} sent - If the request has been sent, this property will\n *   be `true`. You cannot send the same request twice, so if you need to create\n *   a new request that is the equivalent of an existing one, use\n *   [`clone`](#clone).\n * @property {string} path - The request's path, including colon-prefixed route\n *   parameters.\n * @property {string} origin - The request's origin.\n * @property {string} method - The request's HTTP method.\n * @property {Object} query - A query object, which will be transformed into\n *   a URL query string.\n * @property {Object} params - A route parameters object, whose values will\n *   be interpolated the path.\n * @property {Object} headers - The request's headers.\n * @property {Object|string|null} body - Data to send with the request.\n *   If the request has a body, it will also be sent with the header\n *   `'Content-Type: application/json'`.\n * @property {Blob|ArrayBuffer|string|ReadStream} file - A file to\n *   send with the request. The browser client accepts Blobs and ArrayBuffers;\n *   the Node client accepts strings (filepaths) and ReadStreams.\n * @property {string} encoding - The encoding of the response.\n * @property {string} sendFileAs - The method to send the `file`. Options are\n *   `data` (x-www-form-urlencoded) or `form` (multipart/form-data).\n */\n\n/**\n * @ignore\n * @param {MapiClient} client\n * @param {Object} options\n * @param {string} options.method\n * @param {string} options.path\n * @param {Object} [options.query={}]\n * @param {Object} [options.params={}]\n * @param {string} [options.origin]\n * @param {Object} [options.headers]\n * @param {Object} [options.body=null]\n * @param {Blob|ArrayBuffer|string|ReadStream} [options.file=null]\n * @param {string} [options.encoding=utf8]\n */\nfunction MapiRequest(client, options) {\n  if (!client) {\n    throw new Error('MapiRequest requires a client');\n  }\n  if (!options || !options.path || !options.method) {\n    throw new Error(\n      'MapiRequest requires an options object with path and method properties'\n    );\n  }\n\n  var defaultHeaders = {};\n  if (options.body) {\n    defaultHeaders['content-type'] = 'application/json';\n  }\n\n  var headersWithDefaults = xtend(defaultHeaders, options.headers);\n\n  // Disallows duplicate header names of mixed case,\n  // e.g. Content-Type and content-type.\n  var headers = Object.keys(headersWithDefaults).reduce(function(memo, name) {\n    memo[name.toLowerCase()] = headersWithDefaults[name];\n    return memo;\n  }, {});\n\n  this.id = requestId++;\n  this._options = options;\n\n  this.emitter = new EventEmitter();\n  this.client = client;\n  this.response = null;\n  this.error = null;\n  this.sent = false;\n  this.aborted = false;\n  this.path = options.path;\n  this.method = options.method;\n  this.origin = options.origin || client.origin;\n  this.query = options.query || {};\n  this.params = options.params || {};\n  this.body = options.body || null;\n  this.file = options.file || null;\n  this.encoding = options.encoding || 'utf8';\n  this.sendFileAs = options.sendFileAs || null;\n  this.headers = headers;\n}\n\n/**\n * Get the URL of the request.\n *\n * @param {string} [accessToken] - By default, the access token of the request's\n *   client is used.\n * @return {string}\n */\nMapiRequest.prototype.url = function url(accessToken) {\n  var url = urlUtils.prependOrigin(this.path, this.origin);\n  url = urlUtils.appendQueryObject(url, this.query);\n  var routeParams = this.params;\n  var actualAccessToken =\n    accessToken == null ? this.client.accessToken : accessToken;\n  if (actualAccessToken) {\n    url = urlUtils.appendQueryParam(url, 'access_token', actualAccessToken);\n    var accessTokenOwnerId = parseToken(actualAccessToken).user;\n    routeParams = xtend({ ownerId: accessTokenOwnerId }, routeParams);\n  }\n  url = urlUtils.interpolateRouteParams(url, routeParams);\n  return url;\n};\n\n/**\n * Send the request. Returns a Promise that resolves with a `MapiResponse`.\n * You probably want to use `response.body`.\n *\n * `send` only retrieves the first page of paginated results. You can get\n * the next page by using the `MapiResponse`'s [`nextPage`](#nextpage)\n * function, or iterate through all pages using [`eachPage`](#eachpage)\n * instead of `send`.\n *\n * @returns {Promise<MapiResponse>}\n */\nMapiRequest.prototype.send = function send() {\n  var self = this;\n\n  if (self.sent) {\n    throw new Error(\n      'This request has already been sent. Check the response and error properties. Create a new request with clone().'\n    );\n  }\n  self.sent = true;\n\n  return self.client.sendRequest(self).then(\n    function(response) {\n      self.response = response;\n      self.emitter.emit(constants.EVENT_RESPONSE, response);\n      return response;\n    },\n    function(error) {\n      self.error = error;\n      self.emitter.emit(constants.EVENT_ERROR, error);\n      throw error;\n    }\n  );\n};\n\n/**\n * Abort the request.\n *\n * Any pending `Promise` returned by [`send`](#send) will be rejected with\n * an error with `type: 'RequestAbortedError'`. If you've created a request\n * that might be aborted, you need to catch and handle such errors.\n *\n * This method will also abort any requests created while fetching subsequent\n * pages via [`eachPage`](#eachpage).\n *\n * If the request has not been sent or has already been aborted, nothing\n * will happen.\n */\nMapiRequest.prototype.abort = function abort() {\n  if (this._nextPageRequest) {\n    this._nextPageRequest.abort();\n    delete this._nextPageRequest;\n  }\n\n  if (this.response || this.error || this.aborted) return;\n\n  this.aborted = true;\n  this.client.abortRequest(this);\n};\n\n/**\n * Invoke a callback for each page of a paginated API response.\n *\n * The callback should have the following signature:\n *\n * ```js\n * (\n *   error: MapiError,\n *   response: MapiResponse,\n *   next: () => void\n * ) => void\n * ```\n *\n * **The next page will not be fetched until you've invoked the\n * `next` callback**, indicating that you're ready for it.\n *\n * @param {Function} callback\n */\nMapiRequest.prototype.eachPage = function eachPage(callback) {\n  var self = this;\n\n  function handleResponse(response) {\n    function getNextPage() {\n      delete self._nextPageRequest;\n      var nextPageRequest = response.nextPage();\n      if (nextPageRequest) {\n        self._nextPageRequest = nextPageRequest;\n        getPage(nextPageRequest);\n      }\n    }\n    callback(null, response, getNextPage);\n  }\n\n  function handleError(error) {\n    callback(error, null, function() {});\n  }\n\n  function getPage(request) {\n    request.send().then(handleResponse, handleError);\n  }\n  getPage(this);\n};\n\n/**\n * Clone this request.\n *\n * Each request can only be sent *once*. So if you'd like to send the\n * same request again, clone it and send away.\n *\n * @returns {MapiRequest} - A new `MapiRequest` configured just like this one.\n */\nMapiRequest.prototype.clone = function clone() {\n  return this._extend();\n};\n\n/**\n * @ignore\n */\nMapiRequest.prototype._extend = function _extend(options) {\n  var extendedOptions = xtend(this._options, options);\n  return new MapiRequest(this.client, extendedOptions);\n};\n\nmodule.exports = MapiRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9jbGFzc2VzL21hcGktcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixpQkFBaUIsbUJBQU8sQ0FBQyw0RkFBNEI7QUFDckQsWUFBWSxtQkFBTyxDQUFDLHNEQUFPO0FBQzNCLG1CQUFtQixtQkFBTyxDQUFDLGtFQUFlO0FBQzFDLGVBQWUsbUJBQU8sQ0FBQyw4RkFBc0I7QUFDN0MsZ0JBQWdCLG1CQUFPLENBQUMsOEVBQWM7O0FBRXRDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QixjQUFjLFlBQVk7QUFDMUIsY0FBYyxtQkFBbUI7QUFDakM7QUFDQSxjQUFjLHNCQUFzQjtBQUNwQztBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QjtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLG9CQUFvQjtBQUNsQztBQUNBO0FBQ0EsY0FBYyxvQ0FBb0M7QUFDbEQ7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSxpQkFBaUI7QUFDcEMsV0FBVyxRQUFRLGtCQUFrQjtBQUNyQyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLG9DQUFvQztBQUMvQyxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZCQUE2QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUM7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9saWIvY2xhc3Nlcy9tYXBpLXJlcXVlc3QuanM/Yzc3MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBwYXJzZVRva2VuID0gcmVxdWlyZSgnQG1hcGJveC9wYXJzZS1tYXBib3gtdG9rZW4nKTtcbnZhciB4dGVuZCA9IHJlcXVpcmUoJ3h0ZW5kJyk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xudmFyIHVybFV0aWxzID0gcmVxdWlyZSgnLi4vaGVscGVycy91cmwtdXRpbHMnKTtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxudmFyIHJlcXVlc3RJZCA9IDE7XG5cbi8qKlxuICogQSBNYXBib3ggQVBJIHJlcXVlc3QuXG4gKlxuICogTm90ZSB0aGF0IGNyZWF0aW5nIGEgYE1hcGlSZXF1ZXN0YCBkb2VzICpub3QqIHNlbmQgdGhlIHJlcXVlc3QgYXV0b21hdGljYWxseS5cbiAqIFVzZSB0aGUgcmVxdWVzdCdzIGBzZW5kYCBtZXRob2QgdG8gc2VuZCBpdCBvZmYgYW5kIGdldCBhIGBQcm9taXNlYC5cbiAqXG4gKiBUaGUgYGVtaXR0ZXJgIHByb3BlcnR5IGlzIGFuIGBFdmVudEVtaXR0ZXJgIHRoYXQgZW1pdHMgdGhlIGZvbGxvd2luZyBldmVudHM6XG4gKlxuICogLSBgJ3Jlc3BvbnNlJ2AgLSBMaXN0ZW5lcnMgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIGBNYXBpUmVzcG9uc2VgLlxuICogLSBgJ2Vycm9yJ2AgLSBMaXN0ZW5lcnMgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIGBNYXBpRXJyb3JgLlxuICogLSBgJ2Rvd25sb2FkUHJvZ3Jlc3MnYCAtIExpc3RlbmVycyB3aWxsIGJlIGNhbGxlZCB3aXRoIGBQcm9ncmVzc0V2ZW50c2AuXG4gKiAtIGAndXBsb2FkUHJvZ3Jlc3MnYCAtIExpc3RlbmVycyB3aWxsIGJlIGNhbGxlZCB3aXRoIGBQcm9ncmVzc0V2ZW50c2AuXG4gKiAgIFVwbG9hZCBldmVudHMgYXJlIG9ubHkgYXZhaWxhYmxlIHdoZW4gdGhlIHJlcXVlc3QgaW5jbHVkZXMgYSBmaWxlLlxuICpcbiAqIEBjbGFzcyBNYXBpUmVxdWVzdFxuICogQHByb3BlcnR5IHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgLSBBbiBldmVudCBlbWl0dGVyLiBTZWUgYWJvdmUuXG4gKiBAcHJvcGVydHkge01hcGlDbGllbnR9IGNsaWVudCAtIFRoaXMgcmVxdWVzdCdzIGBNYXBpQ2xpZW50YC5cbiAqIEBwcm9wZXJ0eSB7TWFwaVJlc3BvbnNlfG51bGx9IHJlc3BvbnNlIC0gSWYgdGhpcyByZXF1ZXN0IGhhcyBiZWVuIHNlbnQgYW5kIHJlY2VpdmVkXG4gKiAgIGEgcmVzcG9uc2UsIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGUgb24gdGhpcyBwcm9wZXJ0eS5cbiAqIEBwcm9wZXJ0eSB7TWFwaUVycm9yfEVycm9yfG51bGx9IGVycm9yIC0gSWYgdGhpcyByZXF1ZXN0IGhhcyBiZWVuIHNlbnQgYW5kXG4gKiAgIHJlY2VpdmVkIGFuIGVycm9yIGluIHJlc3BvbnNlLCB0aGUgZXJyb3IgaXMgYXZhaWxhYmxlIG9uIHRoaXMgcHJvcGVydHkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFib3J0ZWQgLSBJZiB0aGUgcmVxdWVzdCBoYXMgYmVlbiBhYm9ydGVkXG4gKiAgICh2aWEgW2BhYm9ydGBdKCNhYm9ydCkpLCB0aGlzIHByb3BlcnR5IHdpbGwgYmUgYHRydWVgLlxuICogQHByb3BlcnR5IHtib29sZWFufSBzZW50IC0gSWYgdGhlIHJlcXVlc3QgaGFzIGJlZW4gc2VudCwgdGhpcyBwcm9wZXJ0eSB3aWxsXG4gKiAgIGJlIGB0cnVlYC4gWW91IGNhbm5vdCBzZW5kIHRoZSBzYW1lIHJlcXVlc3QgdHdpY2UsIHNvIGlmIHlvdSBuZWVkIHRvIGNyZWF0ZVxuICogICBhIG5ldyByZXF1ZXN0IHRoYXQgaXMgdGhlIGVxdWl2YWxlbnQgb2YgYW4gZXhpc3Rpbmcgb25lLCB1c2VcbiAqICAgW2BjbG9uZWBdKCNjbG9uZSkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcGF0aCAtIFRoZSByZXF1ZXN0J3MgcGF0aCwgaW5jbHVkaW5nIGNvbG9uLXByZWZpeGVkIHJvdXRlXG4gKiAgIHBhcmFtZXRlcnMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gb3JpZ2luIC0gVGhlIHJlcXVlc3QncyBvcmlnaW4uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWV0aG9kIC0gVGhlIHJlcXVlc3QncyBIVFRQIG1ldGhvZC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBxdWVyeSAtIEEgcXVlcnkgb2JqZWN0LCB3aGljaCB3aWxsIGJlIHRyYW5zZm9ybWVkIGludG9cbiAqICAgYSBVUkwgcXVlcnkgc3RyaW5nLlxuICogQHByb3BlcnR5IHtPYmplY3R9IHBhcmFtcyAtIEEgcm91dGUgcGFyYW1ldGVycyBvYmplY3QsIHdob3NlIHZhbHVlcyB3aWxsXG4gKiAgIGJlIGludGVycG9sYXRlZCB0aGUgcGF0aC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBoZWFkZXJzIC0gVGhlIHJlcXVlc3QncyBoZWFkZXJzLlxuICogQHByb3BlcnR5IHtPYmplY3R8c3RyaW5nfG51bGx9IGJvZHkgLSBEYXRhIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cbiAqICAgSWYgdGhlIHJlcXVlc3QgaGFzIGEgYm9keSwgaXQgd2lsbCBhbHNvIGJlIHNlbnQgd2l0aCB0aGUgaGVhZGVyXG4gKiAgIGAnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uJ2AuXG4gKiBAcHJvcGVydHkge0Jsb2J8QXJyYXlCdWZmZXJ8c3RyaW5nfFJlYWRTdHJlYW19IGZpbGUgLSBBIGZpbGUgdG9cbiAqICAgc2VuZCB3aXRoIHRoZSByZXF1ZXN0LiBUaGUgYnJvd3NlciBjbGllbnQgYWNjZXB0cyBCbG9icyBhbmQgQXJyYXlCdWZmZXJzO1xuICogICB0aGUgTm9kZSBjbGllbnQgYWNjZXB0cyBzdHJpbmdzIChmaWxlcGF0aHMpIGFuZCBSZWFkU3RyZWFtcy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBlbmNvZGluZyAtIFRoZSBlbmNvZGluZyBvZiB0aGUgcmVzcG9uc2UuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2VuZEZpbGVBcyAtIFRoZSBtZXRob2QgdG8gc2VuZCB0aGUgYGZpbGVgLiBPcHRpb25zIGFyZVxuICogICBgZGF0YWAgKHgtd3d3LWZvcm0tdXJsZW5jb2RlZCkgb3IgYGZvcm1gIChtdWx0aXBhcnQvZm9ybS1kYXRhKS5cbiAqL1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7TWFwaUNsaWVudH0gY2xpZW50XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubWV0aG9kXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5wYXRoXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucXVlcnk9e31dXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucGFyYW1zPXt9XVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm9yaWdpbl1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmJvZHk9bnVsbF1cbiAqIEBwYXJhbSB7QmxvYnxBcnJheUJ1ZmZlcnxzdHJpbmd8UmVhZFN0cmVhbX0gW29wdGlvbnMuZmlsZT1udWxsXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmVuY29kaW5nPXV0ZjhdXG4gKi9cbmZ1bmN0aW9uIE1hcGlSZXF1ZXN0KGNsaWVudCwgb3B0aW9ucykge1xuICBpZiAoIWNsaWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTWFwaVJlcXVlc3QgcmVxdWlyZXMgYSBjbGllbnQnKTtcbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGF0aCB8fCAhb3B0aW9ucy5tZXRob2QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnTWFwaVJlcXVlc3QgcmVxdWlyZXMgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBwYXRoIGFuZCBtZXRob2QgcHJvcGVydGllcydcbiAgICApO1xuICB9XG5cbiAgdmFyIGRlZmF1bHRIZWFkZXJzID0ge307XG4gIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICBkZWZhdWx0SGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gIH1cblxuICB2YXIgaGVhZGVyc1dpdGhEZWZhdWx0cyA9IHh0ZW5kKGRlZmF1bHRIZWFkZXJzLCBvcHRpb25zLmhlYWRlcnMpO1xuXG4gIC8vIERpc2FsbG93cyBkdXBsaWNhdGUgaGVhZGVyIG5hbWVzIG9mIG1peGVkIGNhc2UsXG4gIC8vIGUuZy4gQ29udGVudC1UeXBlIGFuZCBjb250ZW50LXR5cGUuXG4gIHZhciBoZWFkZXJzID0gT2JqZWN0LmtleXMoaGVhZGVyc1dpdGhEZWZhdWx0cykucmVkdWNlKGZ1bmN0aW9uKG1lbW8sIG5hbWUpIHtcbiAgICBtZW1vW25hbWUudG9Mb3dlckNhc2UoKV0gPSBoZWFkZXJzV2l0aERlZmF1bHRzW25hbWVdO1xuICAgIHJldHVybiBtZW1vO1xuICB9LCB7fSk7XG5cbiAgdGhpcy5pZCA9IHJlcXVlc3RJZCsrO1xuICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuICB0aGlzLmVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICB0aGlzLnJlc3BvbnNlID0gbnVsbDtcbiAgdGhpcy5lcnJvciA9IG51bGw7XG4gIHRoaXMuc2VudCA9IGZhbHNlO1xuICB0aGlzLmFib3J0ZWQgPSBmYWxzZTtcbiAgdGhpcy5wYXRoID0gb3B0aW9ucy5wYXRoO1xuICB0aGlzLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kO1xuICB0aGlzLm9yaWdpbiA9IG9wdGlvbnMub3JpZ2luIHx8IGNsaWVudC5vcmlnaW47XG4gIHRoaXMucXVlcnkgPSBvcHRpb25zLnF1ZXJ5IHx8IHt9O1xuICB0aGlzLnBhcmFtcyA9IG9wdGlvbnMucGFyYW1zIHx8IHt9O1xuICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHkgfHwgbnVsbDtcbiAgdGhpcy5maWxlID0gb3B0aW9ucy5maWxlIHx8IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nIHx8ICd1dGY4JztcbiAgdGhpcy5zZW5kRmlsZUFzID0gb3B0aW9ucy5zZW5kRmlsZUFzIHx8IG51bGw7XG4gIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG59XG5cbi8qKlxuICogR2V0IHRoZSBVUkwgb2YgdGhlIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFthY2Nlc3NUb2tlbl0gLSBCeSBkZWZhdWx0LCB0aGUgYWNjZXNzIHRva2VuIG9mIHRoZSByZXF1ZXN0J3NcbiAqICAgY2xpZW50IGlzIHVzZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbk1hcGlSZXF1ZXN0LnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbiB1cmwoYWNjZXNzVG9rZW4pIHtcbiAgdmFyIHVybCA9IHVybFV0aWxzLnByZXBlbmRPcmlnaW4odGhpcy5wYXRoLCB0aGlzLm9yaWdpbik7XG4gIHVybCA9IHVybFV0aWxzLmFwcGVuZFF1ZXJ5T2JqZWN0KHVybCwgdGhpcy5xdWVyeSk7XG4gIHZhciByb3V0ZVBhcmFtcyA9IHRoaXMucGFyYW1zO1xuICB2YXIgYWN0dWFsQWNjZXNzVG9rZW4gPVxuICAgIGFjY2Vzc1Rva2VuID09IG51bGwgPyB0aGlzLmNsaWVudC5hY2Nlc3NUb2tlbiA6IGFjY2Vzc1Rva2VuO1xuICBpZiAoYWN0dWFsQWNjZXNzVG9rZW4pIHtcbiAgICB1cmwgPSB1cmxVdGlscy5hcHBlbmRRdWVyeVBhcmFtKHVybCwgJ2FjY2Vzc190b2tlbicsIGFjdHVhbEFjY2Vzc1Rva2VuKTtcbiAgICB2YXIgYWNjZXNzVG9rZW5Pd25lcklkID0gcGFyc2VUb2tlbihhY3R1YWxBY2Nlc3NUb2tlbikudXNlcjtcbiAgICByb3V0ZVBhcmFtcyA9IHh0ZW5kKHsgb3duZXJJZDogYWNjZXNzVG9rZW5Pd25lcklkIH0sIHJvdXRlUGFyYW1zKTtcbiAgfVxuICB1cmwgPSB1cmxVdGlscy5pbnRlcnBvbGF0ZVJvdXRlUGFyYW1zKHVybCwgcm91dGVQYXJhbXMpO1xuICByZXR1cm4gdXJsO1xufTtcblxuLyoqXG4gKiBTZW5kIHRoZSByZXF1ZXN0LiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBgTWFwaVJlc3BvbnNlYC5cbiAqIFlvdSBwcm9iYWJseSB3YW50IHRvIHVzZSBgcmVzcG9uc2UuYm9keWAuXG4gKlxuICogYHNlbmRgIG9ubHkgcmV0cmlldmVzIHRoZSBmaXJzdCBwYWdlIG9mIHBhZ2luYXRlZCByZXN1bHRzLiBZb3UgY2FuIGdldFxuICogdGhlIG5leHQgcGFnZSBieSB1c2luZyB0aGUgYE1hcGlSZXNwb25zZWAncyBbYG5leHRQYWdlYF0oI25leHRwYWdlKVxuICogZnVuY3Rpb24sIG9yIGl0ZXJhdGUgdGhyb3VnaCBhbGwgcGFnZXMgdXNpbmcgW2BlYWNoUGFnZWBdKCNlYWNocGFnZSlcbiAqIGluc3RlYWQgb2YgYHNlbmRgLlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlPE1hcGlSZXNwb25zZT59XG4gKi9cbk1hcGlSZXF1ZXN0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gc2VuZCgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChzZWxmLnNlbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnVGhpcyByZXF1ZXN0IGhhcyBhbHJlYWR5IGJlZW4gc2VudC4gQ2hlY2sgdGhlIHJlc3BvbnNlIGFuZCBlcnJvciBwcm9wZXJ0aWVzLiBDcmVhdGUgYSBuZXcgcmVxdWVzdCB3aXRoIGNsb25lKCkuJ1xuICAgICk7XG4gIH1cbiAgc2VsZi5zZW50ID0gdHJ1ZTtcblxuICByZXR1cm4gc2VsZi5jbGllbnQuc2VuZFJlcXVlc3Qoc2VsZikudGhlbihcbiAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgc2VsZi5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgc2VsZi5lbWl0dGVyLmVtaXQoY29uc3RhbnRzLkVWRU5UX1JFU1BPTlNFLCByZXNwb25zZSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSxcbiAgICBmdW5jdGlvbihlcnJvcikge1xuICAgICAgc2VsZi5lcnJvciA9IGVycm9yO1xuICAgICAgc2VsZi5lbWl0dGVyLmVtaXQoY29uc3RhbnRzLkVWRU5UX0VSUk9SLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICk7XG59O1xuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0LlxuICpcbiAqIEFueSBwZW5kaW5nIGBQcm9taXNlYCByZXR1cm5lZCBieSBbYHNlbmRgXSgjc2VuZCkgd2lsbCBiZSByZWplY3RlZCB3aXRoXG4gKiBhbiBlcnJvciB3aXRoIGB0eXBlOiAnUmVxdWVzdEFib3J0ZWRFcnJvcidgLiBJZiB5b3UndmUgY3JlYXRlZCBhIHJlcXVlc3RcbiAqIHRoYXQgbWlnaHQgYmUgYWJvcnRlZCwgeW91IG5lZWQgdG8gY2F0Y2ggYW5kIGhhbmRsZSBzdWNoIGVycm9ycy5cbiAqXG4gKiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gYWJvcnQgYW55IHJlcXVlc3RzIGNyZWF0ZWQgd2hpbGUgZmV0Y2hpbmcgc3Vic2VxdWVudFxuICogcGFnZXMgdmlhIFtgZWFjaFBhZ2VgXSgjZWFjaHBhZ2UpLlxuICpcbiAqIElmIHRoZSByZXF1ZXN0IGhhcyBub3QgYmVlbiBzZW50IG9yIGhhcyBhbHJlYWR5IGJlZW4gYWJvcnRlZCwgbm90aGluZ1xuICogd2lsbCBoYXBwZW4uXG4gKi9cbk1hcGlSZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xuICBpZiAodGhpcy5fbmV4dFBhZ2VSZXF1ZXN0KSB7XG4gICAgdGhpcy5fbmV4dFBhZ2VSZXF1ZXN0LmFib3J0KCk7XG4gICAgZGVsZXRlIHRoaXMuX25leHRQYWdlUmVxdWVzdDtcbiAgfVxuXG4gIGlmICh0aGlzLnJlc3BvbnNlIHx8IHRoaXMuZXJyb3IgfHwgdGhpcy5hYm9ydGVkKSByZXR1cm47XG5cbiAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgdGhpcy5jbGllbnQuYWJvcnRSZXF1ZXN0KHRoaXMpO1xufTtcblxuLyoqXG4gKiBJbnZva2UgYSBjYWxsYmFjayBmb3IgZWFjaCBwYWdlIG9mIGEgcGFnaW5hdGVkIEFQSSByZXNwb25zZS5cbiAqXG4gKiBUaGUgY2FsbGJhY2sgc2hvdWxkIGhhdmUgdGhlIGZvbGxvd2luZyBzaWduYXR1cmU6XG4gKlxuICogYGBganNcbiAqIChcbiAqICAgZXJyb3I6IE1hcGlFcnJvcixcbiAqICAgcmVzcG9uc2U6IE1hcGlSZXNwb25zZSxcbiAqICAgbmV4dDogKCkgPT4gdm9pZFxuICogKSA9PiB2b2lkXG4gKiBgYGBcbiAqXG4gKiAqKlRoZSBuZXh0IHBhZ2Ugd2lsbCBub3QgYmUgZmV0Y2hlZCB1bnRpbCB5b3UndmUgaW52b2tlZCB0aGVcbiAqIGBuZXh0YCBjYWxsYmFjayoqLCBpbmRpY2F0aW5nIHRoYXQgeW91J3JlIHJlYWR5IGZvciBpdC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5NYXBpUmVxdWVzdC5wcm90b3R5cGUuZWFjaFBhZ2UgPSBmdW5jdGlvbiBlYWNoUGFnZShjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICBmdW5jdGlvbiBnZXROZXh0UGFnZSgpIHtcbiAgICAgIGRlbGV0ZSBzZWxmLl9uZXh0UGFnZVJlcXVlc3Q7XG4gICAgICB2YXIgbmV4dFBhZ2VSZXF1ZXN0ID0gcmVzcG9uc2UubmV4dFBhZ2UoKTtcbiAgICAgIGlmIChuZXh0UGFnZVJlcXVlc3QpIHtcbiAgICAgICAgc2VsZi5fbmV4dFBhZ2VSZXF1ZXN0ID0gbmV4dFBhZ2VSZXF1ZXN0O1xuICAgICAgICBnZXRQYWdlKG5leHRQYWdlUmVxdWVzdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlLCBnZXROZXh0UGFnZSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnJvcikge1xuICAgIGNhbGxiYWNrKGVycm9yLCBudWxsLCBmdW5jdGlvbigpIHt9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBhZ2UocmVxdWVzdCkge1xuICAgIHJlcXVlc3Quc2VuZCgpLnRoZW4oaGFuZGxlUmVzcG9uc2UsIGhhbmRsZUVycm9yKTtcbiAgfVxuICBnZXRQYWdlKHRoaXMpO1xufTtcblxuLyoqXG4gKiBDbG9uZSB0aGlzIHJlcXVlc3QuXG4gKlxuICogRWFjaCByZXF1ZXN0IGNhbiBvbmx5IGJlIHNlbnQgKm9uY2UqLiBTbyBpZiB5b3UnZCBsaWtlIHRvIHNlbmQgdGhlXG4gKiBzYW1lIHJlcXVlc3QgYWdhaW4sIGNsb25lIGl0IGFuZCBzZW5kIGF3YXkuXG4gKlxuICogQHJldHVybnMge01hcGlSZXF1ZXN0fSAtIEEgbmV3IGBNYXBpUmVxdWVzdGAgY29uZmlndXJlZCBqdXN0IGxpa2UgdGhpcyBvbmUuXG4gKi9cbk1hcGlSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICByZXR1cm4gdGhpcy5fZXh0ZW5kKCk7XG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuTWFwaVJlcXVlc3QucHJvdG90eXBlLl9leHRlbmQgPSBmdW5jdGlvbiBfZXh0ZW5kKG9wdGlvbnMpIHtcbiAgdmFyIGV4dGVuZGVkT3B0aW9ucyA9IHh0ZW5kKHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xuICByZXR1cm4gbmV3IE1hcGlSZXF1ZXN0KHRoaXMuY2xpZW50LCBleHRlbmRlZE9wdGlvbnMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXBpUmVxdWVzdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-request.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-response.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-response.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar parseLinkHeader = __webpack_require__(/*! ../helpers/parse-link-header */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js\");\n\n/**\n * A Mapbox API response.\n *\n * @class MapiResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {MapiRequest} request - The response's originating `MapiRequest`.\n */\n\n/**\n * @ignore\n * @param {MapiRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\nfunction MapiResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n  this.links = parseLinkHeader(this.headers.link);\n}\n\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\nMapiResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {MapiRequest | null}\n */\nMapiResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = MapiResponse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9jbGFzc2VzL21hcGktcmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLG1CQUFPLENBQUMsOEdBQThCOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxhQUFhO0FBQzNCOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25ELElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9jbGFzc2VzL21hcGktcmVzcG9uc2UuanM/NWIxZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBwYXJzZUxpbmtIZWFkZXIgPSByZXF1aXJlKCcuLi9oZWxwZXJzL3BhcnNlLWxpbmstaGVhZGVyJyk7XG5cbi8qKlxuICogQSBNYXBib3ggQVBJIHJlc3BvbnNlLlxuICpcbiAqIEBjbGFzcyBNYXBpUmVzcG9uc2VcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBib2R5IC0gVGhlIHJlc3BvbnNlIGJvZHksIHBhcnNlZCBhcyBKU09OLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJhd0JvZHkgLSBUaGUgcmF3IHJlc3BvbnNlIGJvZHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhdHVzQ29kZSAtIFRoZSByZXNwb25zZSdzIHN0YXR1cyBjb2RlLlxuICogQHByb3BlcnR5IHtPYmplY3R9IGhlYWRlcnMgLSBUaGUgcGFyc2VkIHJlc3BvbnNlIGhlYWRlcnMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gbGlua3MgLSBUaGUgcGFyc2VkIHJlc3BvbnNlIGxpbmtzLlxuICogQHByb3BlcnR5IHtNYXBpUmVxdWVzdH0gcmVxdWVzdCAtIFRoZSByZXNwb25zZSdzIG9yaWdpbmF0aW5nIGBNYXBpUmVxdWVzdGAuXG4gKi9cblxuLyoqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge01hcGlSZXF1ZXN0fSByZXF1ZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VEYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VEYXRhLmhlYWRlcnNcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNwb25zZURhdGEuYm9keVxuICogQHBhcmFtIHtudW1iZXJ9IHJlc3BvbnNlRGF0YS5zdGF0dXNDb2RlXG4gKi9cbmZ1bmN0aW9uIE1hcGlSZXNwb25zZShyZXF1ZXN0LCByZXNwb25zZURhdGEpIHtcbiAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgdGhpcy5oZWFkZXJzID0gcmVzcG9uc2VEYXRhLmhlYWRlcnM7XG4gIHRoaXMucmF3Qm9keSA9IHJlc3BvbnNlRGF0YS5ib2R5O1xuICB0aGlzLnN0YXR1c0NvZGUgPSByZXNwb25zZURhdGEuc3RhdHVzQ29kZTtcbiAgdHJ5IHtcbiAgICB0aGlzLmJvZHkgPSBKU09OLnBhcnNlKHJlc3BvbnNlRGF0YS5ib2R5IHx8ICd7fScpO1xuICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgdGhpcy5ib2R5ID0gcmVzcG9uc2VEYXRhLmJvZHk7XG4gIH1cbiAgdGhpcy5saW5rcyA9IHBhcnNlTGlua0hlYWRlcih0aGlzLmhlYWRlcnMubGluayk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlcmUgaXMgYSBuZXh0IHBhZ2UgdGhhdCB5b3UgY2FuIGZldGNoLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5NYXBpUmVzcG9uc2UucHJvdG90eXBlLmhhc05leHRQYWdlID0gZnVuY3Rpb24gaGFzTmV4dFBhZ2UoKSB7XG4gIHJldHVybiAhIXRoaXMubGlua3MubmV4dDtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgcmVxdWVzdCBmb3IgdGhlIG5leHQgcGFnZSwgaWYgdGhlcmUgaXMgb25lLlxuICogSWYgdGhlcmUgaXMgbm8gbmV4dCBwYWdlLCByZXR1cm5zIGBudWxsYC5cbiAqXG4gKiBAcmV0dXJucyB7TWFwaVJlcXVlc3QgfCBudWxsfVxuICovXG5NYXBpUmVzcG9uc2UucHJvdG90eXBlLm5leHRQYWdlID0gZnVuY3Rpb24gbmV4dFBhZ2UoKSB7XG4gIGlmICghdGhpcy5oYXNOZXh0UGFnZSgpKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIHRoaXMucmVxdWVzdC5fZXh0ZW5kKHtcbiAgICBwYXRoOiB0aGlzLmxpbmtzLm5leHQudXJsXG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXBpUmVzcG9uc2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-response.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/client.js":
/*!*******************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/client.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n// The \"browser\" field in \"package.json\" instructs browser\n// bundlers to override this an load browser/browser-client, instead.\nvar nodeClient = __webpack_require__(/*! ./node/node-client */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/node/node-client.js\");\n\nmodule.exports = nodeClient;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9jbGllbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBLGlCQUFpQixtQkFBTyxDQUFDLDJGQUFvQjs7QUFFN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9saWIvY2xpZW50LmpzPzE1OGIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLyBUaGUgXCJicm93c2VyXCIgZmllbGQgaW4gXCJwYWNrYWdlLmpzb25cIiBpbnN0cnVjdHMgYnJvd3NlclxuLy8gYnVuZGxlcnMgdG8gb3ZlcnJpZGUgdGhpcyBhbiBsb2FkIGJyb3dzZXIvYnJvd3Nlci1jbGllbnQsIGluc3RlYWQuXG52YXIgbm9kZUNsaWVudCA9IHJlcXVpcmUoJy4vbm9kZS9ub2RlLWNsaWVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5vZGVDbGllbnQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/constants.js":
/*!**********************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/constants.js ***!
  \**********************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = {\n  API_ORIGIN: 'https://api.mapbox.com',\n  EVENT_PROGRESS_DOWNLOAD: 'downloadProgress',\n  EVENT_PROGRESS_UPLOAD: 'uploadProgress',\n  EVENT_ERROR: 'error',\n  EVENT_RESPONSE: 'response',\n  ERROR_HTTP: 'HttpError',\n  ERROR_REQUEST_ABORTED: 'RequestAbortedError'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1zZGsvbGliL2NvbnN0YW50cy5qcz8zYjlkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEFQSV9PUklHSU46ICdodHRwczovL2FwaS5tYXBib3guY29tJyxcbiAgRVZFTlRfUFJPR1JFU1NfRE9XTkxPQUQ6ICdkb3dubG9hZFByb2dyZXNzJyxcbiAgRVZFTlRfUFJPR1JFU1NfVVBMT0FEOiAndXBsb2FkUHJvZ3Jlc3MnLFxuICBFVkVOVF9FUlJPUjogJ2Vycm9yJyxcbiAgRVZFTlRfUkVTUE9OU0U6ICdyZXNwb25zZScsXG4gIEVSUk9SX0hUVFA6ICdIdHRwRXJyb3InLFxuICBFUlJPUl9SRVFVRVNUX0FCT1JURUQ6ICdSZXF1ZXN0QWJvcnRlZEVycm9yJ1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n// Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function(result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n      return result;\n    }\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n\n  return linkHeader.split(/,\\s*</).reduce(function(result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result;\n    // rel value can be multiple whitespace-separated rels.\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function(rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9oZWxwZXJzL3BhcnNlLWxpbmstaGVhZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9saWIvaGVscGVycy9wYXJzZS1saW5rLWhlYWRlci5qcz8xZDFkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gTGlrZSBodHRwczovL2dpdGh1Yi5jb20vdGhsb3JlbnovbGliL3BhcnNlLWxpbmstaGVhZGVyIGJ1dCB3aXRob3V0IGFueVxuLy8gYWRkaXRpb25hbCBkZXBlbmRlbmNpZXMuXG5cbmZ1bmN0aW9uIHBhcnNlUGFyYW0ocGFyYW0pIHtcbiAgdmFyIHBhcnRzID0gcGFyYW0ubWF0Y2goL1xccyooLispXFxzKj1cXHMqXCI/KFteXCJdKylcIj8vKTtcbiAgaWYgKCFwYXJ0cykgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICBrZXk6IHBhcnRzWzFdLFxuICAgIHZhbHVlOiBwYXJ0c1syXVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZUxpbmsobGluaykge1xuICB2YXIgcGFydHMgPSBsaW5rLm1hdGNoKC88PyhbXj5dKik+KC4qKS8pO1xuICBpZiAoIXBhcnRzKSByZXR1cm4gbnVsbDtcblxuICB2YXIgbGlua1VybCA9IHBhcnRzWzFdO1xuICB2YXIgbGlua1BhcmFtcyA9IHBhcnRzWzJdLnNwbGl0KCc7Jyk7XG4gIHZhciByZWwgPSBudWxsO1xuICB2YXIgcGFyc2VkTGlua1BhcmFtcyA9IGxpbmtQYXJhbXMucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgcGFyYW0pIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VQYXJhbShwYXJhbSk7XG4gICAgaWYgKCFwYXJzZWQpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKHBhcnNlZC5rZXkgPT09ICdyZWwnKSB7XG4gICAgICBpZiAoIXJlbCkge1xuICAgICAgICByZWwgPSBwYXJzZWQudmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXN1bHRbcGFyc2VkLmtleV0gPSBwYXJzZWQudmFsdWU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xuICBpZiAoIXJlbCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICB1cmw6IGxpbmtVcmwsXG4gICAgcmVsOiByZWwsXG4gICAgcGFyYW1zOiBwYXJzZWRMaW5rUGFyYW1zXG4gIH07XG59XG5cbi8qKlxuICogUGFyc2UgYSBMaW5rIGhlYWRlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbGlua0hlYWRlclxuICogQHJldHVybnMge3tcbiAqICAgW3N0cmluZ106IHtcbiAqICAgICB1cmw6IHN0cmluZyxcbiAqICAgICBwYXJhbXM6IHsgW3N0cmluZ106IHN0cmluZyB9XG4gKiAgIH1cbiAqIH19XG4gKi9cbmZ1bmN0aW9uIHBhcnNlTGlua0hlYWRlcihsaW5rSGVhZGVyKSB7XG4gIGlmICghbGlua0hlYWRlcikgcmV0dXJuIHt9O1xuXG4gIHJldHVybiBsaW5rSGVhZGVyLnNwbGl0KC8sXFxzKjwvKS5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0LCBsaW5rKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlTGluayhsaW5rKTtcbiAgICBpZiAoIXBhcnNlZCkgcmV0dXJuIHJlc3VsdDtcbiAgICAvLyByZWwgdmFsdWUgY2FuIGJlIG11bHRpcGxlIHdoaXRlc3BhY2Utc2VwYXJhdGVkIHJlbHMuXG4gICAgdmFyIHNwbGl0UmVsID0gcGFyc2VkLnJlbC5zcGxpdCgvXFxzKy8pO1xuICAgIHNwbGl0UmVsLmZvckVhY2goZnVuY3Rpb24ocmVsKSB7XG4gICAgICBpZiAoIXJlc3VsdFtyZWxdKSB7XG4gICAgICAgIHJlc3VsdFtyZWxdID0ge1xuICAgICAgICAgIHVybDogcGFyc2VkLnVybCxcbiAgICAgICAgICBwYXJhbXM6IHBhcnNlZC5wYXJhbXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VMaW5rSGVhZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/helpers/url-utils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/helpers/url-utils.js ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n// Encode each item of an array individually. The comma\n// delimiters should not themselves be encoded.\nfunction encodeArray(arrayValue) {\n  return arrayValue.map(encodeURIComponent).join(',');\n}\n\nfunction encodeValue(value) {\n  if (Array.isArray(value)) {\n    return encodeArray(value);\n  }\n  return encodeURIComponent(String(value));\n}\n\n/**\n * Append a query parameter to a URL.\n *\n * @param {string} url\n * @param {string} key\n * @param {string|number|boolean|Array<*>>} [value] - Provide an array\n *   if the value is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryParam(url, key, value) {\n  if (value === false || value === null) {\n    return url;\n  }\n  var punctuation = /\\?/.test(url) ? '&' : '?';\n  var query = encodeURIComponent(key);\n  if (value !== undefined && value !== '' && value !== true) {\n    query += '=' + encodeValue(value);\n  }\n  return '' + url + punctuation + query;\n}\n\n/**\n * Derive a query string from an object and append it\n * to a URL.\n *\n * @param {string} url\n * @param {Object} [queryObject] - Values should be primitives.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryObject(url, queryObject) {\n  if (!queryObject) {\n    return url;\n  }\n\n  var result = url;\n  Object.keys(queryObject).forEach(function(key) {\n    var value = queryObject[key];\n    if (value === undefined) {\n      return;\n    }\n    if (Array.isArray(value)) {\n      value = value\n        .filter(function(v) {\n          return v !== null && v !== undefined;\n        })\n        .join(',');\n    }\n    result = appendQueryParam(result, key, value);\n  });\n  return result;\n}\n\n/**\n * Prepend an origin to a URL. If the URL already has an\n * origin, do nothing.\n *\n * @param {string} url\n * @param {string} origin\n * @returns {string} - Modified URL.\n */\nfunction prependOrigin(url, origin) {\n  if (!origin) {\n    return url;\n  }\n\n  if (url.slice(0, 4) === 'http') {\n    return url;\n  }\n\n  var delimiter = url[0] === '/' ? '' : '/';\n  return '' + origin.replace(/\\/$/, '') + delimiter + url;\n}\n\n/**\n * Interpolate values into a route with express-style,\n * colon-prefixed route parameters.\n *\n * @param {string} route\n * @param {Object} [params] - Values should be primitives\n *   or arrays of primitives. Provide an array if the value\n *   is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction interpolateRouteParams(route, params) {\n  if (!params) {\n    return route;\n  }\n  return route.replace(/\\/:([a-zA-Z0-9]+)/g, function(_, paramId) {\n    var value = params[paramId];\n    if (value === undefined) {\n      throw new Error('Unspecified route parameter ' + paramId);\n    }\n    var preppedValue = encodeValue(value);\n    return '/' + preppedValue;\n  });\n}\n\nmodule.exports = {\n  appendQueryObject: appendQueryObject,\n  appendQueryParam: appendQueryParam,\n  prependOrigin: prependOrigin,\n  interpolateRouteParams: interpolateRouteParams\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9oZWxwZXJzL3VybC11dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaUNBQWlDO0FBQzVDO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9saWIvaGVscGVycy91cmwtdXRpbHMuanM/MDQ2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIEVuY29kZSBlYWNoIGl0ZW0gb2YgYW4gYXJyYXkgaW5kaXZpZHVhbGx5LiBUaGUgY29tbWFcbi8vIGRlbGltaXRlcnMgc2hvdWxkIG5vdCB0aGVtc2VsdmVzIGJlIGVuY29kZWQuXG5mdW5jdGlvbiBlbmNvZGVBcnJheShhcnJheVZhbHVlKSB7XG4gIHJldHVybiBhcnJheVZhbHVlLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oJywnKTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlVmFsdWUodmFsdWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGVuY29kZUFycmF5KHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIEFwcGVuZCBhIHF1ZXJ5IHBhcmFtZXRlciB0byBhIFVSTC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ8Ym9vbGVhbnxBcnJheTwqPj59IFt2YWx1ZV0gLSBQcm92aWRlIGFuIGFycmF5XG4gKiAgIGlmIHRoZSB2YWx1ZSBpcyBhIGxpc3QgYW5kIGNvbW1hcyBiZXR3ZWVuIHZhbHVlcyBuZWVkIHRvIGJlXG4gKiAgIHByZXNlcnZlZCwgdW5lbmNvZGVkLlxuICogQHJldHVybnMge3N0cmluZ30gLSBNb2RpZmllZCBVUkwuXG4gKi9cbmZ1bmN0aW9uIGFwcGVuZFF1ZXJ5UGFyYW0odXJsLCBrZXksIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIHZhciBwdW5jdHVhdGlvbiA9IC9cXD8vLnRlc3QodXJsKSA/ICcmJyA6ICc/JztcbiAgdmFyIHF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSk7XG4gIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSAnJyAmJiB2YWx1ZSAhPT0gdHJ1ZSkge1xuICAgIHF1ZXJ5ICs9ICc9JyArIGVuY29kZVZhbHVlKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gJycgKyB1cmwgKyBwdW5jdHVhdGlvbiArIHF1ZXJ5O1xufVxuXG4vKipcbiAqIERlcml2ZSBhIHF1ZXJ5IHN0cmluZyBmcm9tIGFuIG9iamVjdCBhbmQgYXBwZW5kIGl0XG4gKiB0byBhIFVSTC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge09iamVjdH0gW3F1ZXJ5T2JqZWN0XSAtIFZhbHVlcyBzaG91bGQgYmUgcHJpbWl0aXZlcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gTW9kaWZpZWQgVVJMLlxuICovXG5mdW5jdGlvbiBhcHBlbmRRdWVyeU9iamVjdCh1cmwsIHF1ZXJ5T2JqZWN0KSB7XG4gIGlmICghcXVlcnlPYmplY3QpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IHVybDtcbiAgT2JqZWN0LmtleXMocXVlcnlPYmplY3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gcXVlcnlPYmplY3Rba2V5XTtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWVcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbignLCcpO1xuICAgIH1cbiAgICByZXN1bHQgPSBhcHBlbmRRdWVyeVBhcmFtKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFByZXBlbmQgYW4gb3JpZ2luIHRvIGEgVVJMLiBJZiB0aGUgVVJMIGFscmVhZHkgaGFzIGFuXG4gKiBvcmlnaW4sIGRvIG5vdGhpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpblxuICogQHJldHVybnMge3N0cmluZ30gLSBNb2RpZmllZCBVUkwuXG4gKi9cbmZ1bmN0aW9uIHByZXBlbmRPcmlnaW4odXJsLCBvcmlnaW4pIHtcbiAgaWYgKCFvcmlnaW4pIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgaWYgKHVybC5zbGljZSgwLCA0KSA9PT0gJ2h0dHAnKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHZhciBkZWxpbWl0ZXIgPSB1cmxbMF0gPT09ICcvJyA/ICcnIDogJy8nO1xuICByZXR1cm4gJycgKyBvcmlnaW4ucmVwbGFjZSgvXFwvJC8sICcnKSArIGRlbGltaXRlciArIHVybDtcbn1cblxuLyoqXG4gKiBJbnRlcnBvbGF0ZSB2YWx1ZXMgaW50byBhIHJvdXRlIHdpdGggZXhwcmVzcy1zdHlsZSxcbiAqIGNvbG9uLXByZWZpeGVkIHJvdXRlIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJvdXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gLSBWYWx1ZXMgc2hvdWxkIGJlIHByaW1pdGl2ZXNcbiAqICAgb3IgYXJyYXlzIG9mIHByaW1pdGl2ZXMuIFByb3ZpZGUgYW4gYXJyYXkgaWYgdGhlIHZhbHVlXG4gKiAgIGlzIGEgbGlzdCBhbmQgY29tbWFzIGJldHdlZW4gdmFsdWVzIG5lZWQgdG8gYmVcbiAqICAgcHJlc2VydmVkLCB1bmVuY29kZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIE1vZGlmaWVkIFVSTC5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGVSb3V0ZVBhcmFtcyhyb3V0ZSwgcGFyYW1zKSB7XG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHJvdXRlO1xuICB9XG4gIHJldHVybiByb3V0ZS5yZXBsYWNlKC9cXC86KFthLXpBLVowLTldKykvZywgZnVuY3Rpb24oXywgcGFyYW1JZCkge1xuICAgIHZhciB2YWx1ZSA9IHBhcmFtc1twYXJhbUlkXTtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnNwZWNpZmllZCByb3V0ZSBwYXJhbWV0ZXIgJyArIHBhcmFtSWQpO1xuICAgIH1cbiAgICB2YXIgcHJlcHBlZFZhbHVlID0gZW5jb2RlVmFsdWUodmFsdWUpO1xuICAgIHJldHVybiAnLycgKyBwcmVwcGVkVmFsdWU7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXBwZW5kUXVlcnlPYmplY3Q6IGFwcGVuZFF1ZXJ5T2JqZWN0LFxuICBhcHBlbmRRdWVyeVBhcmFtOiBhcHBlbmRRdWVyeVBhcmFtLFxuICBwcmVwZW5kT3JpZ2luOiBwcmVwZW5kT3JpZ2luLFxuICBpbnRlcnBvbGF0ZVJvdXRlUGFyYW1zOiBpbnRlcnBvbGF0ZVJvdXRlUGFyYW1zXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/helpers/url-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/node/node-client.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/node/node-client.js ***!
  \*****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar node = __webpack_require__(/*! ./node-layer */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/node/node-layer.js\");\nvar MapiClient = __webpack_require__(/*! ../classes/mapi-client */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-client.js\");\n\nfunction NodeClient(options) {\n  MapiClient.call(this, options);\n}\nNodeClient.prototype = Object.create(MapiClient.prototype);\nNodeClient.prototype.constructor = NodeClient;\n\nNodeClient.prototype.sendRequest = node.nodeSend;\nNodeClient.prototype.abortRequest = node.nodeAbort;\n\n/**\n * Create a client for Node.\n *\n * @param {Object} options\n * @param {string} options.accessToken\n * @param {string} [options.origin]\n * @returns {MapiClient}\n */\nfunction createNodeClient(options) {\n  return new NodeClient(options);\n}\n\nmodule.exports = createNodeClient;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9ub2RlL25vZGUtY2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFdBQVcsbUJBQU8sQ0FBQyxvRkFBYztBQUNqQyxpQkFBaUIsbUJBQU8sQ0FBQyxrR0FBd0I7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9saWIvbm9kZS9ub2RlLWNsaWVudC5qcz84MWYxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIG5vZGUgPSByZXF1aXJlKCcuL25vZGUtbGF5ZXInKTtcbnZhciBNYXBpQ2xpZW50ID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9tYXBpLWNsaWVudCcpO1xuXG5mdW5jdGlvbiBOb2RlQ2xpZW50KG9wdGlvbnMpIHtcbiAgTWFwaUNsaWVudC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuTm9kZUNsaWVudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1hcGlDbGllbnQucHJvdG90eXBlKTtcbk5vZGVDbGllbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTm9kZUNsaWVudDtcblxuTm9kZUNsaWVudC5wcm90b3R5cGUuc2VuZFJlcXVlc3QgPSBub2RlLm5vZGVTZW5kO1xuTm9kZUNsaWVudC5wcm90b3R5cGUuYWJvcnRSZXF1ZXN0ID0gbm9kZS5ub2RlQWJvcnQ7XG5cbi8qKlxuICogQ3JlYXRlIGEgY2xpZW50IGZvciBOb2RlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5hY2Nlc3NUb2tlblxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm9yaWdpbl1cbiAqIEByZXR1cm5zIHtNYXBpQ2xpZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVOb2RlQ2xpZW50KG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBOb2RlQ2xpZW50KG9wdGlvbnMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZU5vZGVDbGllbnQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/node/node-client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/node/node-layer.js":
/*!****************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/lib/node/node-layer.js ***!
  \****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar xtend = __webpack_require__(/*! xtend */ \"(ssr)/./node_modules/xtend/immutable.js\");\nvar fs = __webpack_require__(/*! fs */ \"fs\");\nvar got = __webpack_require__(/*! got */ \"(ssr)/./node_modules/got/dist/source/index.js\");\nvar FormData = __webpack_require__(/*! form-data */ \"(ssr)/./node_modules/form-data/lib/form_data.js\");\nvar MapiResponse = __webpack_require__(/*! ../classes/mapi-response */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-response.js\");\nvar MapiError = __webpack_require__(/*! ../classes/mapi-error */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-error.js\");\nvar constants = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/constants.js\");\n\nvar methodsWithBodies = new Set(['PUT', 'PATCH', 'POST']);\n\n// Keys are request IDs, values are objects with\n// clientRequest and gotStream properties.\nvar requestsUnderway = {};\n\nfunction nodeAbort(request) {\n  var streams = requestsUnderway[request.id];\n  if (!streams) return;\n  streams.clientRequest.abort();\n  delete requestsUnderway[request.id];\n}\n\nfunction normalizeGotProgressEvent(progress) {\n  return xtend(progress, {\n    percent: progress.percent * 100\n  });\n}\n\nfunction createRequestStreams(request) {\n  var url = request.url(request.client.accessToken);\n  var gotOptions = {\n    method: request.method,\n    headers: request.headers,\n    retries: 0,\n    followRedirect: false,\n    throwHttpErrors: false\n  };\n\n  if (typeof request.file === 'string') {\n    if (request.sendFileAs && request.sendFileAs === 'form') {\n      const form = new FormData();\n      form.append('file', fs.createReadStream(request.file));\n      gotOptions.body = form;\n    } else {\n      gotOptions.body = fs.createReadStream(request.file);\n    }\n  } else if (request.file && request.file.pipe) {\n    if (request.sendFileAs && request.sendFileAs === 'form') {\n      const form = new FormData();\n      form.append('file', request.file);\n      gotOptions.body = form;\n    } else {\n      gotOptions.body = request.file;\n    }\n  } else if (typeof request.body === 'string') {\n    // matching service needs to send a www-form-urlencoded request\n    gotOptions.body = request.body;\n  } else if (request.body) {\n    gotOptions.body = JSON.stringify(request.body);\n  }\n\n  if (\n    ['POST', 'PUT', 'PATCH', 'DELETE'].includes(request.method) &&\n    !request.body\n  ) {\n    gotOptions.body = '';\n  }\n\n  var gotStream = got.stream(url, gotOptions);\n\n  gotStream.setEncoding(request.encoding);\n\n  gotStream.on('downloadProgress', function(progress) {\n    request.emitter.emit(\n      constants.EVENT_PROGRESS_DOWNLOAD,\n      normalizeGotProgressEvent(progress)\n    );\n  });\n  gotStream.on('uploadProgress', function(progress) {\n    request.emitter.emit(\n      constants.EVENT_PROGRESS_UPLOAD,\n      normalizeGotProgressEvent(progress)\n    );\n  });\n\n  return new Promise(function(resolve) {\n    gotStream.on('request', function(req) {\n      var clientRequest = req;\n      var streams = { clientRequest: clientRequest, gotStream: gotStream };\n      requestsUnderway[request.id] = streams;\n      resolve(streams);\n    });\n\n    // Got will not end the stream for methods that *can* have\n    // bodies if you don't provide a body, so we'll do it manually.\n    if (\n      methodsWithBodies.has(request.method) &&\n      gotOptions.body === undefined\n    ) {\n      gotStream.end();\n    }\n  });\n}\n\nfunction nodeSend(request) {\n  return Promise.resolve()\n    .then(function() {\n      return createRequestStreams(request);\n    })\n    .then(function(result) {\n      return sendStreams(result.gotStream, result.clientRequest);\n    });\n\n  function sendStreams(gotStream, clientRequest) {\n    return new Promise(function(resolve, reject) {\n      var errored = false;\n      clientRequest.on('abort', function() {\n        var mapiError = new MapiError({\n          request: request,\n          type: constants.ERROR_REQUEST_ABORTED\n        });\n        errored = true;\n        reject(mapiError);\n      });\n\n      var httpsResponse = void 0;\n      var statusCode = void 0;\n      gotStream.on('response', function(res) {\n        httpsResponse = res;\n        statusCode = res.statusCode;\n      });\n\n      var body = '';\n      gotStream.on('data', function(chunk) {\n        body += chunk;\n      });\n\n      gotStream.on('end', function() {\n        if (errored || !httpsResponse) return;\n\n        if (statusCode < 200 || statusCode >= 400) {\n          var mapiError = new MapiError({\n            request: request,\n            body: body,\n            statusCode: statusCode\n          });\n          reject(mapiError);\n          return;\n        }\n\n        try {\n          var response = new MapiResponse(request, {\n            body: body,\n            headers: httpsResponse.headers,\n            statusCode: httpsResponse.statusCode\n          });\n          resolve(response);\n        } catch (responseError) {\n          reject(responseError);\n        }\n      });\n\n      gotStream.on('error', function(error) {\n        errored = true;\n        reject(error);\n      });\n    });\n  }\n}\n\nmodule.exports = {\n  nodeAbort: nodeAbort,\n  nodeSend: nodeSend\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL2xpYi9ub2RlL25vZGUtbGF5ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsWUFBWSxtQkFBTyxDQUFDLHNEQUFPO0FBQzNCLFNBQVMsbUJBQU8sQ0FBQyxjQUFJO0FBQ3JCLFVBQVUsbUJBQU8sQ0FBQywwREFBSztBQUN2QixlQUFlLG1CQUFPLENBQUMsa0VBQVc7QUFDbEMsbUJBQW1CLG1CQUFPLENBQUMsc0dBQTBCO0FBQ3JELGdCQUFnQixtQkFBTyxDQUFDLGdHQUF1QjtBQUMvQyxnQkFBZ0IsbUJBQU8sQ0FBQyw4RUFBYzs7QUFFdEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9saWIvbm9kZS9ub2RlLWxheWVyLmpzP2Y1NzkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgeHRlbmQgPSByZXF1aXJlKCd4dGVuZCcpO1xudmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbnZhciBnb3QgPSByZXF1aXJlKCdnb3QnKTtcbnZhciBGb3JtRGF0YSA9IHJlcXVpcmUoJ2Zvcm0tZGF0YScpO1xudmFyIE1hcGlSZXNwb25zZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvbWFwaS1yZXNwb25zZScpO1xudmFyIE1hcGlFcnJvciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvbWFwaS1lcnJvcicpO1xudmFyIGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG52YXIgbWV0aG9kc1dpdGhCb2RpZXMgPSBuZXcgU2V0KFsnUFVUJywgJ1BBVENIJywgJ1BPU1QnXSk7XG5cbi8vIEtleXMgYXJlIHJlcXVlc3QgSURzLCB2YWx1ZXMgYXJlIG9iamVjdHMgd2l0aFxuLy8gY2xpZW50UmVxdWVzdCBhbmQgZ290U3RyZWFtIHByb3BlcnRpZXMuXG52YXIgcmVxdWVzdHNVbmRlcndheSA9IHt9O1xuXG5mdW5jdGlvbiBub2RlQWJvcnQocmVxdWVzdCkge1xuICB2YXIgc3RyZWFtcyA9IHJlcXVlc3RzVW5kZXJ3YXlbcmVxdWVzdC5pZF07XG4gIGlmICghc3RyZWFtcykgcmV0dXJuO1xuICBzdHJlYW1zLmNsaWVudFJlcXVlc3QuYWJvcnQoKTtcbiAgZGVsZXRlIHJlcXVlc3RzVW5kZXJ3YXlbcmVxdWVzdC5pZF07XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUdvdFByb2dyZXNzRXZlbnQocHJvZ3Jlc3MpIHtcbiAgcmV0dXJuIHh0ZW5kKHByb2dyZXNzLCB7XG4gICAgcGVyY2VudDogcHJvZ3Jlc3MucGVyY2VudCAqIDEwMFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVxdWVzdFN0cmVhbXMocmVxdWVzdCkge1xuICB2YXIgdXJsID0gcmVxdWVzdC51cmwocmVxdWVzdC5jbGllbnQuYWNjZXNzVG9rZW4pO1xuICB2YXIgZ290T3B0aW9ucyA9IHtcbiAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICByZXRyaWVzOiAwLFxuICAgIGZvbGxvd1JlZGlyZWN0OiBmYWxzZSxcbiAgICB0aHJvd0h0dHBFcnJvcnM6IGZhbHNlXG4gIH07XG5cbiAgaWYgKHR5cGVvZiByZXF1ZXN0LmZpbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHJlcXVlc3Quc2VuZEZpbGVBcyAmJiByZXF1ZXN0LnNlbmRGaWxlQXMgPT09ICdmb3JtJykge1xuICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCBmcy5jcmVhdGVSZWFkU3RyZWFtKHJlcXVlc3QuZmlsZSkpO1xuICAgICAgZ290T3B0aW9ucy5ib2R5ID0gZm9ybTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ290T3B0aW9ucy5ib2R5ID0gZnMuY3JlYXRlUmVhZFN0cmVhbShyZXF1ZXN0LmZpbGUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyZXF1ZXN0LmZpbGUgJiYgcmVxdWVzdC5maWxlLnBpcGUpIHtcbiAgICBpZiAocmVxdWVzdC5zZW5kRmlsZUFzICYmIHJlcXVlc3Quc2VuZEZpbGVBcyA9PT0gJ2Zvcm0nKSB7XG4gICAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHJlcXVlc3QuZmlsZSk7XG4gICAgICBnb3RPcHRpb25zLmJvZHkgPSBmb3JtO1xuICAgIH0gZWxzZSB7XG4gICAgICBnb3RPcHRpb25zLmJvZHkgPSByZXF1ZXN0LmZpbGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiByZXF1ZXN0LmJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gbWF0Y2hpbmcgc2VydmljZSBuZWVkcyB0byBzZW5kIGEgd3d3LWZvcm0tdXJsZW5jb2RlZCByZXF1ZXN0XG4gICAgZ290T3B0aW9ucy5ib2R5ID0gcmVxdWVzdC5ib2R5O1xuICB9IGVsc2UgaWYgKHJlcXVlc3QuYm9keSkge1xuICAgIGdvdE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QuYm9keSk7XG4gIH1cblxuICBpZiAoXG4gICAgWydQT1NUJywgJ1BVVCcsICdQQVRDSCcsICdERUxFVEUnXS5pbmNsdWRlcyhyZXF1ZXN0Lm1ldGhvZCkgJiZcbiAgICAhcmVxdWVzdC5ib2R5XG4gICkge1xuICAgIGdvdE9wdGlvbnMuYm9keSA9ICcnO1xuICB9XG5cbiAgdmFyIGdvdFN0cmVhbSA9IGdvdC5zdHJlYW0odXJsLCBnb3RPcHRpb25zKTtcblxuICBnb3RTdHJlYW0uc2V0RW5jb2RpbmcocmVxdWVzdC5lbmNvZGluZyk7XG5cbiAgZ290U3RyZWFtLm9uKCdkb3dubG9hZFByb2dyZXNzJywgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICByZXF1ZXN0LmVtaXR0ZXIuZW1pdChcbiAgICAgIGNvbnN0YW50cy5FVkVOVF9QUk9HUkVTU19ET1dOTE9BRCxcbiAgICAgIG5vcm1hbGl6ZUdvdFByb2dyZXNzRXZlbnQocHJvZ3Jlc3MpXG4gICAgKTtcbiAgfSk7XG4gIGdvdFN0cmVhbS5vbigndXBsb2FkUHJvZ3Jlc3MnLCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgIHJlcXVlc3QuZW1pdHRlci5lbWl0KFxuICAgICAgY29uc3RhbnRzLkVWRU5UX1BST0dSRVNTX1VQTE9BRCxcbiAgICAgIG5vcm1hbGl6ZUdvdFByb2dyZXNzRXZlbnQocHJvZ3Jlc3MpXG4gICAgKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICBnb3RTdHJlYW0ub24oJ3JlcXVlc3QnLCBmdW5jdGlvbihyZXEpIHtcbiAgICAgIHZhciBjbGllbnRSZXF1ZXN0ID0gcmVxO1xuICAgICAgdmFyIHN0cmVhbXMgPSB7IGNsaWVudFJlcXVlc3Q6IGNsaWVudFJlcXVlc3QsIGdvdFN0cmVhbTogZ290U3RyZWFtIH07XG4gICAgICByZXF1ZXN0c1VuZGVyd2F5W3JlcXVlc3QuaWRdID0gc3RyZWFtcztcbiAgICAgIHJlc29sdmUoc3RyZWFtcyk7XG4gICAgfSk7XG5cbiAgICAvLyBHb3Qgd2lsbCBub3QgZW5kIHRoZSBzdHJlYW0gZm9yIG1ldGhvZHMgdGhhdCAqY2FuKiBoYXZlXG4gICAgLy8gYm9kaWVzIGlmIHlvdSBkb24ndCBwcm92aWRlIGEgYm9keSwgc28gd2UnbGwgZG8gaXQgbWFudWFsbHkuXG4gICAgaWYgKFxuICAgICAgbWV0aG9kc1dpdGhCb2RpZXMuaGFzKHJlcXVlc3QubWV0aG9kKSAmJlxuICAgICAgZ290T3B0aW9ucy5ib2R5ID09PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIGdvdFN0cmVhbS5lbmQoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBub2RlU2VuZChyZXF1ZXN0KSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVJlcXVlc3RTdHJlYW1zKHJlcXVlc3QpO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICByZXR1cm4gc2VuZFN0cmVhbXMocmVzdWx0LmdvdFN0cmVhbSwgcmVzdWx0LmNsaWVudFJlcXVlc3QpO1xuICAgIH0pO1xuXG4gIGZ1bmN0aW9uIHNlbmRTdHJlYW1zKGdvdFN0cmVhbSwgY2xpZW50UmVxdWVzdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICBjbGllbnRSZXF1ZXN0Lm9uKCdhYm9ydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWFwaUVycm9yID0gbmV3IE1hcGlFcnJvcih7XG4gICAgICAgICAgcmVxdWVzdDogcmVxdWVzdCxcbiAgICAgICAgICB0eXBlOiBjb25zdGFudHMuRVJST1JfUkVRVUVTVF9BQk9SVEVEXG4gICAgICAgIH0pO1xuICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgcmVqZWN0KG1hcGlFcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGh0dHBzUmVzcG9uc2UgPSB2b2lkIDA7XG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IHZvaWQgMDtcbiAgICAgIGdvdFN0cmVhbS5vbigncmVzcG9uc2UnLCBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgaHR0cHNSZXNwb25zZSA9IHJlcztcbiAgICAgICAgc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBib2R5ID0gJyc7XG4gICAgICBnb3RTdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbihjaHVuaykge1xuICAgICAgICBib2R5ICs9IGNodW5rO1xuICAgICAgfSk7XG5cbiAgICAgIGdvdFN0cmVhbS5vbignZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChlcnJvcmVkIHx8ICFodHRwc1Jlc3BvbnNlKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgPCAyMDAgfHwgc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICB2YXIgbWFwaUVycm9yID0gbmV3IE1hcGlFcnJvcih7XG4gICAgICAgICAgICByZXF1ZXN0OiByZXF1ZXN0LFxuICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHN0YXR1c0NvZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZWplY3QobWFwaUVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXNwb25zZSA9IG5ldyBNYXBpUmVzcG9uc2UocmVxdWVzdCwge1xuICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBzUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IGh0dHBzUmVzcG9uc2Uuc3RhdHVzQ29kZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChyZXNwb25zZUVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHJlc3BvbnNlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZ290U3RyZWFtLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG5vZGVBYm9ydDogbm9kZUFib3J0LFxuICBub2RlU2VuZDogbm9kZVNlbmRcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/node/node-layer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/services/geocoding.js":
/*!***************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/services/geocoding.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar xtend = __webpack_require__(/*! xtend */ \"(ssr)/./node_modules/xtend/immutable.js\");\nvar v = __webpack_require__(/*! ./service-helpers/validator */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/validator.js\");\nvar pick = __webpack_require__(/*! ./service-helpers/pick */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/pick.js\");\nvar stringifyBooleans = __webpack_require__(/*! ./service-helpers/stringify-booleans */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js\");\nvar createServiceFactory = __webpack_require__(/*! ./service-helpers/create-service-factory */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js\");\n\n/**\n * Geocoding API service.\n *\n * Learn more about this service and its responses in\n * [the HTTP service documentation](https://docs.mapbox.com/api/search/#geocoding).\n */\nvar Geocoding = {};\n\nvar featureTypes = [\n  'country',\n  'region',\n  'postcode',\n  'district',\n  'place',\n  'locality',\n  'neighborhood',\n  'address',\n  'poi',\n  'poi.landmark'\n];\n\n/**\n * Search for a place.\n *\n * See the [public documentation](https://docs.mapbox.com/api/search/#forward-geocoding).\n *\n * @param {Object} config\n * @param {string} config.query - A place name.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Coordinates|'ip'} [config.proximity] - Bias local results based on a provided coordinate location or a user's IP address.\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {boolean} [config.autocomplete=true] - Return autocomplete results or not.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=5] - Limit the number of results returned.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {boolean} [config.routing=false] - Specify whether to request additional metadata about the recommended navigation destination. Only applicable for address features.\n * @param {boolean} [config.fuzzyMatch=true] - Specify whether the Geocoding API should attempt approximate, as well as exact, matching.\n * @param {String} [config.worldview=\"us\"] - Filter results to geographic features whose characteristics are defined differently by audiences belonging to various regional, cultural, or political groups.\n * @param {String} [config.session_token] - A unique session identifier generated by the client.\n * @return {MapiRequest}\n *\n * @example\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   limit: 2\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * @example\n * // geocoding with proximity\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   proximity: [-95.4431142, 33.6875431]\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * // geocoding with countries\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   countries: ['fr']\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * // geocoding with bounding box\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   bbox: [2.14, 48.72, 2.55, 48.96]\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n */\nGeocoding.forwardGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.string),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    proximity: v.oneOf(v.coordinates, 'ip'),\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    autocomplete: v.boolean,\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    routing: v.boolean,\n    fuzzyMatch: v.boolean,\n    worldview: v.string,\n    session_token: v.string\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'proximity',\n        'types',\n        'autocomplete',\n        'bbox',\n        'limit',\n        'language',\n        'routing',\n        'fuzzyMatch',\n        'worldview',\n        'session_token'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\n/**\n * Search for places near coordinates.\n *\n * See the [public documentation](https://docs.mapbox.com/api/search/#reverse-geocoding).\n *\n * @param {Object} config\n * @param {Coordinates} config.query - Coordinates at which features will be searched.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=1] - Limit the number of results returned. If using this option, you must provide a single item for `types`.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {'distance'|'score'} [config.reverseMode='distance'] - Set the factors that are used to sort nearby results.\n * @param {boolean} [config.routing=false] - Specify whether to request additional metadata about the recommended navigation destination. Only applicable for address features.\n * @param {String} [config.worldview=\"us\"] - Filter results to geographic features whose characteristics are defined differently by audiences belonging to various regional, cultural, or political groups.\n * @param {String} [config.session_token] - A unique session identifier generated by the client.\n * @return {MapiRequest}\n *\n * @example\n * geocodingClient.reverseGeocode({\n *   query: [-95.4431142, 33.6875431]\n * })\n *   .send()\n *   .then(response => {\n *     // GeoJSON document with geocoding matches\n *     const match = response.body;\n *   });\n */\nGeocoding.reverseGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.coordinates),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    reverseMode: v.oneOf('distance', 'score'),\n    routing: v.boolean,\n    worldview: v.string,\n    session_token: v.string\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'country',\n        'types',\n        'bbox',\n        'limit',\n        'language',\n        'reverseMode',\n        'routing',\n        'worldview',\n        'session_token'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\nmodule.exports = createServiceFactory(Geocoding);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL3NlcnZpY2VzL2dlb2NvZGluZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixZQUFZLG1CQUFPLENBQUMsc0RBQU87QUFDM0IsUUFBUSxtQkFBTyxDQUFDLGtIQUE2QjtBQUM3QyxXQUFXLG1CQUFPLENBQUMsd0dBQXdCO0FBQzNDLHdCQUF3QixtQkFBTyxDQUFDLG9JQUFzQztBQUN0RSwyQkFBMkIsbUJBQU8sQ0FBQyw0SUFBMEM7O0FBRTdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLDJDQUEyQztBQUN0RCxXQUFXLGVBQWU7QUFDMUI7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLGtIQUFrSDtBQUM3SCxXQUFXLFNBQVM7QUFDcEIsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsUUFBUTtBQUNuQixXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLFFBQVEsMkJBQTJCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsYUFBYTtBQUN4QixXQUFXLDJDQUEyQztBQUN0RCxXQUFXLGVBQWU7QUFDMUI7QUFDQSxXQUFXLGtIQUFrSDtBQUM3SCxXQUFXLGFBQWE7QUFDeEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQSxRQUFRLDJCQUEyQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1zZGsvc2VydmljZXMvZ2VvY29kaW5nLmpzPzhlNjMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgeHRlbmQgPSByZXF1aXJlKCd4dGVuZCcpO1xudmFyIHYgPSByZXF1aXJlKCcuL3NlcnZpY2UtaGVscGVycy92YWxpZGF0b3InKTtcbnZhciBwaWNrID0gcmVxdWlyZSgnLi9zZXJ2aWNlLWhlbHBlcnMvcGljaycpO1xudmFyIHN0cmluZ2lmeUJvb2xlYW5zID0gcmVxdWlyZSgnLi9zZXJ2aWNlLWhlbHBlcnMvc3RyaW5naWZ5LWJvb2xlYW5zJyk7XG52YXIgY3JlYXRlU2VydmljZUZhY3RvcnkgPSByZXF1aXJlKCcuL3NlcnZpY2UtaGVscGVycy9jcmVhdGUtc2VydmljZS1mYWN0b3J5Jyk7XG5cbi8qKlxuICogR2VvY29kaW5nIEFQSSBzZXJ2aWNlLlxuICpcbiAqIExlYXJuIG1vcmUgYWJvdXQgdGhpcyBzZXJ2aWNlIGFuZCBpdHMgcmVzcG9uc2VzIGluXG4gKiBbdGhlIEhUVFAgc2VydmljZSBkb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MubWFwYm94LmNvbS9hcGkvc2VhcmNoLyNnZW9jb2RpbmcpLlxuICovXG52YXIgR2VvY29kaW5nID0ge307XG5cbnZhciBmZWF0dXJlVHlwZXMgPSBbXG4gICdjb3VudHJ5JyxcbiAgJ3JlZ2lvbicsXG4gICdwb3N0Y29kZScsXG4gICdkaXN0cmljdCcsXG4gICdwbGFjZScsXG4gICdsb2NhbGl0eScsXG4gICduZWlnaGJvcmhvb2QnLFxuICAnYWRkcmVzcycsXG4gICdwb2knLFxuICAncG9pLmxhbmRtYXJrJ1xuXTtcblxuLyoqXG4gKiBTZWFyY2ggZm9yIGEgcGxhY2UuXG4gKlxuICogU2VlIHRoZSBbcHVibGljIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9zZWFyY2gvI2ZvcndhcmQtZ2VvY29kaW5nKS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLnF1ZXJ5IC0gQSBwbGFjZSBuYW1lLlxuICogQHBhcmFtIHsnbWFwYm94LnBsYWNlcyd8J21hcGJveC5wbGFjZXMtcGVybWFuZW50J30gW2NvbmZpZy5tb2RlPVwibWFwYm94LnBsYWNlc1wiXSAtIEVpdGhlciBgbWFwYm94LnBsYWNlc2AgZm9yIGVwaGVtZXJhbCBnZW9jb2RpbmcsIG9yIGBtYXBib3gucGxhY2VzLXBlcm1hbmVudGAgZm9yIHN0b3JpbmcgcmVzdWx0cyBhbmQgYmF0Y2ggZ2VvY29kaW5nLlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbY29uZmlnLmNvdW50cmllc10gLSBMaW1pdHMgcmVzdWx0cyB0byB0aGUgc3BlY2lmaWVkIGNvdW50cmllcy5cbiAqICAgRWFjaCBpdGVtIGluIHRoZSBhcnJheSBzaG91bGQgYmUgYW4gW0lTTyAzMTY2IGFscGhhIDIgY291bnRyeSBjb2RlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fMzE2Ni0xX2FscGhhLTIpLlxuICogQHBhcmFtIHtDb29yZGluYXRlc3wnaXAnfSBbY29uZmlnLnByb3hpbWl0eV0gLSBCaWFzIGxvY2FsIHJlc3VsdHMgYmFzZWQgb24gYSBwcm92aWRlZCBjb29yZGluYXRlIGxvY2F0aW9uIG9yIGEgdXNlcidzIElQIGFkZHJlc3MuXG4gKiBAcGFyYW0ge0FycmF5PCdjb3VudHJ5J3wncmVnaW9uJ3wncG9zdGNvZGUnfCdkaXN0cmljdCd8J3BsYWNlJ3wnbG9jYWxpdHknfCduZWlnaGJvcmhvb2QnfCdhZGRyZXNzJ3wncG9pJ3wncG9pLmxhbmRtYXJrJz59IFtjb25maWcudHlwZXNdIC0gRmlsdGVyIHJlc3VsdHMgYnkgZmVhdHVyZSB0eXBlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbmZpZy5hdXRvY29tcGxldGU9dHJ1ZV0gLSBSZXR1cm4gYXV0b2NvbXBsZXRlIHJlc3VsdHMgb3Igbm90LlxuICogQHBhcmFtIHtCb3VuZGluZ0JveH0gW2NvbmZpZy5iYm94XSAtIExpbWl0IHJlc3VsdHMgdG8gYSBib3VuZGluZyBib3guXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5saW1pdD01XSAtIExpbWl0IHRoZSBudW1iZXIgb2YgcmVzdWx0cyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2NvbmZpZy5sYW5ndWFnZV0gLSBTcGVjaWZ5IHRoZSBsYW5ndWFnZSB0byB1c2UgZm9yIHJlc3BvbnNlIHRleHQgYW5kLCBmb3IgZm9yd2FyZCBnZW9jb2RpbmcsIHF1ZXJ5IHJlc3VsdCB3ZWlnaHRpbmcuXG4gKiAgT3B0aW9ucyBhcmUgW0lFVEYgbGFuZ3VhZ2UgdGFnc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSUVURl9sYW5ndWFnZV90YWcpIGNvbXByaXNlZCBvZiBhIG1hbmRhdG9yeVxuICogIFtJU08gNjM5LTEgbGFuZ3VhZ2UgY29kZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9JU09fNjM5LTFfY29kZXMpIGFuZCBvcHRpb25hbGx5IG9uZSBvciBtb3JlIElFVEYgc3VidGFncyBmb3IgY291bnRyeSBvciBzY3JpcHQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtjb25maWcucm91dGluZz1mYWxzZV0gLSBTcGVjaWZ5IHdoZXRoZXIgdG8gcmVxdWVzdCBhZGRpdGlvbmFsIG1ldGFkYXRhIGFib3V0IHRoZSByZWNvbW1lbmRlZCBuYXZpZ2F0aW9uIGRlc3RpbmF0aW9uLiBPbmx5IGFwcGxpY2FibGUgZm9yIGFkZHJlc3MgZmVhdHVyZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtjb25maWcuZnV6enlNYXRjaD10cnVlXSAtIFNwZWNpZnkgd2hldGhlciB0aGUgR2VvY29kaW5nIEFQSSBzaG91bGQgYXR0ZW1wdCBhcHByb3hpbWF0ZSwgYXMgd2VsbCBhcyBleGFjdCwgbWF0Y2hpbmcuXG4gKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy53b3JsZHZpZXc9XCJ1c1wiXSAtIEZpbHRlciByZXN1bHRzIHRvIGdlb2dyYXBoaWMgZmVhdHVyZXMgd2hvc2UgY2hhcmFjdGVyaXN0aWNzIGFyZSBkZWZpbmVkIGRpZmZlcmVudGx5IGJ5IGF1ZGllbmNlcyBiZWxvbmdpbmcgdG8gdmFyaW91cyByZWdpb25hbCwgY3VsdHVyYWwsIG9yIHBvbGl0aWNhbCBncm91cHMuXG4gKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zZXNzaW9uX3Rva2VuXSAtIEEgdW5pcXVlIHNlc3Npb24gaWRlbnRpZmllciBnZW5lcmF0ZWQgYnkgdGhlIGNsaWVudC5cbiAqIEByZXR1cm4ge01hcGlSZXF1ZXN0fVxuICpcbiAqIEBleGFtcGxlXG4gKiBnZW9jb2RpbmdDbGllbnQuZm9yd2FyZEdlb2NvZGUoe1xuICogICBxdWVyeTogJ1BhcmlzLCBGcmFuY2UnLFxuICogICBsaW1pdDogMlxuICogfSlcbiAqICAgLnNlbmQoKVxuICogICAudGhlbihyZXNwb25zZSA9PiB7XG4gKiAgICAgY29uc3QgbWF0Y2ggPSByZXNwb25zZS5ib2R5O1xuICogICB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gZ2VvY29kaW5nIHdpdGggcHJveGltaXR5XG4gKiBnZW9jb2RpbmdDbGllbnQuZm9yd2FyZEdlb2NvZGUoe1xuICogICBxdWVyeTogJ1BhcmlzLCBGcmFuY2UnLFxuICogICBwcm94aW1pdHk6IFstOTUuNDQzMTE0MiwgMzMuNjg3NTQzMV1cbiAqIH0pXG4gKiAgIC5zZW5kKClcbiAqICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICogICAgIGNvbnN0IG1hdGNoID0gcmVzcG9uc2UuYm9keTtcbiAqICAgfSk7XG4gKlxuICogLy8gZ2VvY29kaW5nIHdpdGggY291bnRyaWVzXG4gKiBnZW9jb2RpbmdDbGllbnQuZm9yd2FyZEdlb2NvZGUoe1xuICogICBxdWVyeTogJ1BhcmlzLCBGcmFuY2UnLFxuICogICBjb3VudHJpZXM6IFsnZnInXVxuICogfSlcbiAqICAgLnNlbmQoKVxuICogICAudGhlbihyZXNwb25zZSA9PiB7XG4gKiAgICAgY29uc3QgbWF0Y2ggPSByZXNwb25zZS5ib2R5O1xuICogICB9KTtcbiAqXG4gKiAvLyBnZW9jb2Rpbmcgd2l0aCBib3VuZGluZyBib3hcbiAqIGdlb2NvZGluZ0NsaWVudC5mb3J3YXJkR2VvY29kZSh7XG4gKiAgIHF1ZXJ5OiAnUGFyaXMsIEZyYW5jZScsXG4gKiAgIGJib3g6IFsyLjE0LCA0OC43MiwgMi41NSwgNDguOTZdXG4gKiB9KVxuICogICAuc2VuZCgpXG4gKiAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAqICAgICBjb25zdCBtYXRjaCA9IHJlc3BvbnNlLmJvZHk7XG4gKiAgIH0pO1xuICovXG5HZW9jb2RpbmcuZm9yd2FyZEdlb2NvZGUgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgdi5hc3NlcnRTaGFwZSh7XG4gICAgcXVlcnk6IHYucmVxdWlyZWQodi5zdHJpbmcpLFxuICAgIG1vZGU6IHYub25lT2YoJ21hcGJveC5wbGFjZXMnLCAnbWFwYm94LnBsYWNlcy1wZXJtYW5lbnQnKSxcbiAgICBjb3VudHJpZXM6IHYuYXJyYXlPZih2LnN0cmluZyksXG4gICAgcHJveGltaXR5OiB2Lm9uZU9mKHYuY29vcmRpbmF0ZXMsICdpcCcpLFxuICAgIHR5cGVzOiB2LmFycmF5T2Yodi5vbmVPZihmZWF0dXJlVHlwZXMpKSxcbiAgICBhdXRvY29tcGxldGU6IHYuYm9vbGVhbixcbiAgICBiYm94OiB2LmFycmF5T2Yodi5udW1iZXIpLFxuICAgIGxpbWl0OiB2Lm51bWJlcixcbiAgICBsYW5ndWFnZTogdi5hcnJheU9mKHYuc3RyaW5nKSxcbiAgICByb3V0aW5nOiB2LmJvb2xlYW4sXG4gICAgZnV6enlNYXRjaDogdi5ib29sZWFuLFxuICAgIHdvcmxkdmlldzogdi5zdHJpbmcsXG4gICAgc2Vzc2lvbl90b2tlbjogdi5zdHJpbmdcbiAgfSkoY29uZmlnKTtcblxuICBjb25maWcubW9kZSA9IGNvbmZpZy5tb2RlIHx8ICdtYXBib3gucGxhY2VzJztcblxuICB2YXIgcXVlcnkgPSBzdHJpbmdpZnlCb29sZWFucyhcbiAgICB4dGVuZChcbiAgICAgIHsgY291bnRyeTogY29uZmlnLmNvdW50cmllcyB9LFxuICAgICAgcGljayhjb25maWcsIFtcbiAgICAgICAgJ3Byb3hpbWl0eScsXG4gICAgICAgICd0eXBlcycsXG4gICAgICAgICdhdXRvY29tcGxldGUnLFxuICAgICAgICAnYmJveCcsXG4gICAgICAgICdsaW1pdCcsXG4gICAgICAgICdsYW5ndWFnZScsXG4gICAgICAgICdyb3V0aW5nJyxcbiAgICAgICAgJ2Z1enp5TWF0Y2gnLFxuICAgICAgICAnd29ybGR2aWV3JyxcbiAgICAgICAgJ3Nlc3Npb25fdG9rZW4nXG4gICAgICBdKVxuICAgIClcbiAgKTtcblxuICByZXR1cm4gdGhpcy5jbGllbnQuY3JlYXRlUmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBwYXRoOiAnL2dlb2NvZGluZy92NS86bW9kZS86cXVlcnkuanNvbicsXG4gICAgcGFyYW1zOiBwaWNrKGNvbmZpZywgWydtb2RlJywgJ3F1ZXJ5J10pLFxuICAgIHF1ZXJ5OiBxdWVyeVxuICB9KTtcbn07XG5cbi8qKlxuICogU2VhcmNoIGZvciBwbGFjZXMgbmVhciBjb29yZGluYXRlcy5cbiAqXG4gKiBTZWUgdGhlIFtwdWJsaWMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL3NlYXJjaC8jcmV2ZXJzZS1nZW9jb2RpbmcpLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZXN9IGNvbmZpZy5xdWVyeSAtIENvb3JkaW5hdGVzIGF0IHdoaWNoIGZlYXR1cmVzIHdpbGwgYmUgc2VhcmNoZWQuXG4gKiBAcGFyYW0geydtYXBib3gucGxhY2VzJ3wnbWFwYm94LnBsYWNlcy1wZXJtYW5lbnQnfSBbY29uZmlnLm1vZGU9XCJtYXBib3gucGxhY2VzXCJdIC0gRWl0aGVyIGBtYXBib3gucGxhY2VzYCBmb3IgZXBoZW1lcmFsIGdlb2NvZGluZywgb3IgYG1hcGJveC5wbGFjZXMtcGVybWFuZW50YCBmb3Igc3RvcmluZyByZXN1bHRzIGFuZCBiYXRjaCBnZW9jb2RpbmcuXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtjb25maWcuY291bnRyaWVzXSAtIExpbWl0cyByZXN1bHRzIHRvIHRoZSBzcGVjaWZpZWQgY291bnRyaWVzLlxuICogICBFYWNoIGl0ZW0gaW4gdGhlIGFycmF5IHNob3VsZCBiZSBhbiBbSVNPIDMxNjYgYWxwaGEgMiBjb3VudHJ5IGNvZGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT18zMTY2LTFfYWxwaGEtMikuXG4gKiBAcGFyYW0ge0FycmF5PCdjb3VudHJ5J3wncmVnaW9uJ3wncG9zdGNvZGUnfCdkaXN0cmljdCd8J3BsYWNlJ3wnbG9jYWxpdHknfCduZWlnaGJvcmhvb2QnfCdhZGRyZXNzJ3wncG9pJ3wncG9pLmxhbmRtYXJrJz59IFtjb25maWcudHlwZXNdIC0gRmlsdGVyIHJlc3VsdHMgYnkgZmVhdHVyZSB0eXBlcy5cbiAqIEBwYXJhbSB7Qm91bmRpbmdCb3h9IFtjb25maWcuYmJveF0gLSBMaW1pdCByZXN1bHRzIHRvIGEgYm91bmRpbmcgYm94LlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcubGltaXQ9MV0gLSBMaW1pdCB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgcmV0dXJuZWQuIElmIHVzaW5nIHRoaXMgb3B0aW9uLCB5b3UgbXVzdCBwcm92aWRlIGEgc2luZ2xlIGl0ZW0gZm9yIGB0eXBlc2AuXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtjb25maWcubGFuZ3VhZ2VdIC0gU3BlY2lmeSB0aGUgbGFuZ3VhZ2UgdG8gdXNlIGZvciByZXNwb25zZSB0ZXh0IGFuZCwgZm9yIGZvcndhcmQgZ2VvY29kaW5nLCBxdWVyeSByZXN1bHQgd2VpZ2h0aW5nLlxuICogIE9wdGlvbnMgYXJlIFtJRVRGIGxhbmd1YWdlIHRhZ3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lFVEZfbGFuZ3VhZ2VfdGFnKSBjb21wcmlzZWQgb2YgYSBtYW5kYXRvcnlcbiAqICBbSVNPIDYzOS0xIGxhbmd1YWdlIGNvZGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfSVNPXzYzOS0xX2NvZGVzKSBhbmQgb3B0aW9uYWxseSBvbmUgb3IgbW9yZSBJRVRGIHN1YnRhZ3MgZm9yIGNvdW50cnkgb3Igc2NyaXB0LlxuICogQHBhcmFtIHsnZGlzdGFuY2UnfCdzY29yZSd9IFtjb25maWcucmV2ZXJzZU1vZGU9J2Rpc3RhbmNlJ10gLSBTZXQgdGhlIGZhY3RvcnMgdGhhdCBhcmUgdXNlZCB0byBzb3J0IG5lYXJieSByZXN1bHRzLlxuICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLnJvdXRpbmc9ZmFsc2VdIC0gU3BlY2lmeSB3aGV0aGVyIHRvIHJlcXVlc3QgYWRkaXRpb25hbCBtZXRhZGF0YSBhYm91dCB0aGUgcmVjb21tZW5kZWQgbmF2aWdhdGlvbiBkZXN0aW5hdGlvbi4gT25seSBhcHBsaWNhYmxlIGZvciBhZGRyZXNzIGZlYXR1cmVzLlxuICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcud29ybGR2aWV3PVwidXNcIl0gLSBGaWx0ZXIgcmVzdWx0cyB0byBnZW9ncmFwaGljIGZlYXR1cmVzIHdob3NlIGNoYXJhY3RlcmlzdGljcyBhcmUgZGVmaW5lZCBkaWZmZXJlbnRseSBieSBhdWRpZW5jZXMgYmVsb25naW5nIHRvIHZhcmlvdXMgcmVnaW9uYWwsIGN1bHR1cmFsLCBvciBwb2xpdGljYWwgZ3JvdXBzLlxuICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2Vzc2lvbl90b2tlbl0gLSBBIHVuaXF1ZSBzZXNzaW9uIGlkZW50aWZpZXIgZ2VuZXJhdGVkIGJ5IHRoZSBjbGllbnQuXG4gKiBAcmV0dXJuIHtNYXBpUmVxdWVzdH1cbiAqXG4gKiBAZXhhbXBsZVxuICogZ2VvY29kaW5nQ2xpZW50LnJldmVyc2VHZW9jb2RlKHtcbiAqICAgcXVlcnk6IFstOTUuNDQzMTE0MiwgMzMuNjg3NTQzMV1cbiAqIH0pXG4gKiAgIC5zZW5kKClcbiAqICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICogICAgIC8vIEdlb0pTT04gZG9jdW1lbnQgd2l0aCBnZW9jb2RpbmcgbWF0Y2hlc1xuICogICAgIGNvbnN0IG1hdGNoID0gcmVzcG9uc2UuYm9keTtcbiAqICAgfSk7XG4gKi9cbkdlb2NvZGluZy5yZXZlcnNlR2VvY29kZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICB2LmFzc2VydFNoYXBlKHtcbiAgICBxdWVyeTogdi5yZXF1aXJlZCh2LmNvb3JkaW5hdGVzKSxcbiAgICBtb2RlOiB2Lm9uZU9mKCdtYXBib3gucGxhY2VzJywgJ21hcGJveC5wbGFjZXMtcGVybWFuZW50JyksXG4gICAgY291bnRyaWVzOiB2LmFycmF5T2Yodi5zdHJpbmcpLFxuICAgIHR5cGVzOiB2LmFycmF5T2Yodi5vbmVPZihmZWF0dXJlVHlwZXMpKSxcbiAgICBiYm94OiB2LmFycmF5T2Yodi5udW1iZXIpLFxuICAgIGxpbWl0OiB2Lm51bWJlcixcbiAgICBsYW5ndWFnZTogdi5hcnJheU9mKHYuc3RyaW5nKSxcbiAgICByZXZlcnNlTW9kZTogdi5vbmVPZignZGlzdGFuY2UnLCAnc2NvcmUnKSxcbiAgICByb3V0aW5nOiB2LmJvb2xlYW4sXG4gICAgd29ybGR2aWV3OiB2LnN0cmluZyxcbiAgICBzZXNzaW9uX3Rva2VuOiB2LnN0cmluZ1xuICB9KShjb25maWcpO1xuXG4gIGNvbmZpZy5tb2RlID0gY29uZmlnLm1vZGUgfHwgJ21hcGJveC5wbGFjZXMnO1xuXG4gIHZhciBxdWVyeSA9IHN0cmluZ2lmeUJvb2xlYW5zKFxuICAgIHh0ZW5kKFxuICAgICAgeyBjb3VudHJ5OiBjb25maWcuY291bnRyaWVzIH0sXG4gICAgICBwaWNrKGNvbmZpZywgW1xuICAgICAgICAnY291bnRyeScsXG4gICAgICAgICd0eXBlcycsXG4gICAgICAgICdiYm94JyxcbiAgICAgICAgJ2xpbWl0JyxcbiAgICAgICAgJ2xhbmd1YWdlJyxcbiAgICAgICAgJ3JldmVyc2VNb2RlJyxcbiAgICAgICAgJ3JvdXRpbmcnLFxuICAgICAgICAnd29ybGR2aWV3JyxcbiAgICAgICAgJ3Nlc3Npb25fdG9rZW4nXG4gICAgICBdKVxuICAgIClcbiAgKTtcblxuICByZXR1cm4gdGhpcy5jbGllbnQuY3JlYXRlUmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBwYXRoOiAnL2dlb2NvZGluZy92NS86bW9kZS86cXVlcnkuanNvbicsXG4gICAgcGFyYW1zOiBwaWNrKGNvbmZpZywgWydtb2RlJywgJ3F1ZXJ5J10pLFxuICAgIHF1ZXJ5OiBxdWVyeVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlU2VydmljZUZhY3RvcnkoR2VvY29kaW5nKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/services/geocoding.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar MapiClient = __webpack_require__(/*! ../../lib/classes/mapi-client */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-client.js\");\n// This will create the environment-appropriate client.\nvar createClient = __webpack_require__(/*! ../../lib/client */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/lib/client.js\");\n\nfunction createServiceFactory(ServicePrototype) {\n  return function(clientOrConfig) {\n    var client;\n    if (MapiClient.prototype.isPrototypeOf(clientOrConfig)) {\n      client = clientOrConfig;\n    } else {\n      client = createClient(clientOrConfig);\n    }\n    var service = Object.create(ServicePrototype);\n    service.client = client;\n    return service;\n  };\n}\n\nmodule.exports = createServiceFactory;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL3NlcnZpY2VzL3NlcnZpY2UtaGVscGVycy9jcmVhdGUtc2VydmljZS1mYWN0b3J5LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlCQUFpQixtQkFBTyxDQUFDLHlHQUErQjtBQUN4RDtBQUNBLG1CQUFtQixtQkFBTyxDQUFDLCtFQUFrQjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL3NlcnZpY2VzL3NlcnZpY2UtaGVscGVycy9jcmVhdGUtc2VydmljZS1mYWN0b3J5LmpzPzhmZmEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgTWFwaUNsaWVudCA9IHJlcXVpcmUoJy4uLy4uL2xpYi9jbGFzc2VzL21hcGktY2xpZW50Jyk7XG4vLyBUaGlzIHdpbGwgY3JlYXRlIHRoZSBlbnZpcm9ubWVudC1hcHByb3ByaWF0ZSBjbGllbnQuXG52YXIgY3JlYXRlQ2xpZW50ID0gcmVxdWlyZSgnLi4vLi4vbGliL2NsaWVudCcpO1xuXG5mdW5jdGlvbiBjcmVhdGVTZXJ2aWNlRmFjdG9yeShTZXJ2aWNlUHJvdG90eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbihjbGllbnRPckNvbmZpZykge1xuICAgIHZhciBjbGllbnQ7XG4gICAgaWYgKE1hcGlDbGllbnQucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoY2xpZW50T3JDb25maWcpKSB7XG4gICAgICBjbGllbnQgPSBjbGllbnRPckNvbmZpZztcbiAgICB9IGVsc2Uge1xuICAgICAgY2xpZW50ID0gY3JlYXRlQ2xpZW50KGNsaWVudE9yQ29uZmlnKTtcbiAgICB9XG4gICAgdmFyIHNlcnZpY2UgPSBPYmplY3QuY3JlYXRlKFNlcnZpY2VQcm90b3R5cGUpO1xuICAgIHNlcnZpY2UuY2xpZW50ID0gY2xpZW50O1xuICAgIHJldHVybiBzZXJ2aWNlO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVNlcnZpY2VGYWN0b3J5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/object-map.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/services/service-helpers/object-map.js ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nfunction objectMap(obj, cb) {\n  return Object.keys(obj).reduce(function(result, key) {\n    result[key] = cb(key, obj[key]);\n    return result;\n  }, {});\n}\n\nmodule.exports = objectMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL3NlcnZpY2VzL3NlcnZpY2UtaGVscGVycy9vYmplY3QtbWFwLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9zZXJ2aWNlcy9zZXJ2aWNlLWhlbHBlcnMvb2JqZWN0LW1hcC5qcz80MjkxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb2JqZWN0TWFwKG9iaiwgY2IpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSBjYihrZXksIG9ialtrZXldKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0TWFwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/object-map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/pick.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/services/service-helpers/pick.js ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/**\n * Create a new object by picking properties off an existing object.\n * The second param can be overloaded as a callback for\n * more fine grained picking of properties.\n * @param {Object} source\n * @param {Array<string>|function(string, Object):boolean} keys\n * @returns {Object}\n */\nfunction pick(source, keys) {\n  var filter = function(key, val) {\n    return keys.indexOf(key) !== -1 && val !== undefined;\n  };\n\n  if (typeof keys === 'function') {\n    filter = keys;\n  }\n\n  return Object.keys(source)\n    .filter(function(key) {\n      return filter(key, source[key]);\n    })\n    .reduce(function(result, key) {\n      result[key] = source[key];\n      return result;\n    }, {});\n}\n\nmodule.exports = pick;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL3NlcnZpY2VzL3NlcnZpY2UtaGVscGVycy9waWNrLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0RBQWdEO0FBQzNELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9zZXJ2aWNlcy9zZXJ2aWNlLWhlbHBlcnMvcGljay5qcz9lMDRhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgb2JqZWN0IGJ5IHBpY2tpbmcgcHJvcGVydGllcyBvZmYgYW4gZXhpc3Rpbmcgb2JqZWN0LlxuICogVGhlIHNlY29uZCBwYXJhbSBjYW4gYmUgb3ZlcmxvYWRlZCBhcyBhIGNhbGxiYWNrIGZvclxuICogbW9yZSBmaW5lIGdyYWluZWQgcGlja2luZyBvZiBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZVxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fGZ1bmN0aW9uKHN0cmluZywgT2JqZWN0KTpib29sZWFufSBrZXlzXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBwaWNrKHNvdXJjZSwga2V5cykge1xuICB2YXIgZmlsdGVyID0gZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICByZXR1cm4ga2V5cy5pbmRleE9mKGtleSkgIT09IC0xICYmIHZhbCAhPT0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIGlmICh0eXBlb2Yga2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZpbHRlciA9IGtleXM7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZmlsdGVyKGtleSwgc291cmNlW2tleV0pO1xuICAgIH0pXG4gICAgLnJlZHVjZShmdW5jdGlvbihyZXN1bHQsIGtleSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwge30pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBpY2s7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/pick.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar objectMap = __webpack_require__(/*! ./object-map */ \"(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/object-map.js\");\n\n/**\n * Stringify all the boolean values in an object, so true becomes \"true\".\n *\n * @param {Object} obj\n * @returns {Object}\n */\nfunction stringifyBoolean(obj) {\n  return objectMap(obj, function(_, value) {\n    return typeof value === 'boolean' ? JSON.stringify(value) : value;\n  });\n}\n\nmodule.exports = stringifyBoolean;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL3NlcnZpY2VzL3NlcnZpY2UtaGVscGVycy9zdHJpbmdpZnktYm9vbGVhbnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0JBQWdCLG1CQUFPLENBQUMsb0dBQWM7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9zZXJ2aWNlcy9zZXJ2aWNlLWhlbHBlcnMvc3RyaW5naWZ5LWJvb2xlYW5zLmpzPzZhZTQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgb2JqZWN0TWFwID0gcmVxdWlyZSgnLi9vYmplY3QtbWFwJyk7XG5cbi8qKlxuICogU3RyaW5naWZ5IGFsbCB0aGUgYm9vbGVhbiB2YWx1ZXMgaW4gYW4gb2JqZWN0LCBzbyB0cnVlIGJlY29tZXMgXCJ0cnVlXCIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5Qm9vbGVhbihvYmopIHtcbiAgcmV0dXJuIG9iamVjdE1hcChvYmosIGZ1bmN0aW9uKF8sIHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0cmluZ2lmeUJvb2xlYW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/validator.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-sdk/services/service-helpers/validator.js ***!
  \*******************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar xtend = __webpack_require__(/*! xtend */ \"(ssr)/./node_modules/xtend/immutable.js\");\nvar v = __webpack_require__(/*! @mapbox/fusspot */ \"(ssr)/./node_modules/@mapbox/fusspot/lib/index.js\");\n\nfunction file(value) {\n  // If we're in a browser so Blob is available, the file must be that.\n  // In Node, however, it could be a filepath or a pipeable (Readable) stream.\n  if (typeof window !== 'undefined') {\n    if (value instanceof global.Blob || value instanceof global.ArrayBuffer) {\n      return;\n    }\n    return 'Blob or ArrayBuffer';\n  }\n  if (typeof value === 'string' || value.pipe !== undefined) {\n    return;\n  }\n  return 'Filename or Readable stream';\n}\n\nfunction assertShape(validatorObj, apiName) {\n  return v.assert(v.strictShape(validatorObj), apiName);\n}\n\nfunction date(value) {\n  var msg = 'date';\n  if (typeof value === 'boolean') {\n    return msg;\n  }\n  try {\n    var date = new Date(value);\n    if (date.getTime && isNaN(date.getTime())) {\n      return msg;\n    }\n  } catch (e) {\n    return msg;\n  }\n}\n\nfunction coordinates(value) {\n  return v.tuple(v.number, v.number)(value);\n}\n\nmodule.exports = xtend(v, {\n  file: file,\n  date: date,\n  coordinates: coordinates,\n  assertShape: assertShape\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtc2RrL3NlcnZpY2VzL3NlcnZpY2UtaGVscGVycy92YWxpZGF0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsWUFBWSxtQkFBTyxDQUFDLHNEQUFPO0FBQzNCLFFBQVEsbUJBQU8sQ0FBQywwRUFBaUI7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LXNkay9zZXJ2aWNlcy9zZXJ2aWNlLWhlbHBlcnMvdmFsaWRhdG9yLmpzPzg2NTYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgeHRlbmQgPSByZXF1aXJlKCd4dGVuZCcpO1xudmFyIHYgPSByZXF1aXJlKCdAbWFwYm94L2Z1c3Nwb3QnKTtcblxuZnVuY3Rpb24gZmlsZSh2YWx1ZSkge1xuICAvLyBJZiB3ZSdyZSBpbiBhIGJyb3dzZXIgc28gQmxvYiBpcyBhdmFpbGFibGUsIHRoZSBmaWxlIG11c3QgYmUgdGhhdC5cbiAgLy8gSW4gTm9kZSwgaG93ZXZlciwgaXQgY291bGQgYmUgYSBmaWxlcGF0aCBvciBhIHBpcGVhYmxlIChSZWFkYWJsZSkgc3RyZWFtLlxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBnbG9iYWwuQmxvYiB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbC5BcnJheUJ1ZmZlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gJ0Jsb2Igb3IgQXJyYXlCdWZmZXInO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHZhbHVlLnBpcGUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gJ0ZpbGVuYW1lIG9yIFJlYWRhYmxlIHN0cmVhbSc7XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNoYXBlKHZhbGlkYXRvck9iaiwgYXBpTmFtZSkge1xuICByZXR1cm4gdi5hc3NlcnQodi5zdHJpY3RTaGFwZSh2YWxpZGF0b3JPYmopLCBhcGlOYW1lKTtcbn1cblxuZnVuY3Rpb24gZGF0ZSh2YWx1ZSkge1xuICB2YXIgbXNnID0gJ2RhdGUnO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gbXNnO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgaWYgKGRhdGUuZ2V0VGltZSAmJiBpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG1zZztcbiAgfVxufVxuXG5mdW5jdGlvbiBjb29yZGluYXRlcyh2YWx1ZSkge1xuICByZXR1cm4gdi50dXBsZSh2Lm51bWJlciwgdi5udW1iZXIpKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB4dGVuZCh2LCB7XG4gIGZpbGU6IGZpbGUsXG4gIGRhdGU6IGRhdGUsXG4gIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgYXNzZXJ0U2hhcGU6IGFzc2VydFNoYXBlXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-sdk/services/service-helpers/validator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/parse-mapbox-token/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@mapbox/parse-mapbox-token/index.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar base64 = __webpack_require__(/*! base-64 */ \"(ssr)/./node_modules/base-64/base64.js\");\n\nvar tokenCache = {};\n\nfunction parseToken(token) {\n  if (tokenCache[token]) {\n    return tokenCache[token];\n  }\n\n  var parts = token.split('.');\n  var usage = parts[0];\n  var rawPayload = parts[1];\n  if (!rawPayload) {\n    throw new Error('Invalid token');\n  }\n\n  var parsedPayload = parsePaylod(rawPayload);\n\n  var result = {\n    usage: usage,\n    user: parsedPayload.u\n  };\n  if (has(parsedPayload, 'a')) result.authorization = parsedPayload.a;\n  if (has(parsedPayload, 'exp')) result.expires = parsedPayload.exp * 1000;\n  if (has(parsedPayload, 'iat')) result.created = parsedPayload.iat * 1000;\n  if (has(parsedPayload, 'scopes')) result.scopes = parsedPayload.scopes;\n  if (has(parsedPayload, 'client')) result.client = parsedPayload.client;\n  if (has(parsedPayload, 'll')) result.lastLogin = parsedPayload.ll;\n  if (has(parsedPayload, 'iu')) result.impersonator = parsedPayload.iu;\n\n  tokenCache[token] = result;\n  return result;\n}\n\nfunction parsePaylod(rawPayload) {\n  try {\n    return JSON.parse(base64.decode(rawPayload));\n  } catch (parseError) {\n    throw new Error('Invalid token');\n  }\n}\n\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nmodule.exports = parseToken;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9wYXJzZS1tYXBib3gtdG9rZW4vaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsYUFBYSxtQkFBTyxDQUFDLHVEQUFTOztBQUU5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvcGFyc2UtbWFwYm94LXRva2VuL2luZGV4LmpzPzgwZWQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZS02NCcpO1xuXG52YXIgdG9rZW5DYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBwYXJzZVRva2VuKHRva2VuKSB7XG4gIGlmICh0b2tlbkNhY2hlW3Rva2VuXSkge1xuICAgIHJldHVybiB0b2tlbkNhY2hlW3Rva2VuXTtcbiAgfVxuXG4gIHZhciBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XG4gIHZhciB1c2FnZSA9IHBhcnRzWzBdO1xuICB2YXIgcmF3UGF5bG9hZCA9IHBhcnRzWzFdO1xuICBpZiAoIXJhd1BheWxvYWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdG9rZW4nKTtcbiAgfVxuXG4gIHZhciBwYXJzZWRQYXlsb2FkID0gcGFyc2VQYXlsb2QocmF3UGF5bG9hZCk7XG5cbiAgdmFyIHJlc3VsdCA9IHtcbiAgICB1c2FnZTogdXNhZ2UsXG4gICAgdXNlcjogcGFyc2VkUGF5bG9hZC51XG4gIH07XG4gIGlmIChoYXMocGFyc2VkUGF5bG9hZCwgJ2EnKSkgcmVzdWx0LmF1dGhvcml6YXRpb24gPSBwYXJzZWRQYXlsb2FkLmE7XG4gIGlmIChoYXMocGFyc2VkUGF5bG9hZCwgJ2V4cCcpKSByZXN1bHQuZXhwaXJlcyA9IHBhcnNlZFBheWxvYWQuZXhwICogMTAwMDtcbiAgaWYgKGhhcyhwYXJzZWRQYXlsb2FkLCAnaWF0JykpIHJlc3VsdC5jcmVhdGVkID0gcGFyc2VkUGF5bG9hZC5pYXQgKiAxMDAwO1xuICBpZiAoaGFzKHBhcnNlZFBheWxvYWQsICdzY29wZXMnKSkgcmVzdWx0LnNjb3BlcyA9IHBhcnNlZFBheWxvYWQuc2NvcGVzO1xuICBpZiAoaGFzKHBhcnNlZFBheWxvYWQsICdjbGllbnQnKSkgcmVzdWx0LmNsaWVudCA9IHBhcnNlZFBheWxvYWQuY2xpZW50O1xuICBpZiAoaGFzKHBhcnNlZFBheWxvYWQsICdsbCcpKSByZXN1bHQubGFzdExvZ2luID0gcGFyc2VkUGF5bG9hZC5sbDtcbiAgaWYgKGhhcyhwYXJzZWRQYXlsb2FkLCAnaXUnKSkgcmVzdWx0LmltcGVyc29uYXRvciA9IHBhcnNlZFBheWxvYWQuaXU7XG5cbiAgdG9rZW5DYWNoZVt0b2tlbl0gPSByZXN1bHQ7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUGF5bG9kKHJhd1BheWxvYWQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShiYXNlNjQuZGVjb2RlKHJhd1BheWxvYWQpKTtcbiAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0b2tlbicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhcyhvYmosIGtleSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVRva2VuO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/parse-mapbox-token/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css":
/*!*****************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"6a6003433198\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvZGlzdC9tYXBib3gtZ2wtZ2VvY29kZXIuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1nZW9jb2Rlci9kaXN0L21hcGJveC1nbC1nZW9jb2Rlci5jc3M/YzU4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjZhNjAwMzQzMzE5OFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/node_modules/nanoid/index.cjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/node_modules/nanoid/index.cjs ***!
  \*******************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("let crypto = __webpack_require__(/*! crypto */ \"crypto\")\n\nlet { urlAlphabet } = __webpack_require__(/*! ./url-alphabet/index.cjs */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/node_modules/nanoid/url-alphabet/index.cjs\")\n\n// It is best to make fewer, larger requests to the crypto module to\n// avoid system call overhead. So, random numbers are generated in a\n// pool. The pool is a Buffer that is larger than the initial random\n// request size by this multiplier. The pool is enlarged if subsequent\n// requests exceed the maximum buffer size.\nconst POOL_SIZE_MULTIPLIER = 128\nlet pool, poolOffset\n\nlet fillPool = bytes => {\n  if (!pool || pool.length < bytes) {\n    pool = Buffer.allocUnsafe(bytes * POOL_SIZE_MULTIPLIER)\n    crypto.randomFillSync(pool)\n    poolOffset = 0\n  } else if (poolOffset + bytes > pool.length) {\n    crypto.randomFillSync(pool)\n    poolOffset = 0\n  }\n  poolOffset += bytes\n}\n\nlet random = bytes => {\n  // `|=` convert `bytes` to number to prevent `valueOf` abusing and pool pollution\n  fillPool((bytes |= 0))\n  return pool.subarray(poolOffset - bytes, poolOffset)\n}\n\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  let mask = (2 << (31 - Math.clz32((alphabet.length - 1) | 1))) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n  let step = Math.ceil((1.6 * mask * defaultSize) / alphabet.length)\n\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (let i = 0; i < step; i++)`.\n      let i = step\n      while (i--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[i] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  // `|=` convert `size` to number to prevent `valueOf` abusing and pool pollution\n  fillPool((size |= 0))\n  let id = ''\n  // We are reading directly from the random pool to avoid creating new array\n  for (let i = poolOffset - size; i < poolOffset; i++) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    id += urlAlphabet[pool[i] & 63]\n  }\n  return id\n}\n\nmodule.exports = { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbm9kZV9tb2R1bGVzL25hbm9pZC9pbmRleC5janMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLHNCQUFROztBQUU3QixNQUFNLGNBQWMsRUFBRSxtQkFBTyxDQUFDLDRIQUEwQjs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELFVBQVU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnQkFBZ0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbm9kZV9tb2R1bGVzL25hbm9pZC9pbmRleC5janM/OTZhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJylcblxubGV0IHsgdXJsQWxwaGFiZXQgfSA9IHJlcXVpcmUoJy4vdXJsLWFscGhhYmV0L2luZGV4LmNqcycpXG5cbi8vIEl0IGlzIGJlc3QgdG8gbWFrZSBmZXdlciwgbGFyZ2VyIHJlcXVlc3RzIHRvIHRoZSBjcnlwdG8gbW9kdWxlIHRvXG4vLyBhdm9pZCBzeXN0ZW0gY2FsbCBvdmVyaGVhZC4gU28sIHJhbmRvbSBudW1iZXJzIGFyZSBnZW5lcmF0ZWQgaW4gYVxuLy8gcG9vbC4gVGhlIHBvb2wgaXMgYSBCdWZmZXIgdGhhdCBpcyBsYXJnZXIgdGhhbiB0aGUgaW5pdGlhbCByYW5kb21cbi8vIHJlcXVlc3Qgc2l6ZSBieSB0aGlzIG11bHRpcGxpZXIuIFRoZSBwb29sIGlzIGVubGFyZ2VkIGlmIHN1YnNlcXVlbnRcbi8vIHJlcXVlc3RzIGV4Y2VlZCB0aGUgbWF4aW11bSBidWZmZXIgc2l6ZS5cbmNvbnN0IFBPT0xfU0laRV9NVUxUSVBMSUVSID0gMTI4XG5sZXQgcG9vbCwgcG9vbE9mZnNldFxuXG5sZXQgZmlsbFBvb2wgPSBieXRlcyA9PiB7XG4gIGlmICghcG9vbCB8fCBwb29sLmxlbmd0aCA8IGJ5dGVzKSB7XG4gICAgcG9vbCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShieXRlcyAqIFBPT0xfU0laRV9NVUxUSVBMSUVSKVxuICAgIGNyeXB0by5yYW5kb21GaWxsU3luYyhwb29sKVxuICAgIHBvb2xPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAocG9vbE9mZnNldCArIGJ5dGVzID4gcG9vbC5sZW5ndGgpIHtcbiAgICBjcnlwdG8ucmFuZG9tRmlsbFN5bmMocG9vbClcbiAgICBwb29sT2Zmc2V0ID0gMFxuICB9XG4gIHBvb2xPZmZzZXQgKz0gYnl0ZXNcbn1cblxubGV0IHJhbmRvbSA9IGJ5dGVzID0+IHtcbiAgLy8gYHw9YCBjb252ZXJ0IGBieXRlc2AgdG8gbnVtYmVyIHRvIHByZXZlbnQgYHZhbHVlT2ZgIGFidXNpbmcgYW5kIHBvb2wgcG9sbHV0aW9uXG4gIGZpbGxQb29sKChieXRlcyB8PSAwKSlcbiAgcmV0dXJuIHBvb2wuc3ViYXJyYXkocG9vbE9mZnNldCAtIGJ5dGVzLCBwb29sT2Zmc2V0KVxufVxuXG5sZXQgY3VzdG9tUmFuZG9tID0gKGFscGhhYmV0LCBkZWZhdWx0U2l6ZSwgZ2V0UmFuZG9tKSA9PiB7XG4gIC8vIEZpcnN0LCBhIGJpdG1hc2sgaXMgbmVjZXNzYXJ5IHRvIGdlbmVyYXRlIHRoZSBJRC4gVGhlIGJpdG1hc2sgbWFrZXMgYnl0ZXNcbiAgLy8gdmFsdWVzIGNsb3NlciB0byB0aGUgYWxwaGFiZXQgc2l6ZS4gVGhlIGJpdG1hc2sgY2FsY3VsYXRlcyB0aGUgY2xvc2VzdFxuICAvLyBgMl4zMSAtIDFgIG51bWJlciwgd2hpY2ggZXhjZWVkcyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgLy8gRm9yIGV4YW1wbGUsIHRoZSBiaXRtYXNrIGZvciB0aGUgYWxwaGFiZXQgc2l6ZSAzMCBpcyAzMSAoMDAwMTExMTEpLlxuICBsZXQgbWFzayA9ICgyIDw8ICgzMSAtIE1hdGguY2x6MzIoKGFscGhhYmV0Lmxlbmd0aCAtIDEpIHwgMSkpKSAtIDFcbiAgLy8gVGhvdWdoLCB0aGUgYml0bWFzayBzb2x1dGlvbiBpcyBub3QgcGVyZmVjdCBzaW5jZSB0aGUgYnl0ZXMgZXhjZWVkaW5nXG4gIC8vIHRoZSBhbHBoYWJldCBzaXplIGFyZSByZWZ1c2VkLiBUaGVyZWZvcmUsIHRvIHJlbGlhYmx5IGdlbmVyYXRlIHRoZSBJRCxcbiAgLy8gdGhlIHJhbmRvbSBieXRlcyByZWR1bmRhbmN5IGhhcyB0byBiZSBzYXRpc2ZpZWQuXG5cbiAgLy8gTm90ZTogZXZlcnkgaGFyZHdhcmUgcmFuZG9tIGdlbmVyYXRvciBjYWxsIGlzIHBlcmZvcm1hbmNlIGV4cGVuc2l2ZSxcbiAgLy8gYmVjYXVzZSB0aGUgc3lzdGVtIGNhbGwgZm9yIGVudHJvcHkgY29sbGVjdGlvbiB0YWtlcyBhIGxvdCBvZiB0aW1lLlxuICAvLyBTbywgdG8gYXZvaWQgYWRkaXRpb25hbCBzeXN0ZW0gY2FsbHMsIGV4dHJhIGJ5dGVzIGFyZSByZXF1ZXN0ZWQgaW4gYWR2YW5jZS5cblxuICAvLyBOZXh0LCBhIHN0ZXAgZGV0ZXJtaW5lcyBob3cgbWFueSByYW5kb20gYnl0ZXMgdG8gZ2VuZXJhdGUuXG4gIC8vIFRoZSBudW1iZXIgb2YgcmFuZG9tIGJ5dGVzIGdldHMgZGVjaWRlZCB1cG9uIHRoZSBJRCBzaXplLCBtYXNrLFxuICAvLyBhbHBoYWJldCBzaXplLCBhbmQgbWFnaWMgbnVtYmVyIDEuNiAodXNpbmcgMS42IHBlYWtzIGF0IHBlcmZvcm1hbmNlXG4gIC8vIGFjY29yZGluZyB0byBiZW5jaG1hcmtzKS5cbiAgbGV0IHN0ZXAgPSBNYXRoLmNlaWwoKDEuNiAqIG1hc2sgKiBkZWZhdWx0U2l6ZSkgLyBhbHBoYWJldC5sZW5ndGgpXG5cbiAgcmV0dXJuIChzaXplID0gZGVmYXVsdFNpemUpID0+IHtcbiAgICBsZXQgaWQgPSAnJ1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgYnl0ZXMgPSBnZXRSYW5kb20oc3RlcClcbiAgICAgIC8vIEEgY29tcGFjdCBhbHRlcm5hdGl2ZSBmb3IgYGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcDsgaSsrKWAuXG4gICAgICBsZXQgaSA9IHN0ZXBcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgLy8gQWRkaW5nIGB8fCAnJ2AgcmVmdXNlcyBhIHJhbmRvbSBieXRlIHRoYXQgZXhjZWVkcyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICAgICAgaWQgKz0gYWxwaGFiZXRbYnl0ZXNbaV0gJiBtYXNrXSB8fCAnJ1xuICAgICAgICBpZiAoaWQubGVuZ3RoID09PSBzaXplKSByZXR1cm4gaWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubGV0IGN1c3RvbUFscGhhYmV0ID0gKGFscGhhYmV0LCBzaXplID0gMjEpID0+XG4gIGN1c3RvbVJhbmRvbShhbHBoYWJldCwgc2l6ZSwgcmFuZG9tKVxuXG5sZXQgbmFub2lkID0gKHNpemUgPSAyMSkgPT4ge1xuICAvLyBgfD1gIGNvbnZlcnQgYHNpemVgIHRvIG51bWJlciB0byBwcmV2ZW50IGB2YWx1ZU9mYCBhYnVzaW5nIGFuZCBwb29sIHBvbGx1dGlvblxuICBmaWxsUG9vbCgoc2l6ZSB8PSAwKSlcbiAgbGV0IGlkID0gJydcbiAgLy8gV2UgYXJlIHJlYWRpbmcgZGlyZWN0bHkgZnJvbSB0aGUgcmFuZG9tIHBvb2wgdG8gYXZvaWQgY3JlYXRpbmcgbmV3IGFycmF5XG4gIGZvciAobGV0IGkgPSBwb29sT2Zmc2V0IC0gc2l6ZTsgaSA8IHBvb2xPZmZzZXQ7IGkrKykge1xuICAgIC8vIEl0IGlzIGluY29ycmVjdCB0byB1c2UgYnl0ZXMgZXhjZWVkaW5nIHRoZSBhbHBoYWJldCBzaXplLlxuICAgIC8vIFRoZSBmb2xsb3dpbmcgbWFzayByZWR1Y2VzIHRoZSByYW5kb20gYnl0ZSBpbiB0aGUgMC0yNTUgdmFsdWVcbiAgICAvLyByYW5nZSB0byB0aGUgMC02MyB2YWx1ZSByYW5nZS4gVGhlcmVmb3JlLCBhZGRpbmcgaGFja3MsIHN1Y2hcbiAgICAvLyBhcyBlbXB0eSBzdHJpbmcgZmFsbGJhY2sgb3IgbWFnaWMgbnVtYmVycywgaXMgdW5uZWNjZXNzYXJ5IGJlY2F1c2VcbiAgICAvLyB0aGUgYml0bWFzayB0cmltcyBieXRlcyBkb3duIHRvIHRoZSBhbHBoYWJldCBzaXplLlxuICAgIGlkICs9IHVybEFscGhhYmV0W3Bvb2xbaV0gJiA2M11cbiAgfVxuICByZXR1cm4gaWRcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IG5hbm9pZCwgY3VzdG9tQWxwaGFiZXQsIGN1c3RvbVJhbmRvbSwgdXJsQWxwaGFiZXQsIHJhbmRvbSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/node_modules/nanoid/index.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/node_modules/nanoid/url-alphabet/index.cjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-geocoder/node_modules/nanoid/url-alphabet/index.cjs ***!
  \********************************************************************************************/
/***/ ((module) => {

eval("// This alphabet uses `A-Za-z0-9_-` symbols.\n// The order of characters is optimized for better gzip and brotli compression.\n// Same as in non-secure/index.js\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n\nmodule.exports = { urlAlphabet }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZ2VvY29kZXIvbm9kZV9tb2R1bGVzL25hbm9pZC91cmwtYWxwaGFiZXQvaW5kZXguY2pzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1nZW9jb2Rlci9ub2RlX21vZHVsZXMvbmFub2lkL3VybC1hbHBoYWJldC9pbmRleC5janM/NWI3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGFscGhhYmV0IHVzZXMgYEEtWmEtejAtOV8tYCBzeW1ib2xzLlxuLy8gVGhlIG9yZGVyIG9mIGNoYXJhY3RlcnMgaXMgb3B0aW1pemVkIGZvciBiZXR0ZXIgZ3ppcCBhbmQgYnJvdGxpIGNvbXByZXNzaW9uLlxuLy8gU2FtZSBhcyBpbiBub24tc2VjdXJlL2luZGV4LmpzXG5sZXQgdXJsQWxwaGFiZXQgPVxuICAndXNlYW5kb20tMjZUMTk4MzQwUFg3NXB4SkFDS1ZFUllNSU5EQlVTSFdPTEZfR1FaYmZnaGprbHF2d3l6cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSB7IHVybEFscGhhYmV0IH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-geocoder/node_modules/nanoid/url-alphabet/index.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _src_setup_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/setup.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/setup.js\");\n/* harmony import */ var _src_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/options.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/options.js\");\n/* harmony import */ var _src_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/api.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/api.js\");\n/* harmony import */ var _src_modes_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/modes/index.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/index.js\");\n/* harmony import */ var _src_constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _src_lib_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src/lib/index.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/index.js\");\n\n\n\n\n\n\n\nconst setupDraw = function(options, api) {\n  options = (0,_src_options_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options);\n\n  const ctx = {\n    options\n  };\n\n  api = (0,_src_api_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ctx, api);\n  ctx.api = api;\n\n  const setup = (0,_src_setup_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ctx);\n\n  api.onAdd = setup.onAdd;\n  api.onRemove = setup.onRemove;\n  api.types = _src_constants_js__WEBPACK_IMPORTED_MODULE_4__.types;\n  api.options = options;\n\n  return api;\n};\n\nfunction MapboxDraw(options) {\n  setupDraw(options, this);\n}\n\nMapboxDraw.modes = _src_modes_index_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nMapboxDraw.constants = _src_constants_js__WEBPACK_IMPORTED_MODULE_4__;\nMapboxDraw.lib = _src_lib_index_js__WEBPACK_IMPORTED_MODULE_5__;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapboxDraw);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXNDO0FBQ007QUFDUjtBQUNLO0FBQ087QUFDTjs7QUFFMUM7QUFDQSxZQUFZLDJEQUFZOztBQUV4QjtBQUNBO0FBQ0E7O0FBRUEsUUFBUSx1REFBUTtBQUNoQjs7QUFFQSxnQkFBZ0IseURBQVE7O0FBRXhCO0FBQ0E7QUFDQSxjQUFjLG9EQUFlO0FBQzdCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1CQUFtQiwyREFBSztBQUN4Qix1QkFBdUIsOENBQVM7QUFDaEMsaUJBQWlCLDhDQUFHOztBQUVwQixpRUFBZSxVQUFVLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvaW5kZXguanM/MTA2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcnVuU2V0dXAgZnJvbSAnLi9zcmMvc2V0dXAuanMnO1xuaW1wb3J0IHNldHVwT3B0aW9ucyBmcm9tICcuL3NyYy9vcHRpb25zLmpzJztcbmltcG9ydCBzZXR1cEFQSSBmcm9tICcuL3NyYy9hcGkuanMnO1xuaW1wb3J0IG1vZGVzIGZyb20gJy4vc3JjL21vZGVzL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuL3NyYy9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgbGliIGZyb20gJy4vc3JjL2xpYi9pbmRleC5qcyc7XG5cbmNvbnN0IHNldHVwRHJhdyA9IGZ1bmN0aW9uKG9wdGlvbnMsIGFwaSkge1xuICBvcHRpb25zID0gc2V0dXBPcHRpb25zKG9wdGlvbnMpO1xuXG4gIGNvbnN0IGN0eCA9IHtcbiAgICBvcHRpb25zXG4gIH07XG5cbiAgYXBpID0gc2V0dXBBUEkoY3R4LCBhcGkpO1xuICBjdHguYXBpID0gYXBpO1xuXG4gIGNvbnN0IHNldHVwID0gcnVuU2V0dXAoY3R4KTtcblxuICBhcGkub25BZGQgPSBzZXR1cC5vbkFkZDtcbiAgYXBpLm9uUmVtb3ZlID0gc2V0dXAub25SZW1vdmU7XG4gIGFwaS50eXBlcyA9IENvbnN0YW50cy50eXBlcztcbiAgYXBpLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gIHJldHVybiBhcGk7XG59O1xuXG5mdW5jdGlvbiBNYXBib3hEcmF3KG9wdGlvbnMpIHtcbiAgc2V0dXBEcmF3KG9wdGlvbnMsIHRoaXMpO1xufVxuXG5NYXBib3hEcmF3Lm1vZGVzID0gbW9kZXM7XG5NYXBib3hEcmF3LmNvbnN0YW50cyA9IENvbnN0YW50cztcbk1hcGJveERyYXcubGliID0gbGliO1xuXG5leHBvcnQgZGVmYXVsdCBNYXBib3hEcmF3O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/api.js":
/*!********************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/api.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fast-deep-equal */ \"(ssr)/./node_modules/fast-deep-equal/index.js\");\n/* harmony import */ var _mapbox_geojson_normalize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mapbox/geojson-normalize */ \"(ssr)/./node_modules/@mapbox/geojson-normalize/index.js\");\n/* harmony import */ var _lib_id_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/id.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/id.js\");\n/* harmony import */ var _lib_features_at_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/features_at.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js\");\n/* harmony import */ var _lib_string_sets_are_equal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/string_sets_are_equal.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_sets_are_equal.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _lib_string_set_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/string_set.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js\");\n/* harmony import */ var _feature_types_polygon_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./feature_types/polygon.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/polygon.js\");\n/* harmony import */ var _feature_types_line_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./feature_types/line_string.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/line_string.js\");\n/* harmony import */ var _feature_types_point_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./feature_types/point.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/point.js\");\n/* harmony import */ var _feature_types_multi_feature_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./feature_types/multi_feature.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/multi_feature.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst featureTypes = {\n  Polygon: _feature_types_polygon_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  LineString: _feature_types_line_string_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  Point: _feature_types_point_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  MultiPolygon: _feature_types_multi_feature_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  MultiLineString: _feature_types_multi_feature_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  MultiPoint: _feature_types_multi_feature_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n};\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(ctx, api) {\n  api.modes = _constants_js__WEBPACK_IMPORTED_MODULE_5__.modes;\n\n  // API doesn't emit events by default\n  const silent = ctx.options.suppressAPIEvents !== undefined ? !!ctx.options.suppressAPIEvents : true;\n\n  api.getFeatureIdsAt = function(point) {\n    const features = _lib_features_at_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].click({ point }, null, ctx);\n    return features.map(feature => feature.properties.id);\n  };\n\n  api.getSelectedIds = function() {\n    return ctx.store.getSelectedIds();\n  };\n\n  api.getSelected = function() {\n    return {\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_5__.geojsonTypes.FEATURE_COLLECTION,\n      features: ctx.store.getSelectedIds().map(id => ctx.store.get(id)).map(feature => feature.toGeoJSON())\n    };\n  };\n\n  api.getSelectedPoints = function() {\n    return {\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_5__.geojsonTypes.FEATURE_COLLECTION,\n      features: ctx.store.getSelectedCoordinates().map(coordinate => ({\n        type: _constants_js__WEBPACK_IMPORTED_MODULE_5__.geojsonTypes.FEATURE,\n        properties: {},\n        geometry: {\n          type: _constants_js__WEBPACK_IMPORTED_MODULE_5__.geojsonTypes.POINT,\n          coordinates: coordinate.coordinates\n        }\n      }))\n    };\n  };\n\n  api.set = function(featureCollection) {\n    if (featureCollection.type === undefined || featureCollection.type !== _constants_js__WEBPACK_IMPORTED_MODULE_5__.geojsonTypes.FEATURE_COLLECTION || !Array.isArray(featureCollection.features)) {\n      throw new Error('Invalid FeatureCollection');\n    }\n    const renderBatch = ctx.store.createRenderBatch();\n    let toDelete = ctx.store.getAllIds().slice();\n    const newIds = api.add(featureCollection);\n    const newIdsLookup = new _lib_string_set_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](newIds);\n\n    toDelete = toDelete.filter(id => !newIdsLookup.has(id));\n    if (toDelete.length) {\n      api.delete(toDelete);\n    }\n\n    renderBatch();\n    return newIds;\n  };\n\n  api.add = function(geojson) {\n    const featureCollection = JSON.parse(JSON.stringify(_mapbox_geojson_normalize__WEBPACK_IMPORTED_MODULE_1__(geojson)));\n\n    const ids = featureCollection.features.map((feature) => {\n      feature.id = feature.id || (0,_lib_id_js__WEBPACK_IMPORTED_MODULE_2__.generateID)();\n\n      if (feature.geometry === null) {\n        throw new Error('Invalid geometry: null');\n      }\n\n      if (ctx.store.get(feature.id) === undefined || ctx.store.get(feature.id).type !== feature.geometry.type) {\n        // If the feature has not yet been created ...\n        const Model = featureTypes[feature.geometry.type];\n        if (Model === undefined) {\n          throw new Error(`Invalid geometry type: ${feature.geometry.type}.`);\n        }\n        const internalFeature = new Model(ctx, feature);\n        ctx.store.add(internalFeature, { silent });\n      } else {\n        // If a feature of that id has already been created, and we are swapping it out ...\n        const internalFeature = ctx.store.get(feature.id);\n        const originalProperties = internalFeature.properties;\n        internalFeature.properties = feature.properties;\n        if (!fast_deep_equal__WEBPACK_IMPORTED_MODULE_0__(originalProperties, feature.properties)) {\n          ctx.store.featureChanged(internalFeature.id, { silent });\n        }\n        if (!fast_deep_equal__WEBPACK_IMPORTED_MODULE_0__(internalFeature.getCoordinates(), feature.geometry.coordinates)) {\n          internalFeature.incomingCoords(feature.geometry.coordinates);\n        }\n      }\n      return feature.id;\n    });\n\n    ctx.store.render();\n    return ids;\n  };\n\n\n  api.get = function(id) {\n    const feature = ctx.store.get(id);\n    if (feature) {\n      return feature.toGeoJSON();\n    }\n  };\n\n  api.getAll = function() {\n    return {\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_5__.geojsonTypes.FEATURE_COLLECTION,\n      features: ctx.store.getAll().map(feature => feature.toGeoJSON())\n    };\n  };\n\n  api.delete = function(featureIds) {\n    ctx.store.delete(featureIds, { silent });\n    // If we were in direct select mode and our selected feature no longer exists\n    // (because it was deleted), we need to get out of that mode.\n    if (api.getMode() === _constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.DIRECT_SELECT && !ctx.store.getSelectedIds().length) {\n      ctx.events.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.SIMPLE_SELECT, undefined, { silent });\n    } else {\n      ctx.store.render();\n    }\n\n    return api;\n  };\n\n  api.deleteAll = function() {\n    ctx.store.delete(ctx.store.getAllIds(), { silent });\n    // If we were in direct select mode, now our selected feature no longer exists,\n    // so escape that mode.\n    if (api.getMode() === _constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.DIRECT_SELECT) {\n      ctx.events.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.SIMPLE_SELECT, undefined, { silent });\n    } else {\n      ctx.store.render();\n    }\n\n    return api;\n  };\n\n  api.changeMode = function(mode, modeOptions = {}) {\n    // Avoid changing modes just to re-select what's already selected\n    if (mode === _constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.SIMPLE_SELECT && api.getMode() === _constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.SIMPLE_SELECT) {\n      if ((0,_lib_string_sets_are_equal_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((modeOptions.featureIds || []), ctx.store.getSelectedIds())) return api;\n      // And if we are changing the selection within simple_select mode, just change the selection,\n      // instead of stopping and re-starting the mode\n      ctx.store.setSelected(modeOptions.featureIds, { silent });\n      ctx.store.render();\n      return api;\n    }\n\n    if (mode === _constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.DIRECT_SELECT && api.getMode() === _constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.DIRECT_SELECT &&\n      modeOptions.featureId === ctx.store.getSelectedIds()[0]) {\n      return api;\n    }\n\n    ctx.events.changeMode(mode, modeOptions, { silent });\n    return api;\n  };\n\n  api.getMode = function() {\n    return ctx.events.getMode();\n  };\n\n  api.trash = function() {\n    ctx.events.trash({ silent });\n    return api;\n  };\n\n  api.combineFeatures = function() {\n    ctx.events.combineFeatures({ silent });\n    return api;\n  };\n\n  api.uncombineFeatures = function() {\n    ctx.events.uncombineFeatures({ silent });\n    return api;\n  };\n\n  api.setFeatureProperty = function(featureId, property, value) {\n    ctx.store.setFeatureProperty(featureId, property, value, { silent });\n    return api;\n  };\n\n  return api;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvYXBpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzQztBQUNZO0FBQ1g7QUFDTztBQUNrQjtBQUNwQjtBQUNBOztBQUVLO0FBQ087QUFDWDtBQUNlOztBQUU1RDtBQUNBLFNBQVM7QUFDVCxZQUFZO0FBQ1osT0FBTztBQUNQLGdCQUFnQix3RUFBWTtBQUM1QixtQkFBbUIsd0VBQVk7QUFDL0IsY0FBYyx3RUFBWTtBQUMxQjs7QUFFQSw2QkFBZSxvQ0FBUztBQUN4QixjQUFjLGdEQUFlOztBQUU3QjtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLDJEQUFVLFNBQVMsT0FBTztBQUMvQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSx1REFBc0I7QUFDbEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLHVEQUFzQjtBQUNsQztBQUNBLGNBQWMsdURBQXNCO0FBQ3BDLHNCQUFzQjtBQUN0QjtBQUNBLGdCQUFnQix1REFBc0I7QUFDdEM7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsMkVBQTJFLHVEQUFzQjtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDBEQUFTOztBQUV0QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3REFBd0Qsc0RBQVM7O0FBRWpFO0FBQ0EsaUNBQWlDLHNEQUFVOztBQUUzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsc0JBQXNCO0FBQzFFO0FBQ0E7QUFDQSx5Q0FBeUMsUUFBUTtBQUNqRCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRDQUFPO0FBQ3BCLHlEQUF5RCxRQUFRO0FBQ2pFO0FBQ0EsYUFBYSw0Q0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksdURBQXNCO0FBQ2xDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQSwwQkFBMEIsZ0RBQWU7QUFDekMsNEJBQTRCLGdEQUFlLDZCQUE2QixRQUFRO0FBQ2hGLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFlO0FBQ3pDLDRCQUE0QixnREFBZSw2QkFBNkIsUUFBUTtBQUNoRixNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtEQUFrRDtBQUNsRDtBQUNBLGlCQUFpQixnREFBZSxvQ0FBb0MsZ0RBQWU7QUFDbkYsVUFBVSx5RUFBa0I7QUFDNUI7QUFDQTtBQUNBLHNEQUFzRCxRQUFRO0FBQzlEO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsZ0RBQWUsb0NBQW9DLGdEQUFlO0FBQ25GO0FBQ0E7QUFDQTs7QUFFQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixRQUFRO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsUUFBUTtBQUN6QztBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTs7QUFFQTtBQUNBLCtEQUErRCxRQUFRO0FBQ3ZFO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvYXBpLmpzPzJkMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGlzRXF1YWwgZnJvbSAnZmFzdC1kZWVwLWVxdWFsJztcbmltcG9ydCBub3JtYWxpemUgZnJvbSAnQG1hcGJveC9nZW9qc29uLW5vcm1hbGl6ZSc7XG5pbXBvcnQge2dlbmVyYXRlSUR9IGZyb20gJy4vbGliL2lkLmpzJztcbmltcG9ydCBmZWF0dXJlc0F0IGZyb20gJy4vbGliL2ZlYXR1cmVzX2F0LmpzJztcbmltcG9ydCBzdHJpbmdTZXRzQXJlRXF1YWwgZnJvbSAnLi9saWIvc3RyaW5nX3NldHNfYXJlX2VxdWFsLmpzJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgU3RyaW5nU2V0IGZyb20gJy4vbGliL3N0cmluZ19zZXQuanMnO1xuXG5pbXBvcnQgUG9seWdvbiBmcm9tICcuL2ZlYXR1cmVfdHlwZXMvcG9seWdvbi5qcyc7XG5pbXBvcnQgTGluZVN0cmluZyBmcm9tICcuL2ZlYXR1cmVfdHlwZXMvbGluZV9zdHJpbmcuanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vZmVhdHVyZV90eXBlcy9wb2ludC5qcyc7XG5pbXBvcnQgTXVsdGlGZWF0dXJlIGZyb20gJy4vZmVhdHVyZV90eXBlcy9tdWx0aV9mZWF0dXJlLmpzJztcblxuY29uc3QgZmVhdHVyZVR5cGVzID0ge1xuICBQb2x5Z29uLFxuICBMaW5lU3RyaW5nLFxuICBQb2ludCxcbiAgTXVsdGlQb2x5Z29uOiBNdWx0aUZlYXR1cmUsXG4gIE11bHRpTGluZVN0cmluZzogTXVsdGlGZWF0dXJlLFxuICBNdWx0aVBvaW50OiBNdWx0aUZlYXR1cmVcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGN0eCwgYXBpKSB7XG4gIGFwaS5tb2RlcyA9IENvbnN0YW50cy5tb2RlcztcblxuICAvLyBBUEkgZG9lc24ndCBlbWl0IGV2ZW50cyBieSBkZWZhdWx0XG4gIGNvbnN0IHNpbGVudCA9IGN0eC5vcHRpb25zLnN1cHByZXNzQVBJRXZlbnRzICE9PSB1bmRlZmluZWQgPyAhIWN0eC5vcHRpb25zLnN1cHByZXNzQVBJRXZlbnRzIDogdHJ1ZTtcblxuICBhcGkuZ2V0RmVhdHVyZUlkc0F0ID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IGZlYXR1cmVzQXQuY2xpY2soeyBwb2ludCB9LCBudWxsLCBjdHgpO1xuICAgIHJldHVybiBmZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLnByb3BlcnRpZXMuaWQpO1xuICB9O1xuXG4gIGFwaS5nZXRTZWxlY3RlZElkcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjdHguc3RvcmUuZ2V0U2VsZWN0ZWRJZHMoKTtcbiAgfTtcblxuICBhcGkuZ2V0U2VsZWN0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFX0NPTExFQ1RJT04sXG4gICAgICBmZWF0dXJlczogY3R4LnN0b3JlLmdldFNlbGVjdGVkSWRzKCkubWFwKGlkID0+IGN0eC5zdG9yZS5nZXQoaWQpKS5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLnRvR2VvSlNPTigpKVxuICAgIH07XG4gIH07XG5cbiAgYXBpLmdldFNlbGVjdGVkUG9pbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuRkVBVFVSRV9DT0xMRUNUSU9OLFxuICAgICAgZmVhdHVyZXM6IGN0eC5zdG9yZS5nZXRTZWxlY3RlZENvb3JkaW5hdGVzKCkubWFwKGNvb3JkaW5hdGUgPT4gKHtcbiAgICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICB0eXBlOiBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPSU5ULFxuICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlLmNvb3JkaW5hdGVzXG4gICAgICAgIH1cbiAgICAgIH0pKVxuICAgIH07XG4gIH07XG5cbiAgYXBpLnNldCA9IGZ1bmN0aW9uKGZlYXR1cmVDb2xsZWN0aW9uKSB7XG4gICAgaWYgKGZlYXR1cmVDb2xsZWN0aW9uLnR5cGUgPT09IHVuZGVmaW5lZCB8fCBmZWF0dXJlQ29sbGVjdGlvbi50eXBlICE9PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLkZFQVRVUkVfQ09MTEVDVElPTiB8fCAhQXJyYXkuaXNBcnJheShmZWF0dXJlQ29sbGVjdGlvbi5mZWF0dXJlcykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBGZWF0dXJlQ29sbGVjdGlvbicpO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJCYXRjaCA9IGN0eC5zdG9yZS5jcmVhdGVSZW5kZXJCYXRjaCgpO1xuICAgIGxldCB0b0RlbGV0ZSA9IGN0eC5zdG9yZS5nZXRBbGxJZHMoKS5zbGljZSgpO1xuICAgIGNvbnN0IG5ld0lkcyA9IGFwaS5hZGQoZmVhdHVyZUNvbGxlY3Rpb24pO1xuICAgIGNvbnN0IG5ld0lkc0xvb2t1cCA9IG5ldyBTdHJpbmdTZXQobmV3SWRzKTtcblxuICAgIHRvRGVsZXRlID0gdG9EZWxldGUuZmlsdGVyKGlkID0+ICFuZXdJZHNMb29rdXAuaGFzKGlkKSk7XG4gICAgaWYgKHRvRGVsZXRlLmxlbmd0aCkge1xuICAgICAgYXBpLmRlbGV0ZSh0b0RlbGV0ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyQmF0Y2goKTtcbiAgICByZXR1cm4gbmV3SWRzO1xuICB9O1xuXG4gIGFwaS5hZGQgPSBmdW5jdGlvbihnZW9qc29uKSB7XG4gICAgY29uc3QgZmVhdHVyZUNvbGxlY3Rpb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG5vcm1hbGl6ZShnZW9qc29uKSkpO1xuXG4gICAgY29uc3QgaWRzID0gZmVhdHVyZUNvbGxlY3Rpb24uZmVhdHVyZXMubWFwKChmZWF0dXJlKSA9PiB7XG4gICAgICBmZWF0dXJlLmlkID0gZmVhdHVyZS5pZCB8fCBnZW5lcmF0ZUlEKCk7XG5cbiAgICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5ID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBnZW9tZXRyeTogbnVsbCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3R4LnN0b3JlLmdldChmZWF0dXJlLmlkKSA9PT0gdW5kZWZpbmVkIHx8IGN0eC5zdG9yZS5nZXQoZmVhdHVyZS5pZCkudHlwZSAhPT0gZmVhdHVyZS5nZW9tZXRyeS50eXBlKSB7XG4gICAgICAgIC8vIElmIHRoZSBmZWF0dXJlIGhhcyBub3QgeWV0IGJlZW4gY3JlYXRlZCAuLi5cbiAgICAgICAgY29uc3QgTW9kZWwgPSBmZWF0dXJlVHlwZXNbZmVhdHVyZS5nZW9tZXRyeS50eXBlXTtcbiAgICAgICAgaWYgKE1vZGVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZ2VvbWV0cnkgdHlwZTogJHtmZWF0dXJlLmdlb21ldHJ5LnR5cGV9LmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGludGVybmFsRmVhdHVyZSA9IG5ldyBNb2RlbChjdHgsIGZlYXR1cmUpO1xuICAgICAgICBjdHguc3RvcmUuYWRkKGludGVybmFsRmVhdHVyZSwgeyBzaWxlbnQgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiBhIGZlYXR1cmUgb2YgdGhhdCBpZCBoYXMgYWxyZWFkeSBiZWVuIGNyZWF0ZWQsIGFuZCB3ZSBhcmUgc3dhcHBpbmcgaXQgb3V0IC4uLlxuICAgICAgICBjb25zdCBpbnRlcm5hbEZlYXR1cmUgPSBjdHguc3RvcmUuZ2V0KGZlYXR1cmUuaWQpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbFByb3BlcnRpZXMgPSBpbnRlcm5hbEZlYXR1cmUucHJvcGVydGllcztcbiAgICAgICAgaW50ZXJuYWxGZWF0dXJlLnByb3BlcnRpZXMgPSBmZWF0dXJlLnByb3BlcnRpZXM7XG4gICAgICAgIGlmICghaXNFcXVhbChvcmlnaW5hbFByb3BlcnRpZXMsIGZlYXR1cmUucHJvcGVydGllcykpIHtcbiAgICAgICAgICBjdHguc3RvcmUuZmVhdHVyZUNoYW5nZWQoaW50ZXJuYWxGZWF0dXJlLmlkLCB7IHNpbGVudCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoaW50ZXJuYWxGZWF0dXJlLmdldENvb3JkaW5hdGVzKCksIGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpKSB7XG4gICAgICAgICAgaW50ZXJuYWxGZWF0dXJlLmluY29taW5nQ29vcmRzKGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmVhdHVyZS5pZDtcbiAgICB9KTtcblxuICAgIGN0eC5zdG9yZS5yZW5kZXIoKTtcbiAgICByZXR1cm4gaWRzO1xuICB9O1xuXG5cbiAgYXBpLmdldCA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgY29uc3QgZmVhdHVyZSA9IGN0eC5zdG9yZS5nZXQoaWQpO1xuICAgIGlmIChmZWF0dXJlKSB7XG4gICAgICByZXR1cm4gZmVhdHVyZS50b0dlb0pTT04oKTtcbiAgICB9XG4gIH07XG5cbiAgYXBpLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBDb25zdGFudHMuZ2VvanNvblR5cGVzLkZFQVRVUkVfQ09MTEVDVElPTixcbiAgICAgIGZlYXR1cmVzOiBjdHguc3RvcmUuZ2V0QWxsKCkubWFwKGZlYXR1cmUgPT4gZmVhdHVyZS50b0dlb0pTT04oKSlcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5kZWxldGUgPSBmdW5jdGlvbihmZWF0dXJlSWRzKSB7XG4gICAgY3R4LnN0b3JlLmRlbGV0ZShmZWF0dXJlSWRzLCB7IHNpbGVudCB9KTtcbiAgICAvLyBJZiB3ZSB3ZXJlIGluIGRpcmVjdCBzZWxlY3QgbW9kZSBhbmQgb3VyIHNlbGVjdGVkIGZlYXR1cmUgbm8gbG9uZ2VyIGV4aXN0c1xuICAgIC8vIChiZWNhdXNlIGl0IHdhcyBkZWxldGVkKSwgd2UgbmVlZCB0byBnZXQgb3V0IG9mIHRoYXQgbW9kZS5cbiAgICBpZiAoYXBpLmdldE1vZGUoKSA9PT0gQ29uc3RhbnRzLm1vZGVzLkRJUkVDVF9TRUxFQ1QgJiYgIWN0eC5zdG9yZS5nZXRTZWxlY3RlZElkcygpLmxlbmd0aCkge1xuICAgICAgY3R4LmV2ZW50cy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5TSU1QTEVfU0VMRUNULCB1bmRlZmluZWQsIHsgc2lsZW50IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHguc3RvcmUucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICBhcGkuZGVsZXRlQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgY3R4LnN0b3JlLmRlbGV0ZShjdHguc3RvcmUuZ2V0QWxsSWRzKCksIHsgc2lsZW50IH0pO1xuICAgIC8vIElmIHdlIHdlcmUgaW4gZGlyZWN0IHNlbGVjdCBtb2RlLCBub3cgb3VyIHNlbGVjdGVkIGZlYXR1cmUgbm8gbG9uZ2VyIGV4aXN0cyxcbiAgICAvLyBzbyBlc2NhcGUgdGhhdCBtb2RlLlxuICAgIGlmIChhcGkuZ2V0TW9kZSgpID09PSBDb25zdGFudHMubW9kZXMuRElSRUNUX1NFTEVDVCkge1xuICAgICAgY3R4LmV2ZW50cy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5TSU1QTEVfU0VMRUNULCB1bmRlZmluZWQsIHsgc2lsZW50IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHguc3RvcmUucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICBhcGkuY2hhbmdlTW9kZSA9IGZ1bmN0aW9uKG1vZGUsIG1vZGVPcHRpb25zID0ge30pIHtcbiAgICAvLyBBdm9pZCBjaGFuZ2luZyBtb2RlcyBqdXN0IHRvIHJlLXNlbGVjdCB3aGF0J3MgYWxyZWFkeSBzZWxlY3RlZFxuICAgIGlmIChtb2RlID09PSBDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCAmJiBhcGkuZ2V0TW9kZSgpID09PSBDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCkge1xuICAgICAgaWYgKHN0cmluZ1NldHNBcmVFcXVhbCgobW9kZU9wdGlvbnMuZmVhdHVyZUlkcyB8fCBbXSksIGN0eC5zdG9yZS5nZXRTZWxlY3RlZElkcygpKSkgcmV0dXJuIGFwaTtcbiAgICAgIC8vIEFuZCBpZiB3ZSBhcmUgY2hhbmdpbmcgdGhlIHNlbGVjdGlvbiB3aXRoaW4gc2ltcGxlX3NlbGVjdCBtb2RlLCBqdXN0IGNoYW5nZSB0aGUgc2VsZWN0aW9uLFxuICAgICAgLy8gaW5zdGVhZCBvZiBzdG9wcGluZyBhbmQgcmUtc3RhcnRpbmcgdGhlIG1vZGVcbiAgICAgIGN0eC5zdG9yZS5zZXRTZWxlY3RlZChtb2RlT3B0aW9ucy5mZWF0dXJlSWRzLCB7IHNpbGVudCB9KTtcbiAgICAgIGN0eC5zdG9yZS5yZW5kZXIoKTtcbiAgICAgIHJldHVybiBhcGk7XG4gICAgfVxuXG4gICAgaWYgKG1vZGUgPT09IENvbnN0YW50cy5tb2Rlcy5ESVJFQ1RfU0VMRUNUICYmIGFwaS5nZXRNb2RlKCkgPT09IENvbnN0YW50cy5tb2Rlcy5ESVJFQ1RfU0VMRUNUICYmXG4gICAgICBtb2RlT3B0aW9ucy5mZWF0dXJlSWQgPT09IGN0eC5zdG9yZS5nZXRTZWxlY3RlZElkcygpWzBdKSB7XG4gICAgICByZXR1cm4gYXBpO1xuICAgIH1cblxuICAgIGN0eC5ldmVudHMuY2hhbmdlTW9kZShtb2RlLCBtb2RlT3B0aW9ucywgeyBzaWxlbnQgfSk7XG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICBhcGkuZ2V0TW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjdHguZXZlbnRzLmdldE1vZGUoKTtcbiAgfTtcblxuICBhcGkudHJhc2ggPSBmdW5jdGlvbigpIHtcbiAgICBjdHguZXZlbnRzLnRyYXNoKHsgc2lsZW50IH0pO1xuICAgIHJldHVybiBhcGk7XG4gIH07XG5cbiAgYXBpLmNvbWJpbmVGZWF0dXJlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGN0eC5ldmVudHMuY29tYmluZUZlYXR1cmVzKHsgc2lsZW50IH0pO1xuICAgIHJldHVybiBhcGk7XG4gIH07XG5cbiAgYXBpLnVuY29tYmluZUZlYXR1cmVzID0gZnVuY3Rpb24oKSB7XG4gICAgY3R4LmV2ZW50cy51bmNvbWJpbmVGZWF0dXJlcyh7IHNpbGVudCB9KTtcbiAgICByZXR1cm4gYXBpO1xuICB9O1xuXG4gIGFwaS5zZXRGZWF0dXJlUHJvcGVydHkgPSBmdW5jdGlvbihmZWF0dXJlSWQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIGN0eC5zdG9yZS5zZXRGZWF0dXJlUHJvcGVydHkoZmVhdHVyZUlkLCBwcm9wZXJ0eSwgdmFsdWUsIHsgc2lsZW50IH0pO1xuICAgIHJldHVybiBhcGk7XG4gIH07XG5cbiAgcmV0dXJuIGFwaTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/api.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/constants.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LAT_MAX: () => (/* binding */ LAT_MAX),\n/* harmony export */   LAT_MIN: () => (/* binding */ LAT_MIN),\n/* harmony export */   LAT_RENDERED_MAX: () => (/* binding */ LAT_RENDERED_MAX),\n/* harmony export */   LAT_RENDERED_MIN: () => (/* binding */ LAT_RENDERED_MIN),\n/* harmony export */   LNG_MAX: () => (/* binding */ LNG_MAX),\n/* harmony export */   LNG_MIN: () => (/* binding */ LNG_MIN),\n/* harmony export */   activeStates: () => (/* binding */ activeStates),\n/* harmony export */   classes: () => (/* binding */ classes),\n/* harmony export */   cursors: () => (/* binding */ cursors),\n/* harmony export */   events: () => (/* binding */ events),\n/* harmony export */   geojsonTypes: () => (/* binding */ geojsonTypes),\n/* harmony export */   interactions: () => (/* binding */ interactions),\n/* harmony export */   meta: () => (/* binding */ meta),\n/* harmony export */   modes: () => (/* binding */ modes),\n/* harmony export */   sources: () => (/* binding */ sources),\n/* harmony export */   types: () => (/* binding */ types),\n/* harmony export */   updateActions: () => (/* binding */ updateActions)\n/* harmony export */ });\nconst classes = {\n  CANVAS: 'mapboxgl-canvas',\n  CONTROL_BASE: 'mapboxgl-ctrl',\n  CONTROL_PREFIX: 'mapboxgl-ctrl-',\n  CONTROL_BUTTON: 'mapbox-gl-draw_ctrl-draw-btn',\n  CONTROL_BUTTON_LINE: 'mapbox-gl-draw_line',\n  CONTROL_BUTTON_POLYGON: 'mapbox-gl-draw_polygon',\n  CONTROL_BUTTON_POINT: 'mapbox-gl-draw_point',\n  CONTROL_BUTTON_TRASH: 'mapbox-gl-draw_trash',\n  CONTROL_BUTTON_COMBINE_FEATURES: 'mapbox-gl-draw_combine',\n  CONTROL_BUTTON_UNCOMBINE_FEATURES: 'mapbox-gl-draw_uncombine',\n  CONTROL_GROUP: 'mapboxgl-ctrl-group',\n  ATTRIBUTION: 'mapboxgl-ctrl-attrib',\n  ACTIVE_BUTTON: 'active',\n  BOX_SELECT: 'mapbox-gl-draw_boxselect'\n};\n\nconst sources = {\n  HOT: 'mapbox-gl-draw-hot',\n  COLD: 'mapbox-gl-draw-cold'\n};\n\nconst cursors = {\n  ADD: 'add',\n  MOVE: 'move',\n  DRAG: 'drag',\n  POINTER: 'pointer',\n  NONE: 'none'\n};\n\nconst types = {\n  POLYGON: 'polygon',\n  LINE: 'line_string',\n  POINT: 'point'\n};\n\nconst geojsonTypes = {\n  FEATURE: 'Feature',\n  POLYGON: 'Polygon',\n  LINE_STRING: 'LineString',\n  POINT: 'Point',\n  FEATURE_COLLECTION: 'FeatureCollection',\n  MULTI_PREFIX: 'Multi',\n  MULTI_POINT: 'MultiPoint',\n  MULTI_LINE_STRING: 'MultiLineString',\n  MULTI_POLYGON: 'MultiPolygon'\n};\n\nconst modes = {\n  DRAW_LINE_STRING: 'draw_line_string',\n  DRAW_POLYGON: 'draw_polygon',\n  DRAW_POINT: 'draw_point',\n  SIMPLE_SELECT: 'simple_select',\n  DIRECT_SELECT: 'direct_select'\n};\n\nconst events = {\n  CREATE: 'draw.create',\n  DELETE: 'draw.delete',\n  UPDATE: 'draw.update',\n  SELECTION_CHANGE: 'draw.selectionchange',\n  MODE_CHANGE: 'draw.modechange',\n  ACTIONABLE: 'draw.actionable',\n  RENDER: 'draw.render',\n  COMBINE_FEATURES: 'draw.combine',\n  UNCOMBINE_FEATURES: 'draw.uncombine'\n};\n\nconst updateActions = {\n  MOVE: 'move',\n  CHANGE_PROPERTIES: 'change_properties',\n  CHANGE_COORDINATES: 'change_coordinates'\n};\n\nconst meta = {\n  FEATURE: 'feature',\n  MIDPOINT: 'midpoint',\n  VERTEX: 'vertex'\n};\n\nconst activeStates = {\n  ACTIVE: 'true',\n  INACTIVE: 'false'\n};\n\nconst interactions = [\n  'scrollZoom',\n  'boxZoom',\n  'dragRotate',\n  'dragPan',\n  'keyboard',\n  'doubleClickZoom',\n  'touchZoomRotate'\n];\n\nconst LAT_MIN = -90;\nconst LAT_RENDERED_MIN = -85;\nconst LAT_MAX = 90;\nconst LAT_RENDERED_MAX = 85;\nconst LNG_MIN = -270;\nconst LNG_MAX = 270;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2NvbnN0YW50cy5qcz8zNGUxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjbGFzc2VzID0ge1xuICBDQU5WQVM6ICdtYXBib3hnbC1jYW52YXMnLFxuICBDT05UUk9MX0JBU0U6ICdtYXBib3hnbC1jdHJsJyxcbiAgQ09OVFJPTF9QUkVGSVg6ICdtYXBib3hnbC1jdHJsLScsXG4gIENPTlRST0xfQlVUVE9OOiAnbWFwYm94LWdsLWRyYXdfY3RybC1kcmF3LWJ0bicsXG4gIENPTlRST0xfQlVUVE9OX0xJTkU6ICdtYXBib3gtZ2wtZHJhd19saW5lJyxcbiAgQ09OVFJPTF9CVVRUT05fUE9MWUdPTjogJ21hcGJveC1nbC1kcmF3X3BvbHlnb24nLFxuICBDT05UUk9MX0JVVFRPTl9QT0lOVDogJ21hcGJveC1nbC1kcmF3X3BvaW50JyxcbiAgQ09OVFJPTF9CVVRUT05fVFJBU0g6ICdtYXBib3gtZ2wtZHJhd190cmFzaCcsXG4gIENPTlRST0xfQlVUVE9OX0NPTUJJTkVfRkVBVFVSRVM6ICdtYXBib3gtZ2wtZHJhd19jb21iaW5lJyxcbiAgQ09OVFJPTF9CVVRUT05fVU5DT01CSU5FX0ZFQVRVUkVTOiAnbWFwYm94LWdsLWRyYXdfdW5jb21iaW5lJyxcbiAgQ09OVFJPTF9HUk9VUDogJ21hcGJveGdsLWN0cmwtZ3JvdXAnLFxuICBBVFRSSUJVVElPTjogJ21hcGJveGdsLWN0cmwtYXR0cmliJyxcbiAgQUNUSVZFX0JVVFRPTjogJ2FjdGl2ZScsXG4gIEJPWF9TRUxFQ1Q6ICdtYXBib3gtZ2wtZHJhd19ib3hzZWxlY3QnXG59O1xuXG5leHBvcnQgY29uc3Qgc291cmNlcyA9IHtcbiAgSE9UOiAnbWFwYm94LWdsLWRyYXctaG90JyxcbiAgQ09MRDogJ21hcGJveC1nbC1kcmF3LWNvbGQnXG59O1xuXG5leHBvcnQgY29uc3QgY3Vyc29ycyA9IHtcbiAgQUREOiAnYWRkJyxcbiAgTU9WRTogJ21vdmUnLFxuICBEUkFHOiAnZHJhZycsXG4gIFBPSU5URVI6ICdwb2ludGVyJyxcbiAgTk9ORTogJ25vbmUnXG59O1xuXG5leHBvcnQgY29uc3QgdHlwZXMgPSB7XG4gIFBPTFlHT046ICdwb2x5Z29uJyxcbiAgTElORTogJ2xpbmVfc3RyaW5nJyxcbiAgUE9JTlQ6ICdwb2ludCdcbn07XG5cbmV4cG9ydCBjb25zdCBnZW9qc29uVHlwZXMgPSB7XG4gIEZFQVRVUkU6ICdGZWF0dXJlJyxcbiAgUE9MWUdPTjogJ1BvbHlnb24nLFxuICBMSU5FX1NUUklORzogJ0xpbmVTdHJpbmcnLFxuICBQT0lOVDogJ1BvaW50JyxcbiAgRkVBVFVSRV9DT0xMRUNUSU9OOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICBNVUxUSV9QUkVGSVg6ICdNdWx0aScsXG4gIE1VTFRJX1BPSU5UOiAnTXVsdGlQb2ludCcsXG4gIE1VTFRJX0xJTkVfU1RSSU5HOiAnTXVsdGlMaW5lU3RyaW5nJyxcbiAgTVVMVElfUE9MWUdPTjogJ011bHRpUG9seWdvbidcbn07XG5cbmV4cG9ydCBjb25zdCBtb2RlcyA9IHtcbiAgRFJBV19MSU5FX1NUUklORzogJ2RyYXdfbGluZV9zdHJpbmcnLFxuICBEUkFXX1BPTFlHT046ICdkcmF3X3BvbHlnb24nLFxuICBEUkFXX1BPSU5UOiAnZHJhd19wb2ludCcsXG4gIFNJTVBMRV9TRUxFQ1Q6ICdzaW1wbGVfc2VsZWN0JyxcbiAgRElSRUNUX1NFTEVDVDogJ2RpcmVjdF9zZWxlY3QnXG59O1xuXG5leHBvcnQgY29uc3QgZXZlbnRzID0ge1xuICBDUkVBVEU6ICdkcmF3LmNyZWF0ZScsXG4gIERFTEVURTogJ2RyYXcuZGVsZXRlJyxcbiAgVVBEQVRFOiAnZHJhdy51cGRhdGUnLFxuICBTRUxFQ1RJT05fQ0hBTkdFOiAnZHJhdy5zZWxlY3Rpb25jaGFuZ2UnLFxuICBNT0RFX0NIQU5HRTogJ2RyYXcubW9kZWNoYW5nZScsXG4gIEFDVElPTkFCTEU6ICdkcmF3LmFjdGlvbmFibGUnLFxuICBSRU5ERVI6ICdkcmF3LnJlbmRlcicsXG4gIENPTUJJTkVfRkVBVFVSRVM6ICdkcmF3LmNvbWJpbmUnLFxuICBVTkNPTUJJTkVfRkVBVFVSRVM6ICdkcmF3LnVuY29tYmluZSdcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVBY3Rpb25zID0ge1xuICBNT1ZFOiAnbW92ZScsXG4gIENIQU5HRV9QUk9QRVJUSUVTOiAnY2hhbmdlX3Byb3BlcnRpZXMnLFxuICBDSEFOR0VfQ09PUkRJTkFURVM6ICdjaGFuZ2VfY29vcmRpbmF0ZXMnXG59O1xuXG5leHBvcnQgY29uc3QgbWV0YSA9IHtcbiAgRkVBVFVSRTogJ2ZlYXR1cmUnLFxuICBNSURQT0lOVDogJ21pZHBvaW50JyxcbiAgVkVSVEVYOiAndmVydGV4J1xufTtcblxuZXhwb3J0IGNvbnN0IGFjdGl2ZVN0YXRlcyA9IHtcbiAgQUNUSVZFOiAndHJ1ZScsXG4gIElOQUNUSVZFOiAnZmFsc2UnXG59O1xuXG5leHBvcnQgY29uc3QgaW50ZXJhY3Rpb25zID0gW1xuICAnc2Nyb2xsWm9vbScsXG4gICdib3hab29tJyxcbiAgJ2RyYWdSb3RhdGUnLFxuICAnZHJhZ1BhbicsXG4gICdrZXlib2FyZCcsXG4gICdkb3VibGVDbGlja1pvb20nLFxuICAndG91Y2hab29tUm90YXRlJ1xuXTtcblxuZXhwb3J0IGNvbnN0IExBVF9NSU4gPSAtOTA7XG5leHBvcnQgY29uc3QgTEFUX1JFTkRFUkVEX01JTiA9IC04NTtcbmV4cG9ydCBjb25zdCBMQVRfTUFYID0gOTA7XG5leHBvcnQgY29uc3QgTEFUX1JFTkRFUkVEX01BWCA9IDg1O1xuZXhwb3J0IGNvbnN0IExOR19NSU4gPSAtMjcwO1xuZXhwb3J0IGNvbnN0IExOR19NQVggPSAyNzA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/events.js":
/*!***********************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/events.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_mode_handler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/mode_handler.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/mode_handler.js\");\n/* harmony import */ var _lib_get_features_and_set_cursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/get_features_and_set_cursor.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/get_features_and_set_cursor.js\");\n/* harmony import */ var _lib_features_at_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/features_at.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js\");\n/* harmony import */ var _lib_is_click_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/is_click.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_click.js\");\n/* harmony import */ var _lib_is_tap_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/is_tap.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_tap.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _modes_object_to_mode_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modes/object_to_mode.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/object_to_mode.js\");\n\n\n\n\n\n\n\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(ctx) {\n\n  const modes = Object.keys(ctx.options.modes).reduce((m, k) => {\n    m[k] = (0,_modes_object_to_mode_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ctx.options.modes[k]);\n    return m;\n  }, {});\n\n  let mouseDownInfo = {};\n  let touchStartInfo = {};\n  const events = {};\n  let currentModeName = null;\n  let currentMode = null;\n\n  events.drag = function(event, isDrag) {\n    if (isDrag({\n      point: event.point,\n      time: new Date().getTime()\n    })) {\n      ctx.ui.queueMapClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_5__.cursors.DRAG });\n      currentMode.drag(event);\n    } else {\n      event.originalEvent.stopPropagation();\n    }\n  };\n\n  events.mousedrag = function(event) {\n    events.drag(event, endInfo => !(0,_lib_is_click_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(mouseDownInfo, endInfo));\n  };\n\n  events.touchdrag = function(event) {\n    events.drag(event, endInfo => !(0,_lib_is_tap_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(touchStartInfo, endInfo));\n  };\n\n  events.mousemove = function(event) {\n    const button = event.originalEvent.buttons !== undefined ? event.originalEvent.buttons : event.originalEvent.which;\n    if (button === 1) {\n      return events.mousedrag(event);\n    }\n    const target = (0,_lib_get_features_and_set_cursor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(event, ctx);\n    event.featureTarget = target;\n    currentMode.mousemove(event);\n  };\n\n  events.mousedown = function(event) {\n    mouseDownInfo = {\n      time: new Date().getTime(),\n      point: event.point\n    };\n    const target = (0,_lib_get_features_and_set_cursor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(event, ctx);\n    event.featureTarget = target;\n    currentMode.mousedown(event);\n  };\n\n  events.mouseup = function(event) {\n    const target = (0,_lib_get_features_and_set_cursor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(event, ctx);\n    event.featureTarget = target;\n\n    if ((0,_lib_is_click_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(mouseDownInfo, {\n      point: event.point,\n      time: new Date().getTime()\n    })) {\n      currentMode.click(event);\n    } else {\n      currentMode.mouseup(event);\n    }\n  };\n\n  events.mouseout = function(event) {\n    currentMode.mouseout(event);\n  };\n\n  events.touchstart = function(event) {\n    if (!ctx.options.touchEnabled) {\n      return;\n    }\n\n    touchStartInfo = {\n      time: new Date().getTime(),\n      point: event.point\n    };\n    const target = _lib_features_at_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].touch(event, null, ctx)[0];\n    event.featureTarget = target;\n    currentMode.touchstart(event);\n  };\n\n  events.touchmove = function(event) {\n    if (!ctx.options.touchEnabled) {\n      return;\n    }\n\n    currentMode.touchmove(event);\n    return events.touchdrag(event);\n  };\n\n  events.touchend = function(event) {\n    // Prevent emulated mouse events because we will fully handle the touch here.\n    // This does not stop the touch events from propogating to mapbox though.\n    event.originalEvent.preventDefault();\n    if (!ctx.options.touchEnabled) {\n      return;\n    }\n\n    const target = _lib_features_at_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].touch(event, null, ctx)[0];\n    event.featureTarget = target;\n    if ((0,_lib_is_tap_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(touchStartInfo, {\n      time: new Date().getTime(),\n      point: event.point\n    })) {\n      currentMode.tap(event);\n    } else {\n      currentMode.touchend(event);\n    }\n  };\n\n  // 8 - Backspace\n  // 46 - Delete\n  const isKeyModeValid = code => !(code === 8 || code === 46 || (code >= 48 && code <= 57));\n\n  events.keydown = function(event) {\n    const isMapElement = (event.srcElement || event.target).classList.contains(_constants_js__WEBPACK_IMPORTED_MODULE_5__.classes.CANVAS);\n    if (!isMapElement) return; // we only handle events on the map\n\n    if ((event.keyCode === 8 || event.keyCode === 46) && ctx.options.controls.trash) {\n      event.preventDefault();\n      currentMode.trash();\n    } else if (isKeyModeValid(event.keyCode)) {\n      currentMode.keydown(event);\n    } else if (event.keyCode === 49 && ctx.options.controls.point) {\n      changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.DRAW_POINT);\n    } else if (event.keyCode === 50 && ctx.options.controls.line_string) {\n      changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.DRAW_LINE_STRING);\n    } else if (event.keyCode === 51 && ctx.options.controls.polygon) {\n      changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_5__.modes.DRAW_POLYGON);\n    }\n  };\n\n  events.keyup = function(event) {\n    if (isKeyModeValid(event.keyCode)) {\n      currentMode.keyup(event);\n    }\n  };\n\n  events.zoomend = function() {\n    ctx.store.changeZoom();\n  };\n\n  events.data = function(event) {\n    if (event.dataType === 'style') {\n      const { setup, map, options, store } = ctx;\n      const hasLayers = options.styles.some(style => map.getLayer(style.id));\n      if (!hasLayers) {\n        setup.addLayers();\n        store.setDirty();\n        store.render();\n      }\n    }\n  };\n\n  function changeMode(modename, nextModeOptions, eventOptions = {}) {\n    currentMode.stop();\n\n    const modebuilder = modes[modename];\n    if (modebuilder === undefined) {\n      throw new Error(`${modename} is not valid`);\n    }\n    currentModeName = modename;\n    const mode = modebuilder(ctx, nextModeOptions);\n    currentMode = (0,_lib_mode_handler_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(mode, ctx);\n\n    if (!eventOptions.silent) {\n      ctx.map.fire(_constants_js__WEBPACK_IMPORTED_MODULE_5__.events.MODE_CHANGE, { mode: modename});\n    }\n\n    ctx.store.setDirty();\n    ctx.store.render();\n  }\n\n  const actionState = {\n    trash: false,\n    combineFeatures: false,\n    uncombineFeatures: false\n  };\n\n  function actionable(actions) {\n    let changed = false;\n    Object.keys(actions).forEach((action) => {\n      if (actionState[action] === undefined) throw new Error('Invalid action type');\n      if (actionState[action] !== actions[action]) changed = true;\n      actionState[action] = actions[action];\n    });\n    if (changed) ctx.map.fire(_constants_js__WEBPACK_IMPORTED_MODULE_5__.events.ACTIONABLE, { actions: actionState });\n  }\n\n  const api = {\n    start() {\n      currentModeName = ctx.options.defaultMode;\n      currentMode = (0,_lib_mode_handler_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(modes[currentModeName](ctx), ctx);\n    },\n    changeMode,\n    actionable,\n    currentModeName() {\n      return currentModeName;\n    },\n    currentModeRender(geojson, push) {\n      return currentMode.render(geojson, push);\n    },\n    fire(eventName, eventData) {\n      if (!ctx.map) return;\n      ctx.map.fire(eventName, eventData);\n    },\n    addEventListeners() {\n      ctx.map.on('mousemove', events.mousemove);\n      ctx.map.on('mousedown', events.mousedown);\n      ctx.map.on('mouseup', events.mouseup);\n      ctx.map.on('data', events.data);\n\n      ctx.map.on('touchmove', events.touchmove);\n      ctx.map.on('touchstart', events.touchstart);\n      ctx.map.on('touchend', events.touchend);\n\n      ctx.container.addEventListener('mouseout', events.mouseout);\n\n      if (ctx.options.keybindings) {\n        ctx.container.addEventListener('keydown', events.keydown);\n        ctx.container.addEventListener('keyup', events.keyup);\n      }\n    },\n    removeEventListeners() {\n      ctx.map.off('mousemove', events.mousemove);\n      ctx.map.off('mousedown', events.mousedown);\n      ctx.map.off('mouseup', events.mouseup);\n      ctx.map.off('data', events.data);\n\n      ctx.map.off('touchmove', events.touchmove);\n      ctx.map.off('touchstart', events.touchstart);\n      ctx.map.off('touchend', events.touchend);\n\n      ctx.container.removeEventListener('mouseout', events.mouseout);\n\n      if (ctx.options.keybindings) {\n        ctx.container.removeEventListener('keydown', events.keydown);\n        ctx.container.removeEventListener('keyup', events.keyup);\n      }\n    },\n    trash(options) {\n      currentMode.trash(options);\n    },\n    combineFeatures() {\n      currentMode.combineFeatures();\n    },\n    uncombineFeatures() {\n      currentMode.uncombineFeatures();\n    },\n    getMode() {\n      return currentModeName;\n    }\n  };\n\n  return api;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvZXZlbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ3NCO0FBQzdCO0FBQ047QUFDSjtBQUNRO0FBQ1M7O0FBRXJELDZCQUFlLG9DQUFTOztBQUV4QjtBQUNBLFdBQVcsb0VBQVk7QUFDdkI7QUFDQSxHQUFHLElBQUk7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwrQkFBK0IsT0FBTyxrREFBaUIsT0FBTztBQUM5RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUMsNERBQU87QUFDMUM7O0FBRUE7QUFDQSxtQ0FBbUMsMERBQUs7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrRUFBdUI7QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0VBQXVCO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQiwrRUFBdUI7QUFDMUM7O0FBRUEsUUFBUSw0REFBTztBQUNmO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyREFBVTtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQiwyREFBVTtBQUM3QjtBQUNBLFFBQVEsMERBQUs7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrRUFBK0Usa0RBQWlCO0FBQ2hHLCtCQUErQjs7QUFFL0I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOLGlCQUFpQixnREFBZTtBQUNoQyxNQUFNO0FBQ04saUJBQWlCLGdEQUFlO0FBQ2hDLE1BQU07QUFDTixpQkFBaUIsZ0RBQWU7QUFDaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyw2QkFBNkI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrRUFBa0U7QUFDbEU7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnRUFBZ0I7O0FBRWxDO0FBQ0EsbUJBQW1CLGlEQUFnQixnQkFBZ0IsZUFBZTtBQUNsRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOEJBQThCLGlEQUFnQixlQUFlLHNCQUFzQjtBQUNuRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0VBQWdCO0FBQ3BDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9ldmVudHMuanM/MTljNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2V0dXBNb2RlSGFuZGxlciBmcm9tICcuL2xpYi9tb2RlX2hhbmRsZXIuanMnO1xuaW1wb3J0IGdldEZlYXR1cmVzQW5kU2V0Q3Vyc29yIGZyb20gJy4vbGliL2dldF9mZWF0dXJlc19hbmRfc2V0X2N1cnNvci5qcyc7XG5pbXBvcnQgZmVhdHVyZXNBdCBmcm9tICcuL2xpYi9mZWF0dXJlc19hdC5qcyc7XG5pbXBvcnQgaXNDbGljayBmcm9tICcuL2xpYi9pc19jbGljay5qcyc7XG5pbXBvcnQgaXNUYXAgZnJvbSAnLi9saWIvaXNfdGFwLmpzJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgb2JqZWN0VG9Nb2RlIGZyb20gJy4vbW9kZXMvb2JqZWN0X3RvX21vZGUuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjdHgpIHtcblxuICBjb25zdCBtb2RlcyA9IE9iamVjdC5rZXlzKGN0eC5vcHRpb25zLm1vZGVzKS5yZWR1Y2UoKG0sIGspID0+IHtcbiAgICBtW2tdID0gb2JqZWN0VG9Nb2RlKGN0eC5vcHRpb25zLm1vZGVzW2tdKTtcbiAgICByZXR1cm4gbTtcbiAgfSwge30pO1xuXG4gIGxldCBtb3VzZURvd25JbmZvID0ge307XG4gIGxldCB0b3VjaFN0YXJ0SW5mbyA9IHt9O1xuICBjb25zdCBldmVudHMgPSB7fTtcbiAgbGV0IGN1cnJlbnRNb2RlTmFtZSA9IG51bGw7XG4gIGxldCBjdXJyZW50TW9kZSA9IG51bGw7XG5cbiAgZXZlbnRzLmRyYWcgPSBmdW5jdGlvbihldmVudCwgaXNEcmFnKSB7XG4gICAgaWYgKGlzRHJhZyh7XG4gICAgICBwb2ludDogZXZlbnQucG9pbnQsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgIH0pKSB7XG4gICAgICBjdHgudWkucXVldWVNYXBDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLkRSQUcgfSk7XG4gICAgICBjdXJyZW50TW9kZS5kcmFnKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgZXZlbnRzLm1vdXNlZHJhZyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnRzLmRyYWcoZXZlbnQsIGVuZEluZm8gPT4gIWlzQ2xpY2sobW91c2VEb3duSW5mbywgZW5kSW5mbykpO1xuICB9O1xuXG4gIGV2ZW50cy50b3VjaGRyYWcgPSBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50cy5kcmFnKGV2ZW50LCBlbmRJbmZvID0+ICFpc1RhcCh0b3VjaFN0YXJ0SW5mbywgZW5kSW5mbykpO1xuICB9O1xuXG4gIGV2ZW50cy5tb3VzZW1vdmUgPSBmdW5jdGlvbihldmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQuYnV0dG9ucyAhPT0gdW5kZWZpbmVkID8gZXZlbnQub3JpZ2luYWxFdmVudC5idXR0b25zIDogZXZlbnQub3JpZ2luYWxFdmVudC53aGljaDtcbiAgICBpZiAoYnV0dG9uID09PSAxKSB7XG4gICAgICByZXR1cm4gZXZlbnRzLm1vdXNlZHJhZyhldmVudCk7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IGdldEZlYXR1cmVzQW5kU2V0Q3Vyc29yKGV2ZW50LCBjdHgpO1xuICAgIGV2ZW50LmZlYXR1cmVUYXJnZXQgPSB0YXJnZXQ7XG4gICAgY3VycmVudE1vZGUubW91c2Vtb3ZlKGV2ZW50KTtcbiAgfTtcblxuICBldmVudHMubW91c2Vkb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBtb3VzZURvd25JbmZvID0ge1xuICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBwb2ludDogZXZlbnQucG9pbnRcbiAgICB9O1xuICAgIGNvbnN0IHRhcmdldCA9IGdldEZlYXR1cmVzQW5kU2V0Q3Vyc29yKGV2ZW50LCBjdHgpO1xuICAgIGV2ZW50LmZlYXR1cmVUYXJnZXQgPSB0YXJnZXQ7XG4gICAgY3VycmVudE1vZGUubW91c2Vkb3duKGV2ZW50KTtcbiAgfTtcblxuICBldmVudHMubW91c2V1cCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0RmVhdHVyZXNBbmRTZXRDdXJzb3IoZXZlbnQsIGN0eCk7XG4gICAgZXZlbnQuZmVhdHVyZVRhcmdldCA9IHRhcmdldDtcblxuICAgIGlmIChpc0NsaWNrKG1vdXNlRG93bkluZm8sIHtcbiAgICAgIHBvaW50OiBldmVudC5wb2ludCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgfSkpIHtcbiAgICAgIGN1cnJlbnRNb2RlLmNsaWNrKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudE1vZGUubW91c2V1cChldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIGV2ZW50cy5tb3VzZW91dCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY3VycmVudE1vZGUubW91c2VvdXQoZXZlbnQpO1xuICB9O1xuXG4gIGV2ZW50cy50b3VjaHN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoIWN0eC5vcHRpb25zLnRvdWNoRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRvdWNoU3RhcnRJbmZvID0ge1xuICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBwb2ludDogZXZlbnQucG9pbnRcbiAgICB9O1xuICAgIGNvbnN0IHRhcmdldCA9IGZlYXR1cmVzQXQudG91Y2goZXZlbnQsIG51bGwsIGN0eClbMF07XG4gICAgZXZlbnQuZmVhdHVyZVRhcmdldCA9IHRhcmdldDtcbiAgICBjdXJyZW50TW9kZS50b3VjaHN0YXJ0KGV2ZW50KTtcbiAgfTtcblxuICBldmVudHMudG91Y2htb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoIWN0eC5vcHRpb25zLnRvdWNoRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGN1cnJlbnRNb2RlLnRvdWNobW92ZShldmVudCk7XG4gICAgcmV0dXJuIGV2ZW50cy50b3VjaGRyYWcoZXZlbnQpO1xuICB9O1xuXG4gIGV2ZW50cy50b3VjaGVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gUHJldmVudCBlbXVsYXRlZCBtb3VzZSBldmVudHMgYmVjYXVzZSB3ZSB3aWxsIGZ1bGx5IGhhbmRsZSB0aGUgdG91Y2ggaGVyZS5cbiAgICAvLyBUaGlzIGRvZXMgbm90IHN0b3AgdGhlIHRvdWNoIGV2ZW50cyBmcm9tIHByb3BvZ2F0aW5nIHRvIG1hcGJveCB0aG91Z2guXG4gICAgZXZlbnQub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghY3R4Lm9wdGlvbnMudG91Y2hFbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZmVhdHVyZXNBdC50b3VjaChldmVudCwgbnVsbCwgY3R4KVswXTtcbiAgICBldmVudC5mZWF0dXJlVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIGlmIChpc1RhcCh0b3VjaFN0YXJ0SW5mbywge1xuICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBwb2ludDogZXZlbnQucG9pbnRcbiAgICB9KSkge1xuICAgICAgY3VycmVudE1vZGUudGFwKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudE1vZGUudG91Y2hlbmQoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvLyA4IC0gQmFja3NwYWNlXG4gIC8vIDQ2IC0gRGVsZXRlXG4gIGNvbnN0IGlzS2V5TW9kZVZhbGlkID0gY29kZSA9PiAhKGNvZGUgPT09IDggfHwgY29kZSA9PT0gNDYgfHwgKGNvZGUgPj0gNDggJiYgY29kZSA8PSA1NykpO1xuXG4gIGV2ZW50cy5rZXlkb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBjb25zdCBpc01hcEVsZW1lbnQgPSAoZXZlbnQuc3JjRWxlbWVudCB8fCBldmVudC50YXJnZXQpLmNsYXNzTGlzdC5jb250YWlucyhDb25zdGFudHMuY2xhc3Nlcy5DQU5WQVMpO1xuICAgIGlmICghaXNNYXBFbGVtZW50KSByZXR1cm47IC8vIHdlIG9ubHkgaGFuZGxlIGV2ZW50cyBvbiB0aGUgbWFwXG5cbiAgICBpZiAoKGV2ZW50LmtleUNvZGUgPT09IDggfHwgZXZlbnQua2V5Q29kZSA9PT0gNDYpICYmIGN0eC5vcHRpb25zLmNvbnRyb2xzLnRyYXNoKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY3VycmVudE1vZGUudHJhc2goKTtcbiAgICB9IGVsc2UgaWYgKGlzS2V5TW9kZVZhbGlkKGV2ZW50LmtleUNvZGUpKSB7XG4gICAgICBjdXJyZW50TW9kZS5rZXlkb3duKGV2ZW50KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDQ5ICYmIGN0eC5vcHRpb25zLmNvbnRyb2xzLnBvaW50KSB7XG4gICAgICBjaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5EUkFXX1BPSU5UKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDUwICYmIGN0eC5vcHRpb25zLmNvbnRyb2xzLmxpbmVfc3RyaW5nKSB7XG4gICAgICBjaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5EUkFXX0xJTkVfU1RSSU5HKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDUxICYmIGN0eC5vcHRpb25zLmNvbnRyb2xzLnBvbHlnb24pIHtcbiAgICAgIGNoYW5nZU1vZGUoQ29uc3RhbnRzLm1vZGVzLkRSQVdfUE9MWUdPTik7XG4gICAgfVxuICB9O1xuXG4gIGV2ZW50cy5rZXl1cCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGlzS2V5TW9kZVZhbGlkKGV2ZW50LmtleUNvZGUpKSB7XG4gICAgICBjdXJyZW50TW9kZS5rZXl1cChldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIGV2ZW50cy56b29tZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgY3R4LnN0b3JlLmNoYW5nZVpvb20oKTtcbiAgfTtcblxuICBldmVudHMuZGF0YSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGFUeXBlID09PSAnc3R5bGUnKSB7XG4gICAgICBjb25zdCB7IHNldHVwLCBtYXAsIG9wdGlvbnMsIHN0b3JlIH0gPSBjdHg7XG4gICAgICBjb25zdCBoYXNMYXllcnMgPSBvcHRpb25zLnN0eWxlcy5zb21lKHN0eWxlID0+IG1hcC5nZXRMYXllcihzdHlsZS5pZCkpO1xuICAgICAgaWYgKCFoYXNMYXllcnMpIHtcbiAgICAgICAgc2V0dXAuYWRkTGF5ZXJzKCk7XG4gICAgICAgIHN0b3JlLnNldERpcnR5KCk7XG4gICAgICAgIHN0b3JlLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjaGFuZ2VNb2RlKG1vZGVuYW1lLCBuZXh0TW9kZU9wdGlvbnMsIGV2ZW50T3B0aW9ucyA9IHt9KSB7XG4gICAgY3VycmVudE1vZGUuc3RvcCgpO1xuXG4gICAgY29uc3QgbW9kZWJ1aWxkZXIgPSBtb2Rlc1ttb2RlbmFtZV07XG4gICAgaWYgKG1vZGVidWlsZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHttb2RlbmFtZX0gaXMgbm90IHZhbGlkYCk7XG4gICAgfVxuICAgIGN1cnJlbnRNb2RlTmFtZSA9IG1vZGVuYW1lO1xuICAgIGNvbnN0IG1vZGUgPSBtb2RlYnVpbGRlcihjdHgsIG5leHRNb2RlT3B0aW9ucyk7XG4gICAgY3VycmVudE1vZGUgPSBzZXR1cE1vZGVIYW5kbGVyKG1vZGUsIGN0eCk7XG5cbiAgICBpZiAoIWV2ZW50T3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgIGN0eC5tYXAuZmlyZShDb25zdGFudHMuZXZlbnRzLk1PREVfQ0hBTkdFLCB7IG1vZGU6IG1vZGVuYW1lfSk7XG4gICAgfVxuXG4gICAgY3R4LnN0b3JlLnNldERpcnR5KCk7XG4gICAgY3R4LnN0b3JlLnJlbmRlcigpO1xuICB9XG5cbiAgY29uc3QgYWN0aW9uU3RhdGUgPSB7XG4gICAgdHJhc2g6IGZhbHNlLFxuICAgIGNvbWJpbmVGZWF0dXJlczogZmFsc2UsXG4gICAgdW5jb21iaW5lRmVhdHVyZXM6IGZhbHNlXG4gIH07XG5cbiAgZnVuY3Rpb24gYWN0aW9uYWJsZShhY3Rpb25zKSB7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBPYmplY3Qua2V5cyhhY3Rpb25zKS5mb3JFYWNoKChhY3Rpb24pID0+IHtcbiAgICAgIGlmIChhY3Rpb25TdGF0ZVthY3Rpb25dID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhY3Rpb24gdHlwZScpO1xuICAgICAgaWYgKGFjdGlvblN0YXRlW2FjdGlvbl0gIT09IGFjdGlvbnNbYWN0aW9uXSkgY2hhbmdlZCA9IHRydWU7XG4gICAgICBhY3Rpb25TdGF0ZVthY3Rpb25dID0gYWN0aW9uc1thY3Rpb25dO1xuICAgIH0pO1xuICAgIGlmIChjaGFuZ2VkKSBjdHgubWFwLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5BQ1RJT05BQkxFLCB7IGFjdGlvbnM6IGFjdGlvblN0YXRlIH0pO1xuICB9XG5cbiAgY29uc3QgYXBpID0ge1xuICAgIHN0YXJ0KCkge1xuICAgICAgY3VycmVudE1vZGVOYW1lID0gY3R4Lm9wdGlvbnMuZGVmYXVsdE1vZGU7XG4gICAgICBjdXJyZW50TW9kZSA9IHNldHVwTW9kZUhhbmRsZXIobW9kZXNbY3VycmVudE1vZGVOYW1lXShjdHgpLCBjdHgpO1xuICAgIH0sXG4gICAgY2hhbmdlTW9kZSxcbiAgICBhY3Rpb25hYmxlLFxuICAgIGN1cnJlbnRNb2RlTmFtZSgpIHtcbiAgICAgIHJldHVybiBjdXJyZW50TW9kZU5hbWU7XG4gICAgfSxcbiAgICBjdXJyZW50TW9kZVJlbmRlcihnZW9qc29uLCBwdXNoKSB7XG4gICAgICByZXR1cm4gY3VycmVudE1vZGUucmVuZGVyKGdlb2pzb24sIHB1c2gpO1xuICAgIH0sXG4gICAgZmlyZShldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuICAgICAgaWYgKCFjdHgubWFwKSByZXR1cm47XG4gICAgICBjdHgubWFwLmZpcmUoZXZlbnROYW1lLCBldmVudERhdGEpO1xuICAgIH0sXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICBjdHgubWFwLm9uKCdtb3VzZW1vdmUnLCBldmVudHMubW91c2Vtb3ZlKTtcbiAgICAgIGN0eC5tYXAub24oJ21vdXNlZG93bicsIGV2ZW50cy5tb3VzZWRvd24pO1xuICAgICAgY3R4Lm1hcC5vbignbW91c2V1cCcsIGV2ZW50cy5tb3VzZXVwKTtcbiAgICAgIGN0eC5tYXAub24oJ2RhdGEnLCBldmVudHMuZGF0YSk7XG5cbiAgICAgIGN0eC5tYXAub24oJ3RvdWNobW92ZScsIGV2ZW50cy50b3VjaG1vdmUpO1xuICAgICAgY3R4Lm1hcC5vbigndG91Y2hzdGFydCcsIGV2ZW50cy50b3VjaHN0YXJ0KTtcbiAgICAgIGN0eC5tYXAub24oJ3RvdWNoZW5kJywgZXZlbnRzLnRvdWNoZW5kKTtcblxuICAgICAgY3R4LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGV2ZW50cy5tb3VzZW91dCk7XG5cbiAgICAgIGlmIChjdHgub3B0aW9ucy5rZXliaW5kaW5ncykge1xuICAgICAgICBjdHguY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudHMua2V5ZG93bik7XG4gICAgICAgIGN0eC5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBldmVudHMua2V5dXApO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICBjdHgubWFwLm9mZignbW91c2Vtb3ZlJywgZXZlbnRzLm1vdXNlbW92ZSk7XG4gICAgICBjdHgubWFwLm9mZignbW91c2Vkb3duJywgZXZlbnRzLm1vdXNlZG93bik7XG4gICAgICBjdHgubWFwLm9mZignbW91c2V1cCcsIGV2ZW50cy5tb3VzZXVwKTtcbiAgICAgIGN0eC5tYXAub2ZmKCdkYXRhJywgZXZlbnRzLmRhdGEpO1xuXG4gICAgICBjdHgubWFwLm9mZigndG91Y2htb3ZlJywgZXZlbnRzLnRvdWNobW92ZSk7XG4gICAgICBjdHgubWFwLm9mZigndG91Y2hzdGFydCcsIGV2ZW50cy50b3VjaHN0YXJ0KTtcbiAgICAgIGN0eC5tYXAub2ZmKCd0b3VjaGVuZCcsIGV2ZW50cy50b3VjaGVuZCk7XG5cbiAgICAgIGN0eC5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBldmVudHMubW91c2VvdXQpO1xuXG4gICAgICBpZiAoY3R4Lm9wdGlvbnMua2V5YmluZGluZ3MpIHtcbiAgICAgICAgY3R4LmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnRzLmtleWRvd24pO1xuICAgICAgICBjdHguY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXZlbnRzLmtleXVwKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRyYXNoKG9wdGlvbnMpIHtcbiAgICAgIGN1cnJlbnRNb2RlLnRyYXNoKG9wdGlvbnMpO1xuICAgIH0sXG4gICAgY29tYmluZUZlYXR1cmVzKCkge1xuICAgICAgY3VycmVudE1vZGUuY29tYmluZUZlYXR1cmVzKCk7XG4gICAgfSxcbiAgICB1bmNvbWJpbmVGZWF0dXJlcygpIHtcbiAgICAgIGN1cnJlbnRNb2RlLnVuY29tYmluZUZlYXR1cmVzKCk7XG4gICAgfSxcbiAgICBnZXRNb2RlKCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRNb2RlTmFtZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGFwaTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/feature.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/feature.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_id_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/id.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/id.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\nconst Feature = function(ctx, geojson) {\n  this.ctx = ctx;\n  this.properties = geojson.properties || {};\n  this.coordinates = geojson.geometry.coordinates;\n  this.id = geojson.id || (0,_lib_id_js__WEBPACK_IMPORTED_MODULE_0__.generateID)();\n  this.type = geojson.geometry.type;\n};\n\nFeature.prototype.changed = function() {\n  this.ctx.store.featureChanged(this.id);\n};\n\nFeature.prototype.incomingCoords = function(coords) {\n  this.setCoordinates(coords);\n};\n\nFeature.prototype.setCoordinates = function(coords) {\n  this.coordinates = coords;\n  this.changed();\n};\n\nFeature.prototype.getCoordinates = function() {\n  return JSON.parse(JSON.stringify(this.coordinates));\n};\n\nFeature.prototype.setProperty = function(property, value) {\n  this.properties[property] = value;\n};\n\nFeature.prototype.toGeoJSON = function() {\n  return JSON.parse(JSON.stringify({\n    id: this.id,\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.FEATURE,\n    properties: this.properties,\n    geometry: {\n      coordinates: this.getCoordinates(),\n      type: this.type\n    }\n  }));\n};\n\nFeature.prototype.internal = function(mode) {\n  const properties = {\n    id: this.id,\n    meta: _constants_js__WEBPACK_IMPORTED_MODULE_1__.meta.FEATURE,\n    'meta:type': this.type,\n    active: _constants_js__WEBPACK_IMPORTED_MODULE_1__.activeStates.INACTIVE,\n    mode\n  };\n\n  if (this.ctx.options.userProperties) {\n    for (const name in this.properties) {\n      properties[`user_${name}`] = this.properties[name];\n    }\n  }\n\n  return {\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.FEATURE,\n    properties,\n    geometry: {\n      coordinates: this.getCoordinates(),\n      type: this.type\n    }\n  };\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Feature);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvZmVhdHVyZV90eXBlcy9mZWF0dXJlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3QztBQUNLOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzREFBVTtBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVEQUFzQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0NBQWM7QUFDeEI7QUFDQSxZQUFZLHVEQUFzQjtBQUNsQztBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUIsS0FBSztBQUM5QjtBQUNBOztBQUVBO0FBQ0EsVUFBVSx1REFBc0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsT0FBTyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9mZWF0dXJlX3R5cGVzL2ZlYXR1cmUuanM/MTdlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dlbmVyYXRlSUR9IGZyb20gJy4uL2xpYi9pZC5qcyc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcblxuY29uc3QgRmVhdHVyZSA9IGZ1bmN0aW9uKGN0eCwgZ2VvanNvbikge1xuICB0aGlzLmN0eCA9IGN0eDtcbiAgdGhpcy5wcm9wZXJ0aWVzID0gZ2VvanNvbi5wcm9wZXJ0aWVzIHx8IHt9O1xuICB0aGlzLmNvb3JkaW5hdGVzID0gZ2VvanNvbi5nZW9tZXRyeS5jb29yZGluYXRlcztcbiAgdGhpcy5pZCA9IGdlb2pzb24uaWQgfHwgZ2VuZXJhdGVJRCgpO1xuICB0aGlzLnR5cGUgPSBnZW9qc29uLmdlb21ldHJ5LnR5cGU7XG59O1xuXG5GZWF0dXJlLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY3R4LnN0b3JlLmZlYXR1cmVDaGFuZ2VkKHRoaXMuaWQpO1xufTtcblxuRmVhdHVyZS5wcm90b3R5cGUuaW5jb21pbmdDb29yZHMgPSBmdW5jdGlvbihjb29yZHMpIHtcbiAgdGhpcy5zZXRDb29yZGluYXRlcyhjb29yZHMpO1xufTtcblxuRmVhdHVyZS5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbihjb29yZHMpIHtcbiAgdGhpcy5jb29yZGluYXRlcyA9IGNvb3JkcztcbiAgdGhpcy5jaGFuZ2VkKCk7XG59O1xuXG5GZWF0dXJlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvb3JkaW5hdGVzKSk7XG59O1xuXG5GZWF0dXJlLnByb3RvdHlwZS5zZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uKHByb3BlcnR5LCB2YWx1ZSkge1xuICB0aGlzLnByb3BlcnRpZXNbcHJvcGVydHldID0gdmFsdWU7XG59O1xuXG5GZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT04gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoe1xuICAgIGlkOiB0aGlzLmlkLFxuICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuRkVBVFVSRSxcbiAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXMsXG4gICAgZ2VvbWV0cnk6IHtcbiAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmdldENvb3JkaW5hdGVzKCksXG4gICAgICB0eXBlOiB0aGlzLnR5cGVcbiAgICB9XG4gIH0pKTtcbn07XG5cbkZlYXR1cmUucHJvdG90eXBlLmludGVybmFsID0gZnVuY3Rpb24obW9kZSkge1xuICBjb25zdCBwcm9wZXJ0aWVzID0ge1xuICAgIGlkOiB0aGlzLmlkLFxuICAgIG1ldGE6IENvbnN0YW50cy5tZXRhLkZFQVRVUkUsXG4gICAgJ21ldGE6dHlwZSc6IHRoaXMudHlwZSxcbiAgICBhY3RpdmU6IENvbnN0YW50cy5hY3RpdmVTdGF0ZXMuSU5BQ1RJVkUsXG4gICAgbW9kZVxuICB9O1xuXG4gIGlmICh0aGlzLmN0eC5vcHRpb25zLnVzZXJQcm9wZXJ0aWVzKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgcHJvcGVydGllc1tgdXNlcl8ke25hbWV9YF0gPSB0aGlzLnByb3BlcnRpZXNbbmFtZV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBDb25zdGFudHMuZ2VvanNvblR5cGVzLkZFQVRVUkUsXG4gICAgcHJvcGVydGllcyxcbiAgICBnZW9tZXRyeToge1xuICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKSxcbiAgICAgIHR5cGU6IHRoaXMudHlwZVxuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZlYXR1cmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/feature.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/line_string.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/line_string.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _feature_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./feature.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/feature.js\");\n\n\nconst LineString = function(ctx, geojson) {\n  _feature_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, ctx, geojson);\n};\n\nLineString.prototype = Object.create(_feature_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\nLineString.prototype.isValid = function() {\n  return this.coordinates.length > 1;\n};\n\nLineString.prototype.addCoordinate = function(path, lng, lat) {\n  this.changed();\n  const id = parseInt(path, 10);\n  this.coordinates.splice(id, 0, [lng, lat]);\n};\n\nLineString.prototype.getCoordinate = function(path) {\n  const id = parseInt(path, 10);\n  return JSON.parse(JSON.stringify(this.coordinates[id]));\n};\n\nLineString.prototype.removeCoordinate = function(path) {\n  this.changed();\n  this.coordinates.splice(parseInt(path, 10), 1);\n};\n\nLineString.prototype.updateCoordinate = function(path, lng, lat) {\n  const id = parseInt(path, 10);\n  this.coordinates[id] = [lng, lat];\n  this.changed();\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LineString);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvZmVhdHVyZV90eXBlcy9saW5lX3N0cmluZy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQzs7QUFFbkM7QUFDQSxFQUFFLG1EQUFPO0FBQ1Q7O0FBRUEscUNBQXFDLG1EQUFPOztBQUU1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLFVBQVUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvZmVhdHVyZV90eXBlcy9saW5lX3N0cmluZy5qcz80ZjkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGZWF0dXJlIGZyb20gJy4vZmVhdHVyZS5qcyc7XG5cbmNvbnN0IExpbmVTdHJpbmcgPSBmdW5jdGlvbihjdHgsIGdlb2pzb24pIHtcbiAgRmVhdHVyZS5jYWxsKHRoaXMsIGN0eCwgZ2VvanNvbik7XG59O1xuXG5MaW5lU3RyaW5nLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRmVhdHVyZS5wcm90b3R5cGUpO1xuXG5MaW5lU3RyaW5nLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDE7XG59O1xuXG5MaW5lU3RyaW5nLnByb3RvdHlwZS5hZGRDb29yZGluYXRlID0gZnVuY3Rpb24ocGF0aCwgbG5nLCBsYXQpIHtcbiAgdGhpcy5jaGFuZ2VkKCk7XG4gIGNvbnN0IGlkID0gcGFyc2VJbnQocGF0aCwgMTApO1xuICB0aGlzLmNvb3JkaW5hdGVzLnNwbGljZShpZCwgMCwgW2xuZywgbGF0XSk7XG59O1xuXG5MaW5lU3RyaW5nLnByb3RvdHlwZS5nZXRDb29yZGluYXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICBjb25zdCBpZCA9IHBhcnNlSW50KHBhdGgsIDEwKTtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb29yZGluYXRlc1tpZF0pKTtcbn07XG5cbkxpbmVTdHJpbmcucHJvdG90eXBlLnJlbW92ZUNvb3JkaW5hdGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHRoaXMuY2hhbmdlZCgpO1xuICB0aGlzLmNvb3JkaW5hdGVzLnNwbGljZShwYXJzZUludChwYXRoLCAxMCksIDEpO1xufTtcblxuTGluZVN0cmluZy5wcm90b3R5cGUudXBkYXRlQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uKHBhdGgsIGxuZywgbGF0KSB7XG4gIGNvbnN0IGlkID0gcGFyc2VJbnQocGF0aCwgMTApO1xuICB0aGlzLmNvb3JkaW5hdGVzW2lkXSA9IFtsbmcsIGxhdF07XG4gIHRoaXMuY2hhbmdlZCgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZVN0cmluZztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/line_string.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/multi_feature.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/multi_feature.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_id_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/id.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/id.js\");\n/* harmony import */ var _feature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./feature.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/feature.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _point_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./point.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/point.js\");\n/* harmony import */ var _line_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./line_string.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/line_string.js\");\n/* harmony import */ var _polygon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./polygon.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/polygon.js\");\n\n\n\n\n\n\n\n\nconst models = {\n  MultiPoint: _point_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  MultiLineString: _line_string_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  MultiPolygon: _polygon_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n};\n\nconst takeAction = (features, action, path, lng, lat) => {\n  const parts = path.split('.');\n  const idx = parseInt(parts[0], 10);\n  const tail = (!parts[1]) ? null : parts.slice(1).join('.');\n  return features[idx][action](tail, lng, lat);\n};\n\nconst MultiFeature = function(ctx, geojson) {\n  _feature_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].call(this, ctx, geojson);\n\n  delete this.coordinates;\n  this.model = models[geojson.geometry.type];\n  if (this.model === undefined) throw new TypeError(`${geojson.geometry.type} is not a valid type`);\n  this.features = this._coordinatesToFeatures(geojson.geometry.coordinates);\n};\n\nMultiFeature.prototype = Object.create(_feature_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype);\n\nMultiFeature.prototype._coordinatesToFeatures = function(coordinates) {\n  const Model = this.model.bind(this);\n  return coordinates.map(coords => new Model(this.ctx, {\n    id: (0,_lib_id_js__WEBPACK_IMPORTED_MODULE_0__.generateID)(),\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.FEATURE,\n    properties: {},\n    geometry: {\n      coordinates: coords,\n      type: this.type.replace('Multi', '')\n    }\n  }));\n};\n\nMultiFeature.prototype.isValid = function() {\n  return this.features.every(f => f.isValid());\n};\n\nMultiFeature.prototype.setCoordinates = function(coords) {\n  this.features = this._coordinatesToFeatures(coords);\n  this.changed();\n};\n\nMultiFeature.prototype.getCoordinate = function(path) {\n  return takeAction(this.features, 'getCoordinate', path);\n};\n\nMultiFeature.prototype.getCoordinates = function() {\n  return JSON.parse(JSON.stringify(this.features.map((f) => {\n    if (f.type === _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.POLYGON) return f.getCoordinates();\n    return f.coordinates;\n  })));\n};\n\nMultiFeature.prototype.updateCoordinate = function(path, lng, lat) {\n  takeAction(this.features, 'updateCoordinate', path, lng, lat);\n  this.changed();\n};\n\nMultiFeature.prototype.addCoordinate = function(path, lng, lat) {\n  takeAction(this.features, 'addCoordinate', path, lng, lat);\n  this.changed();\n};\n\nMultiFeature.prototype.removeCoordinate = function(path) {\n  takeAction(this.features, 'removeCoordinate', path);\n  this.changed();\n};\n\nMultiFeature.prototype.getFeatures = function() {\n  return this.features;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MultiFeature);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvZmVhdHVyZV90eXBlcy9tdWx0aV9mZWF0dXJlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0M7QUFDTDtBQUNVOztBQUVUO0FBQ1c7QUFDUDs7QUFFeEM7QUFDQSxZQUFZO0FBQ1osaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLG1EQUFPOztBQUVUO0FBQ0E7QUFDQSx1REFBdUQsdUJBQXVCO0FBQzlFO0FBQ0E7O0FBRUEsdUNBQXVDLG1EQUFPOztBQUU5QztBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFVO0FBQ2xCLFVBQVUsdURBQXNCO0FBQ2hDLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQXNCO0FBQ3pDO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxZQUFZLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2ZlYXR1cmVfdHlwZXMvbXVsdGlfZmVhdHVyZS5qcz81M2Q5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Z2VuZXJhdGVJRH0gZnJvbSAnLi4vbGliL2lkLmpzJztcbmltcG9ydCBGZWF0dXJlIGZyb20gJy4vZmVhdHVyZS5qcyc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcblxuaW1wb3J0IE11bHRpUG9pbnQgZnJvbSAnLi9wb2ludC5qcyc7XG5pbXBvcnQgTXVsdGlMaW5lU3RyaW5nIGZyb20gJy4vbGluZV9zdHJpbmcuanMnO1xuaW1wb3J0IE11bHRpUG9seWdvbiBmcm9tICcuL3BvbHlnb24uanMnO1xuXG5jb25zdCBtb2RlbHMgPSB7XG4gIE11bHRpUG9pbnQsXG4gIE11bHRpTGluZVN0cmluZyxcbiAgTXVsdGlQb2x5Z29uXG59O1xuXG5jb25zdCB0YWtlQWN0aW9uID0gKGZlYXR1cmVzLCBhY3Rpb24sIHBhdGgsIGxuZywgbGF0KSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICBjb25zdCBpZHggPSBwYXJzZUludChwYXJ0c1swXSwgMTApO1xuICBjb25zdCB0YWlsID0gKCFwYXJ0c1sxXSkgPyBudWxsIDogcGFydHMuc2xpY2UoMSkuam9pbignLicpO1xuICByZXR1cm4gZmVhdHVyZXNbaWR4XVthY3Rpb25dKHRhaWwsIGxuZywgbGF0KTtcbn07XG5cbmNvbnN0IE11bHRpRmVhdHVyZSA9IGZ1bmN0aW9uKGN0eCwgZ2VvanNvbikge1xuICBGZWF0dXJlLmNhbGwodGhpcywgY3R4LCBnZW9qc29uKTtcblxuICBkZWxldGUgdGhpcy5jb29yZGluYXRlcztcbiAgdGhpcy5tb2RlbCA9IG1vZGVsc1tnZW9qc29uLmdlb21ldHJ5LnR5cGVdO1xuICBpZiAodGhpcy5tb2RlbCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2dlb2pzb24uZ2VvbWV0cnkudHlwZX0gaXMgbm90IGEgdmFsaWQgdHlwZWApO1xuICB0aGlzLmZlYXR1cmVzID0gdGhpcy5fY29vcmRpbmF0ZXNUb0ZlYXR1cmVzKGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXMpO1xufTtcblxuTXVsdGlGZWF0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRmVhdHVyZS5wcm90b3R5cGUpO1xuXG5NdWx0aUZlYXR1cmUucHJvdG90eXBlLl9jb29yZGluYXRlc1RvRmVhdHVyZXMgPSBmdW5jdGlvbihjb29yZGluYXRlcykge1xuICBjb25zdCBNb2RlbCA9IHRoaXMubW9kZWwuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGNvb3JkaW5hdGVzLm1hcChjb29yZHMgPT4gbmV3IE1vZGVsKHRoaXMuY3R4LCB7XG4gICAgaWQ6IGdlbmVyYXRlSUQoKSxcbiAgICB0eXBlOiBDb25zdGFudHMuZ2VvanNvblR5cGVzLkZFQVRVUkUsXG4gICAgcHJvcGVydGllczoge30sXG4gICAgZ2VvbWV0cnk6IHtcbiAgICAgIGNvb3JkaW5hdGVzOiBjb29yZHMsXG4gICAgICB0eXBlOiB0aGlzLnR5cGUucmVwbGFjZSgnTXVsdGknLCAnJylcbiAgICB9XG4gIH0pKTtcbn07XG5cbk11bHRpRmVhdHVyZS5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mZWF0dXJlcy5ldmVyeShmID0+IGYuaXNWYWxpZCgpKTtcbn07XG5cbk11bHRpRmVhdHVyZS5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbihjb29yZHMpIHtcbiAgdGhpcy5mZWF0dXJlcyA9IHRoaXMuX2Nvb3JkaW5hdGVzVG9GZWF0dXJlcyhjb29yZHMpO1xuICB0aGlzLmNoYW5nZWQoKTtcbn07XG5cbk11bHRpRmVhdHVyZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHRha2VBY3Rpb24odGhpcy5mZWF0dXJlcywgJ2dldENvb3JkaW5hdGUnLCBwYXRoKTtcbn07XG5cbk11bHRpRmVhdHVyZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5mZWF0dXJlcy5tYXAoKGYpID0+IHtcbiAgICBpZiAoZi50eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPTFlHT04pIHJldHVybiBmLmdldENvb3JkaW5hdGVzKCk7XG4gICAgcmV0dXJuIGYuY29vcmRpbmF0ZXM7XG4gIH0pKSk7XG59O1xuXG5NdWx0aUZlYXR1cmUucHJvdG90eXBlLnVwZGF0ZUNvb3JkaW5hdGUgPSBmdW5jdGlvbihwYXRoLCBsbmcsIGxhdCkge1xuICB0YWtlQWN0aW9uKHRoaXMuZmVhdHVyZXMsICd1cGRhdGVDb29yZGluYXRlJywgcGF0aCwgbG5nLCBsYXQpO1xuICB0aGlzLmNoYW5nZWQoKTtcbn07XG5cbk11bHRpRmVhdHVyZS5wcm90b3R5cGUuYWRkQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uKHBhdGgsIGxuZywgbGF0KSB7XG4gIHRha2VBY3Rpb24odGhpcy5mZWF0dXJlcywgJ2FkZENvb3JkaW5hdGUnLCBwYXRoLCBsbmcsIGxhdCk7XG4gIHRoaXMuY2hhbmdlZCgpO1xufTtcblxuTXVsdGlGZWF0dXJlLnByb3RvdHlwZS5yZW1vdmVDb29yZGluYXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICB0YWtlQWN0aW9uKHRoaXMuZmVhdHVyZXMsICdyZW1vdmVDb29yZGluYXRlJywgcGF0aCk7XG4gIHRoaXMuY2hhbmdlZCgpO1xufTtcblxuTXVsdGlGZWF0dXJlLnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mZWF0dXJlcztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE11bHRpRmVhdHVyZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/multi_feature.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/point.js":
/*!************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/point.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _feature_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./feature.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/feature.js\");\n\n\nconst Point = function(ctx, geojson) {\n  _feature_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, ctx, geojson);\n};\n\nPoint.prototype = Object.create(_feature_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\nPoint.prototype.isValid = function() {\n  return typeof this.coordinates[0] === 'number' &&\n    typeof this.coordinates[1] === 'number';\n};\n\nPoint.prototype.updateCoordinate = function(pathOrLng, lngOrLat, lat) {\n  if (arguments.length === 3) {\n    this.coordinates = [lngOrLat, lat];\n  } else {\n    this.coordinates = [pathOrLng, lngOrLat];\n  }\n  this.changed();\n};\n\nPoint.prototype.getCoordinate = function() {\n  return this.getCoordinates();\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Point);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvZmVhdHVyZV90eXBlcy9wb2ludC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQzs7QUFFbkM7QUFDQSxFQUFFLG1EQUFPO0FBQ1Q7O0FBRUEsZ0NBQWdDLG1EQUFPOztBQUV2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlFQUFlLEtBQUssRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvZmVhdHVyZV90eXBlcy9wb2ludC5qcz82ZWJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGZWF0dXJlIGZyb20gJy4vZmVhdHVyZS5qcyc7XG5cbmNvbnN0IFBvaW50ID0gZnVuY3Rpb24oY3R4LCBnZW9qc29uKSB7XG4gIEZlYXR1cmUuY2FsbCh0aGlzLCBjdHgsIGdlb2pzb24pO1xufTtcblxuUG9pbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShGZWF0dXJlLnByb3RvdHlwZSk7XG5cblBvaW50LnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0eXBlb2YgdGhpcy5jb29yZGluYXRlc1swXSA9PT0gJ251bWJlcicgJiZcbiAgICB0eXBlb2YgdGhpcy5jb29yZGluYXRlc1sxXSA9PT0gJ251bWJlcic7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUudXBkYXRlQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uKHBhdGhPckxuZywgbG5nT3JMYXQsIGxhdCkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbbG5nT3JMYXQsIGxhdF07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5jb29yZGluYXRlcyA9IFtwYXRoT3JMbmcsIGxuZ09yTGF0XTtcbiAgfVxuICB0aGlzLmNoYW5nZWQoKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5nZXRDb29yZGluYXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldENvb3JkaW5hdGVzKCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQb2ludDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/point.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/polygon.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/polygon.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _feature_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./feature.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/feature.js\");\n\n\nconst Polygon = function(ctx, geojson) {\n  _feature_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, ctx, geojson);\n  this.coordinates = this.coordinates.map(ring => ring.slice(0, -1));\n};\n\nPolygon.prototype = Object.create(_feature_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype);\n\nPolygon.prototype.isValid = function() {\n  if (this.coordinates.length === 0) return false;\n  return this.coordinates.every(ring => ring.length > 2);\n};\n\n// Expects valid geoJSON polygon geometry: first and last positions must be equivalent.\nPolygon.prototype.incomingCoords = function(coords) {\n  this.coordinates = coords.map(ring => ring.slice(0, -1));\n  this.changed();\n};\n\n// Does NOT expect valid geoJSON polygon geometry: first and last positions should not be equivalent.\nPolygon.prototype.setCoordinates = function(coords) {\n  this.coordinates = coords;\n  this.changed();\n};\n\nPolygon.prototype.addCoordinate = function(path, lng, lat) {\n  this.changed();\n  const ids = path.split('.').map(x => parseInt(x, 10));\n\n  const ring = this.coordinates[ids[0]];\n\n  ring.splice(ids[1], 0, [lng, lat]);\n};\n\nPolygon.prototype.removeCoordinate = function(path) {\n  this.changed();\n  const ids = path.split('.').map(x => parseInt(x, 10));\n  const ring = this.coordinates[ids[0]];\n  if (ring) {\n    ring.splice(ids[1], 1);\n    if (ring.length < 3) {\n      this.coordinates.splice(ids[0], 1);\n    }\n  }\n};\n\nPolygon.prototype.getCoordinate = function(path) {\n  const ids = path.split('.').map(x => parseInt(x, 10));\n  const ring = this.coordinates[ids[0]];\n  return JSON.parse(JSON.stringify(ring[ids[1]]));\n};\n\nPolygon.prototype.getCoordinates = function() {\n  return this.coordinates.map(coords => coords.concat([coords[0]]));\n};\n\nPolygon.prototype.updateCoordinate = function(path, lng, lat) {\n  this.changed();\n  const parts = path.split('.');\n  const ringId = parseInt(parts[0], 10);\n  const coordId = parseInt(parts[1], 10);\n\n  if (this.coordinates[ringId] === undefined) {\n    this.coordinates[ringId] = [];\n  }\n\n  this.coordinates[ringId][coordId] = [lng, lat];\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Polygon);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvZmVhdHVyZV90eXBlcy9wb2x5Z29uLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW1DOztBQUVuQztBQUNBLEVBQUUsbURBQU87QUFDVDtBQUNBOztBQUVBLGtDQUFrQyxtREFBTzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxPQUFPLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2ZlYXR1cmVfdHlwZXMvcG9seWdvbi5qcz9kYWM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGZWF0dXJlIGZyb20gJy4vZmVhdHVyZS5qcyc7XG5cbmNvbnN0IFBvbHlnb24gPSBmdW5jdGlvbihjdHgsIGdlb2pzb24pIHtcbiAgRmVhdHVyZS5jYWxsKHRoaXMsIGN0eCwgZ2VvanNvbik7XG4gIHRoaXMuY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzLm1hcChyaW5nID0+IHJpbmcuc2xpY2UoMCwgLTEpKTtcbn07XG5cblBvbHlnb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShGZWF0dXJlLnByb3RvdHlwZSk7XG5cblBvbHlnb24ucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0aGlzLmNvb3JkaW5hdGVzLmV2ZXJ5KHJpbmcgPT4gcmluZy5sZW5ndGggPiAyKTtcbn07XG5cbi8vIEV4cGVjdHMgdmFsaWQgZ2VvSlNPTiBwb2x5Z29uIGdlb21ldHJ5OiBmaXJzdCBhbmQgbGFzdCBwb3NpdGlvbnMgbXVzdCBiZSBlcXVpdmFsZW50LlxuUG9seWdvbi5wcm90b3R5cGUuaW5jb21pbmdDb29yZHMgPSBmdW5jdGlvbihjb29yZHMpIHtcbiAgdGhpcy5jb29yZGluYXRlcyA9IGNvb3Jkcy5tYXAocmluZyA9PiByaW5nLnNsaWNlKDAsIC0xKSk7XG4gIHRoaXMuY2hhbmdlZCgpO1xufTtcblxuLy8gRG9lcyBOT1QgZXhwZWN0IHZhbGlkIGdlb0pTT04gcG9seWdvbiBnZW9tZXRyeTogZmlyc3QgYW5kIGxhc3QgcG9zaXRpb25zIHNob3VsZCBub3QgYmUgZXF1aXZhbGVudC5cblBvbHlnb24ucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24oY29vcmRzKSB7XG4gIHRoaXMuY29vcmRpbmF0ZXMgPSBjb29yZHM7XG4gIHRoaXMuY2hhbmdlZCgpO1xufTtcblxuUG9seWdvbi5wcm90b3R5cGUuYWRkQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uKHBhdGgsIGxuZywgbGF0KSB7XG4gIHRoaXMuY2hhbmdlZCgpO1xuICBjb25zdCBpZHMgPSBwYXRoLnNwbGl0KCcuJykubWFwKHggPT4gcGFyc2VJbnQoeCwgMTApKTtcblxuICBjb25zdCByaW5nID0gdGhpcy5jb29yZGluYXRlc1tpZHNbMF1dO1xuXG4gIHJpbmcuc3BsaWNlKGlkc1sxXSwgMCwgW2xuZywgbGF0XSk7XG59O1xuXG5Qb2x5Z29uLnByb3RvdHlwZS5yZW1vdmVDb29yZGluYXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICB0aGlzLmNoYW5nZWQoKTtcbiAgY29uc3QgaWRzID0gcGF0aC5zcGxpdCgnLicpLm1hcCh4ID0+IHBhcnNlSW50KHgsIDEwKSk7XG4gIGNvbnN0IHJpbmcgPSB0aGlzLmNvb3JkaW5hdGVzW2lkc1swXV07XG4gIGlmIChyaW5nKSB7XG4gICAgcmluZy5zcGxpY2UoaWRzWzFdLCAxKTtcbiAgICBpZiAocmluZy5sZW5ndGggPCAzKSB7XG4gICAgICB0aGlzLmNvb3JkaW5hdGVzLnNwbGljZShpZHNbMF0sIDEpO1xuICAgIH1cbiAgfVxufTtcblxuUG9seWdvbi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgY29uc3QgaWRzID0gcGF0aC5zcGxpdCgnLicpLm1hcCh4ID0+IHBhcnNlSW50KHgsIDEwKSk7XG4gIGNvbnN0IHJpbmcgPSB0aGlzLmNvb3JkaW5hdGVzW2lkc1swXV07XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJpbmdbaWRzWzFdXSkpO1xufTtcblxuUG9seWdvbi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZXMubWFwKGNvb3JkcyA9PiBjb29yZHMuY29uY2F0KFtjb29yZHNbMF1dKSk7XG59O1xuXG5Qb2x5Z29uLnByb3RvdHlwZS51cGRhdGVDb29yZGluYXRlID0gZnVuY3Rpb24ocGF0aCwgbG5nLCBsYXQpIHtcbiAgdGhpcy5jaGFuZ2VkKCk7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICBjb25zdCByaW5nSWQgPSBwYXJzZUludChwYXJ0c1swXSwgMTApO1xuICBjb25zdCBjb29yZElkID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTtcblxuICBpZiAodGhpcy5jb29yZGluYXRlc1tyaW5nSWRdID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmNvb3JkaW5hdGVzW3JpbmdJZF0gPSBbXTtcbiAgfVxuXG4gIHRoaXMuY29vcmRpbmF0ZXNbcmluZ0lkXVtjb29yZElkXSA9IFtsbmcsIGxhdF07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQb2x5Z29uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/polygon.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isActiveFeature: () => (/* binding */ isActiveFeature),\n/* harmony export */   isEnterKey: () => (/* binding */ isEnterKey),\n/* harmony export */   isEscapeKey: () => (/* binding */ isEscapeKey),\n/* harmony export */   isFeature: () => (/* binding */ isFeature),\n/* harmony export */   isInactiveFeature: () => (/* binding */ isInactiveFeature),\n/* harmony export */   isOfMetaType: () => (/* binding */ isOfMetaType),\n/* harmony export */   isShiftDown: () => (/* binding */ isShiftDown),\n/* harmony export */   isShiftMousedown: () => (/* binding */ isShiftMousedown),\n/* harmony export */   isTrue: () => (/* binding */ isTrue),\n/* harmony export */   isVertex: () => (/* binding */ isVertex),\n/* harmony export */   noTarget: () => (/* binding */ noTarget)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\nfunction isOfMetaType(type) {\n  return function(e) {\n    const featureTarget = e.featureTarget;\n    if (!featureTarget) return false;\n    if (!featureTarget.properties) return false;\n    return featureTarget.properties.meta === type;\n  };\n}\n\nfunction isShiftMousedown(e) {\n  if (!e.originalEvent) return false;\n  if (!e.originalEvent.shiftKey) return false;\n  return e.originalEvent.button === 0;\n}\n\nfunction isActiveFeature(e) {\n  if (!e.featureTarget) return false;\n  if (!e.featureTarget.properties) return false;\n  return e.featureTarget.properties.active === _constants_js__WEBPACK_IMPORTED_MODULE_0__.activeStates.ACTIVE &&\n    e.featureTarget.properties.meta === _constants_js__WEBPACK_IMPORTED_MODULE_0__.meta.FEATURE;\n}\n\nfunction isInactiveFeature(e) {\n  if (!e.featureTarget) return false;\n  if (!e.featureTarget.properties) return false;\n  return e.featureTarget.properties.active === _constants_js__WEBPACK_IMPORTED_MODULE_0__.activeStates.INACTIVE &&\n    e.featureTarget.properties.meta === _constants_js__WEBPACK_IMPORTED_MODULE_0__.meta.FEATURE;\n}\n\nfunction noTarget(e) {\n  return e.featureTarget === undefined;\n}\n\nfunction isFeature(e) {\n  if (!e.featureTarget) return false;\n  if (!e.featureTarget.properties) return false;\n  return e.featureTarget.properties.meta === _constants_js__WEBPACK_IMPORTED_MODULE_0__.meta.FEATURE;\n}\n\nfunction isVertex(e) {\n  const featureTarget = e.featureTarget;\n  if (!featureTarget) return false;\n  if (!featureTarget.properties) return false;\n  return featureTarget.properties.meta === _constants_js__WEBPACK_IMPORTED_MODULE_0__.meta.VERTEX;\n}\n\nfunction isShiftDown(e) {\n  if (!e.originalEvent) return false;\n  return e.originalEvent.shiftKey === true;\n}\n\nfunction isEscapeKey(e) {\n  return e.keyCode === 27;\n}\n\nfunction isEnterKey(e) {\n  return e.keyCode === 13;\n}\n\nfunction isTrue() {\n  return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2NvbW1vbl9zZWxlY3RvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTZDOztBQUV0QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0EsK0NBQStDLHVEQUFzQjtBQUNyRSx3Q0FBd0MsK0NBQWM7QUFDdEQ7O0FBRU87QUFDUDtBQUNBO0FBQ0EsK0NBQStDLHVEQUFzQjtBQUNyRSx3Q0FBd0MsK0NBQWM7QUFDdEQ7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLDZDQUE2QywrQ0FBYztBQUMzRDs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywrQ0FBYztBQUN6RDs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2NvbW1vbl9zZWxlY3RvcnMuanM/MmJkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2ZNZXRhVHlwZSh0eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgZmVhdHVyZVRhcmdldCA9IGUuZmVhdHVyZVRhcmdldDtcbiAgICBpZiAoIWZlYXR1cmVUYXJnZXQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWZlYXR1cmVUYXJnZXQucHJvcGVydGllcykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBmZWF0dXJlVGFyZ2V0LnByb3BlcnRpZXMubWV0YSA9PT0gdHlwZTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2hpZnRNb3VzZWRvd24oZSkge1xuICBpZiAoIWUub3JpZ2luYWxFdmVudCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoIWUub3JpZ2luYWxFdmVudC5zaGlmdEtleSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gZS5vcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PT0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWN0aXZlRmVhdHVyZShlKSB7XG4gIGlmICghZS5mZWF0dXJlVGFyZ2V0KSByZXR1cm4gZmFsc2U7XG4gIGlmICghZS5mZWF0dXJlVGFyZ2V0LnByb3BlcnRpZXMpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzLmFjdGl2ZSA9PT0gQ29uc3RhbnRzLmFjdGl2ZVN0YXRlcy5BQ1RJVkUgJiZcbiAgICBlLmZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5tZXRhID09PSBDb25zdGFudHMubWV0YS5GRUFUVVJFO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbmFjdGl2ZUZlYXR1cmUoZSkge1xuICBpZiAoIWUuZmVhdHVyZVRhcmdldCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoIWUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlLmZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5hY3RpdmUgPT09IENvbnN0YW50cy5hY3RpdmVTdGF0ZXMuSU5BQ1RJVkUgJiZcbiAgICBlLmZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5tZXRhID09PSBDb25zdGFudHMubWV0YS5GRUFUVVJFO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9UYXJnZXQoZSkge1xuICByZXR1cm4gZS5mZWF0dXJlVGFyZ2V0ID09PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZlYXR1cmUoZSkge1xuICBpZiAoIWUuZmVhdHVyZVRhcmdldCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoIWUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlLmZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5tZXRhID09PSBDb25zdGFudHMubWV0YS5GRUFUVVJFO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWZXJ0ZXgoZSkge1xuICBjb25zdCBmZWF0dXJlVGFyZ2V0ID0gZS5mZWF0dXJlVGFyZ2V0O1xuICBpZiAoIWZlYXR1cmVUYXJnZXQpIHJldHVybiBmYWxzZTtcbiAgaWYgKCFmZWF0dXJlVGFyZ2V0LnByb3BlcnRpZXMpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5tZXRhID09PSBDb25zdGFudHMubWV0YS5WRVJURVg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NoaWZ0RG93bihlKSB7XG4gIGlmICghZS5vcmlnaW5hbEV2ZW50KSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlLm9yaWdpbmFsRXZlbnQuc2hpZnRLZXkgPT09IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VzY2FwZUtleShlKSB7XG4gIHJldHVybiBlLmtleUNvZGUgPT09IDI3O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFbnRlcktleShlKSB7XG4gIHJldHVybiBlLmtleUNvZGUgPT09IDEzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/constrain_feature_movement.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/constrain_feature_movement.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\nconst {\n  LAT_MIN,\n  LAT_MAX,\n  LAT_RENDERED_MIN,\n  LAT_RENDERED_MAX,\n  LNG_MIN,\n  LNG_MAX,\n} = _constants_js__WEBPACK_IMPORTED_MODULE_0__;\nfunction extent(feature) {\n  const depth = {\n    Point: 0,\n    LineString: 1,\n    Polygon: 2,\n    MultiPoint: 1,\n    MultiLineString: 2,\n    MultiPolygon: 3,\n  }[feature.geometry.type];\n\n  const coords = [feature.geometry.coordinates].flat(depth);\n  const lngs = coords.map(coord => coord[0]);\n  const lats = coords.map(coord => coord[1]);\n  const min = vals => Math.min.apply(null, vals);\n  const max = vals => Math.max.apply(null, vals);\n  return [min(lngs), min(lats), max(lngs), max(lats)];\n}\n\n// Ensure that we do not drag north-south far enough for\n// - any part of any feature to exceed the poles\n// - any feature to be completely lost in the space between the projection's\n//   edge and the poles, such that it couldn't be re-selected and moved back\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(geojsonFeatures, delta) {\n  // \"inner edge\" = a feature's latitude closest to the equator\n  let northInnerEdge = LAT_MIN;\n  let southInnerEdge = LAT_MAX;\n  // \"outer edge\" = a feature's latitude furthest from the equator\n  let northOuterEdge = LAT_MIN;\n  let southOuterEdge = LAT_MAX;\n\n  let westEdge = LNG_MAX;\n  let eastEdge = LNG_MIN;\n\n  geojsonFeatures.forEach((feature) => {\n    const bounds = extent(feature);\n    const featureSouthEdge = bounds[1];\n    const featureNorthEdge = bounds[3];\n    const featureWestEdge = bounds[0];\n    const featureEastEdge = bounds[2];\n    if (featureSouthEdge > northInnerEdge) northInnerEdge = featureSouthEdge;\n    if (featureNorthEdge < southInnerEdge) southInnerEdge = featureNorthEdge;\n    if (featureNorthEdge > northOuterEdge) northOuterEdge = featureNorthEdge;\n    if (featureSouthEdge < southOuterEdge) southOuterEdge = featureSouthEdge;\n    if (featureWestEdge < westEdge) westEdge = featureWestEdge;\n    if (featureEastEdge > eastEdge) eastEdge = featureEastEdge;\n  });\n\n\n  // These changes are not mutually exclusive: we might hit the inner\n  // edge but also have hit the outer edge and therefore need\n  // another readjustment\n  const constrainedDelta = delta;\n  if (northInnerEdge + constrainedDelta.lat > LAT_RENDERED_MAX) {\n    constrainedDelta.lat = LAT_RENDERED_MAX - northInnerEdge;\n  }\n  if (northOuterEdge + constrainedDelta.lat > LAT_MAX) {\n    constrainedDelta.lat = LAT_MAX - northOuterEdge;\n  }\n  if (southInnerEdge + constrainedDelta.lat < LAT_RENDERED_MIN) {\n    constrainedDelta.lat = LAT_RENDERED_MIN - southInnerEdge;\n  }\n  if (southOuterEdge + constrainedDelta.lat < LAT_MIN) {\n    constrainedDelta.lat = LAT_MIN - southOuterEdge;\n  }\n  if (westEdge + constrainedDelta.lng <= LNG_MIN) {\n    constrainedDelta.lng += Math.ceil(Math.abs(constrainedDelta.lng) / 360) * 360;\n  }\n  if (eastEdge + constrainedDelta.lng >= LNG_MAX) {\n    constrainedDelta.lng -= Math.ceil(Math.abs(constrainedDelta.lng) / 360) * 360;\n  }\n\n  return constrainedDelta;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2NvbnN0cmFpbl9mZWF0dXJlX21vdmVtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZDOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSwwQ0FBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQWUsb0NBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2NvbnN0cmFpbl9mZWF0dXJlX21vdmVtZW50LmpzP2RiNjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cy5qcyc7XG5cbmNvbnN0IHtcbiAgTEFUX01JTixcbiAgTEFUX01BWCxcbiAgTEFUX1JFTkRFUkVEX01JTixcbiAgTEFUX1JFTkRFUkVEX01BWCxcbiAgTE5HX01JTixcbiAgTE5HX01BWCxcbn0gPSBDb25zdGFudHM7XG5mdW5jdGlvbiBleHRlbnQoZmVhdHVyZSkge1xuICBjb25zdCBkZXB0aCA9IHtcbiAgICBQb2ludDogMCxcbiAgICBMaW5lU3RyaW5nOiAxLFxuICAgIFBvbHlnb246IDIsXG4gICAgTXVsdGlQb2ludDogMSxcbiAgICBNdWx0aUxpbmVTdHJpbmc6IDIsXG4gICAgTXVsdGlQb2x5Z29uOiAzLFxuICB9W2ZlYXR1cmUuZ2VvbWV0cnkudHlwZV07XG5cbiAgY29uc3QgY29vcmRzID0gW2ZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNdLmZsYXQoZGVwdGgpO1xuICBjb25zdCBsbmdzID0gY29vcmRzLm1hcChjb29yZCA9PiBjb29yZFswXSk7XG4gIGNvbnN0IGxhdHMgPSBjb29yZHMubWFwKGNvb3JkID0+IGNvb3JkWzFdKTtcbiAgY29uc3QgbWluID0gdmFscyA9PiBNYXRoLm1pbi5hcHBseShudWxsLCB2YWxzKTtcbiAgY29uc3QgbWF4ID0gdmFscyA9PiBNYXRoLm1heC5hcHBseShudWxsLCB2YWxzKTtcbiAgcmV0dXJuIFttaW4obG5ncyksIG1pbihsYXRzKSwgbWF4KGxuZ3MpLCBtYXgobGF0cyldO1xufVxuXG4vLyBFbnN1cmUgdGhhdCB3ZSBkbyBub3QgZHJhZyBub3J0aC1zb3V0aCBmYXIgZW5vdWdoIGZvclxuLy8gLSBhbnkgcGFydCBvZiBhbnkgZmVhdHVyZSB0byBleGNlZWQgdGhlIHBvbGVzXG4vLyAtIGFueSBmZWF0dXJlIHRvIGJlIGNvbXBsZXRlbHkgbG9zdCBpbiB0aGUgc3BhY2UgYmV0d2VlbiB0aGUgcHJvamVjdGlvbidzXG4vLyAgIGVkZ2UgYW5kIHRoZSBwb2xlcywgc3VjaCB0aGF0IGl0IGNvdWxkbid0IGJlIHJlLXNlbGVjdGVkIGFuZCBtb3ZlZCBiYWNrXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihnZW9qc29uRmVhdHVyZXMsIGRlbHRhKSB7XG4gIC8vIFwiaW5uZXIgZWRnZVwiID0gYSBmZWF0dXJlJ3MgbGF0aXR1ZGUgY2xvc2VzdCB0byB0aGUgZXF1YXRvclxuICBsZXQgbm9ydGhJbm5lckVkZ2UgPSBMQVRfTUlOO1xuICBsZXQgc291dGhJbm5lckVkZ2UgPSBMQVRfTUFYO1xuICAvLyBcIm91dGVyIGVkZ2VcIiA9IGEgZmVhdHVyZSdzIGxhdGl0dWRlIGZ1cnRoZXN0IGZyb20gdGhlIGVxdWF0b3JcbiAgbGV0IG5vcnRoT3V0ZXJFZGdlID0gTEFUX01JTjtcbiAgbGV0IHNvdXRoT3V0ZXJFZGdlID0gTEFUX01BWDtcblxuICBsZXQgd2VzdEVkZ2UgPSBMTkdfTUFYO1xuICBsZXQgZWFzdEVkZ2UgPSBMTkdfTUlOO1xuXG4gIGdlb2pzb25GZWF0dXJlcy5mb3JFYWNoKChmZWF0dXJlKSA9PiB7XG4gICAgY29uc3QgYm91bmRzID0gZXh0ZW50KGZlYXR1cmUpO1xuICAgIGNvbnN0IGZlYXR1cmVTb3V0aEVkZ2UgPSBib3VuZHNbMV07XG4gICAgY29uc3QgZmVhdHVyZU5vcnRoRWRnZSA9IGJvdW5kc1szXTtcbiAgICBjb25zdCBmZWF0dXJlV2VzdEVkZ2UgPSBib3VuZHNbMF07XG4gICAgY29uc3QgZmVhdHVyZUVhc3RFZGdlID0gYm91bmRzWzJdO1xuICAgIGlmIChmZWF0dXJlU291dGhFZGdlID4gbm9ydGhJbm5lckVkZ2UpIG5vcnRoSW5uZXJFZGdlID0gZmVhdHVyZVNvdXRoRWRnZTtcbiAgICBpZiAoZmVhdHVyZU5vcnRoRWRnZSA8IHNvdXRoSW5uZXJFZGdlKSBzb3V0aElubmVyRWRnZSA9IGZlYXR1cmVOb3J0aEVkZ2U7XG4gICAgaWYgKGZlYXR1cmVOb3J0aEVkZ2UgPiBub3J0aE91dGVyRWRnZSkgbm9ydGhPdXRlckVkZ2UgPSBmZWF0dXJlTm9ydGhFZGdlO1xuICAgIGlmIChmZWF0dXJlU291dGhFZGdlIDwgc291dGhPdXRlckVkZ2UpIHNvdXRoT3V0ZXJFZGdlID0gZmVhdHVyZVNvdXRoRWRnZTtcbiAgICBpZiAoZmVhdHVyZVdlc3RFZGdlIDwgd2VzdEVkZ2UpIHdlc3RFZGdlID0gZmVhdHVyZVdlc3RFZGdlO1xuICAgIGlmIChmZWF0dXJlRWFzdEVkZ2UgPiBlYXN0RWRnZSkgZWFzdEVkZ2UgPSBmZWF0dXJlRWFzdEVkZ2U7XG4gIH0pO1xuXG5cbiAgLy8gVGhlc2UgY2hhbmdlcyBhcmUgbm90IG11dHVhbGx5IGV4Y2x1c2l2ZTogd2UgbWlnaHQgaGl0IHRoZSBpbm5lclxuICAvLyBlZGdlIGJ1dCBhbHNvIGhhdmUgaGl0IHRoZSBvdXRlciBlZGdlIGFuZCB0aGVyZWZvcmUgbmVlZFxuICAvLyBhbm90aGVyIHJlYWRqdXN0bWVudFxuICBjb25zdCBjb25zdHJhaW5lZERlbHRhID0gZGVsdGE7XG4gIGlmIChub3J0aElubmVyRWRnZSArIGNvbnN0cmFpbmVkRGVsdGEubGF0ID4gTEFUX1JFTkRFUkVEX01BWCkge1xuICAgIGNvbnN0cmFpbmVkRGVsdGEubGF0ID0gTEFUX1JFTkRFUkVEX01BWCAtIG5vcnRoSW5uZXJFZGdlO1xuICB9XG4gIGlmIChub3J0aE91dGVyRWRnZSArIGNvbnN0cmFpbmVkRGVsdGEubGF0ID4gTEFUX01BWCkge1xuICAgIGNvbnN0cmFpbmVkRGVsdGEubGF0ID0gTEFUX01BWCAtIG5vcnRoT3V0ZXJFZGdlO1xuICB9XG4gIGlmIChzb3V0aElubmVyRWRnZSArIGNvbnN0cmFpbmVkRGVsdGEubGF0IDwgTEFUX1JFTkRFUkVEX01JTikge1xuICAgIGNvbnN0cmFpbmVkRGVsdGEubGF0ID0gTEFUX1JFTkRFUkVEX01JTiAtIHNvdXRoSW5uZXJFZGdlO1xuICB9XG4gIGlmIChzb3V0aE91dGVyRWRnZSArIGNvbnN0cmFpbmVkRGVsdGEubGF0IDwgTEFUX01JTikge1xuICAgIGNvbnN0cmFpbmVkRGVsdGEubGF0ID0gTEFUX01JTiAtIHNvdXRoT3V0ZXJFZGdlO1xuICB9XG4gIGlmICh3ZXN0RWRnZSArIGNvbnN0cmFpbmVkRGVsdGEubG5nIDw9IExOR19NSU4pIHtcbiAgICBjb25zdHJhaW5lZERlbHRhLmxuZyArPSBNYXRoLmNlaWwoTWF0aC5hYnMoY29uc3RyYWluZWREZWx0YS5sbmcpIC8gMzYwKSAqIDM2MDtcbiAgfVxuICBpZiAoZWFzdEVkZ2UgKyBjb25zdHJhaW5lZERlbHRhLmxuZyA+PSBMTkdfTUFYKSB7XG4gICAgY29uc3RyYWluZWREZWx0YS5sbmcgLT0gTWF0aC5jZWlsKE1hdGguYWJzKGNvbnN0cmFpbmVkRGVsdGEubG5nKSAvIDM2MCkgKiAzNjA7XG4gIH1cblxuICByZXR1cm4gY29uc3RyYWluZWREZWx0YTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/constrain_feature_movement.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_midpoint.js":
/*!************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_midpoint.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(parent, startVertex, endVertex) {\n  const startCoord = startVertex.geometry.coordinates;\n  const endCoord = endVertex.geometry.coordinates;\n\n  // If a coordinate exceeds the projection, we can't calculate a midpoint,\n  // so run away\n  if (startCoord[1] > _constants_js__WEBPACK_IMPORTED_MODULE_0__.LAT_RENDERED_MAX ||\n    startCoord[1] < _constants_js__WEBPACK_IMPORTED_MODULE_0__.LAT_RENDERED_MIN ||\n    endCoord[1] > _constants_js__WEBPACK_IMPORTED_MODULE_0__.LAT_RENDERED_MAX ||\n    endCoord[1] < _constants_js__WEBPACK_IMPORTED_MODULE_0__.LAT_RENDERED_MIN) {\n    return null;\n  }\n\n  const mid = {\n    lng: (startCoord[0] + endCoord[0]) / 2,\n    lat: (startCoord[1] + endCoord[1]) / 2\n  };\n\n  return {\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.FEATURE,\n    properties: {\n      meta: _constants_js__WEBPACK_IMPORTED_MODULE_0__.meta.MIDPOINT,\n      parent,\n      lng: mid.lng,\n      lat: mid.lat,\n      coord_path: endVertex.properties.coord_path\n    },\n    geometry: {\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.POINT,\n      coordinates: [mid.lng, mid.lat]\n    }\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2NyZWF0ZV9taWRwb2ludC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2Qzs7QUFFN0MsNkJBQWUsb0NBQVM7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLDJEQUEwQjtBQUNoRCxvQkFBb0IsMkRBQTBCO0FBQzlDLGtCQUFrQiwyREFBMEI7QUFDNUMsa0JBQWtCLDJEQUEwQjtBQUM1QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSx1REFBc0I7QUFDaEM7QUFDQSxZQUFZLCtDQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsWUFBWSx1REFBc0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2xpYi9jcmVhdGVfbWlkcG9pbnQuanM/NGNiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocGFyZW50LCBzdGFydFZlcnRleCwgZW5kVmVydGV4KSB7XG4gIGNvbnN0IHN0YXJ0Q29vcmQgPSBzdGFydFZlcnRleC5nZW9tZXRyeS5jb29yZGluYXRlcztcbiAgY29uc3QgZW5kQ29vcmQgPSBlbmRWZXJ0ZXguZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG5cbiAgLy8gSWYgYSBjb29yZGluYXRlIGV4Y2VlZHMgdGhlIHByb2plY3Rpb24sIHdlIGNhbid0IGNhbGN1bGF0ZSBhIG1pZHBvaW50LFxuICAvLyBzbyBydW4gYXdheVxuICBpZiAoc3RhcnRDb29yZFsxXSA+IENvbnN0YW50cy5MQVRfUkVOREVSRURfTUFYIHx8XG4gICAgc3RhcnRDb29yZFsxXSA8IENvbnN0YW50cy5MQVRfUkVOREVSRURfTUlOIHx8XG4gICAgZW5kQ29vcmRbMV0gPiBDb25zdGFudHMuTEFUX1JFTkRFUkVEX01BWCB8fFxuICAgIGVuZENvb3JkWzFdIDwgQ29uc3RhbnRzLkxBVF9SRU5ERVJFRF9NSU4pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IG1pZCA9IHtcbiAgICBsbmc6IChzdGFydENvb3JkWzBdICsgZW5kQ29vcmRbMF0pIC8gMixcbiAgICBsYXQ6IChzdGFydENvb3JkWzFdICsgZW5kQ29vcmRbMV0pIC8gMlxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIG1ldGE6IENvbnN0YW50cy5tZXRhLk1JRFBPSU5ULFxuICAgICAgcGFyZW50LFxuICAgICAgbG5nOiBtaWQubG5nLFxuICAgICAgbGF0OiBtaWQubGF0LFxuICAgICAgY29vcmRfcGF0aDogZW5kVmVydGV4LnByb3BlcnRpZXMuY29vcmRfcGF0aFxuICAgIH0sXG4gICAgZ2VvbWV0cnk6IHtcbiAgICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuUE9JTlQsXG4gICAgICBjb29yZGluYXRlczogW21pZC5sbmcsIG1pZC5sYXRdXG4gICAgfVxuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_midpoint.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_supplementary_points.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_supplementary_points.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _create_vertex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create_vertex.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_vertex.js\");\n/* harmony import */ var _create_midpoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create_midpoint.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_midpoint.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\n\nfunction createSupplementaryPoints(geojson, options = {}, basePath = null) {\n  const { type, coordinates } = geojson.geometry;\n  const featureId = geojson.properties && geojson.properties.id;\n\n  let supplementaryPoints = [];\n\n  if (type === _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.POINT) {\n    // For points, just create a vertex\n    supplementaryPoints.push((0,_create_vertex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(featureId, coordinates, basePath, isSelectedPath(basePath)));\n  } else if (type === _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.POLYGON) {\n    // Cycle through a Polygon's rings and\n    // process each line\n    coordinates.forEach((line, lineIndex) => {\n      processLine(line, (basePath !== null) ? `${basePath}.${lineIndex}` : String(lineIndex));\n    });\n  } else if (type === _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.LINE_STRING) {\n    processLine(coordinates, basePath);\n  } else if (type.indexOf(_constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.MULTI_PREFIX) === 0) {\n    processMultiGeometry();\n  }\n\n  function processLine(line, lineBasePath) {\n    let firstPointString = '';\n    let lastVertex = null;\n    line.forEach((point, pointIndex) => {\n      const pointPath = (lineBasePath !== undefined && lineBasePath !== null) ? `${lineBasePath}.${pointIndex}` : String(pointIndex);\n      const vertex = (0,_create_vertex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(featureId, point, pointPath, isSelectedPath(pointPath));\n\n      // If we're creating midpoints, check if there was a\n      // vertex before this one. If so, add a midpoint\n      // between that vertex and this one.\n      if (options.midpoints && lastVertex) {\n        const midpoint = (0,_create_midpoint_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(featureId, lastVertex, vertex);\n        if (midpoint) {\n          supplementaryPoints.push(midpoint);\n        }\n      }\n      lastVertex = vertex;\n\n      // A Polygon line's last point is the same as the first point. If we're on the last\n      // point, we want to draw a midpoint before it but not another vertex on it\n      // (since we already a vertex there, from the first point).\n      const stringifiedPoint = JSON.stringify(point);\n      if (firstPointString !== stringifiedPoint) {\n        supplementaryPoints.push(vertex);\n      }\n      if (pointIndex === 0) {\n        firstPointString = stringifiedPoint;\n      }\n    });\n  }\n\n  function isSelectedPath(path) {\n    if (!options.selectedPaths) return false;\n    return options.selectedPaths.indexOf(path) !== -1;\n  }\n\n  // Split a multi-geometry into constituent\n  // geometries, and accumulate the supplementary points\n  // for each of those constituents\n  function processMultiGeometry() {\n    const subType = type.replace(_constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.MULTI_PREFIX, '');\n    coordinates.forEach((subCoordinates, index) => {\n      const subFeature = {\n        type: _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.FEATURE,\n        properties: geojson.properties,\n        geometry: {\n          type: subType,\n          coordinates: subCoordinates\n        }\n      };\n      supplementaryPoints = supplementaryPoints.concat(createSupplementaryPoints(subFeature, options, index));\n    });\n  }\n\n  return supplementaryPoints;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createSupplementaryPoints);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2NyZWF0ZV9zdXBwbGVtZW50YXJ5X3BvaW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThDO0FBQ0k7QUFDTDs7QUFFN0Msd0RBQXdEO0FBQ3hELFVBQVUsb0JBQW9CO0FBQzlCOztBQUVBOztBQUVBLGVBQWUsdURBQXNCO0FBQ3JDO0FBQ0EsNkJBQTZCLDZEQUFZO0FBQ3pDLElBQUksa0JBQWtCLHVEQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxpREFBaUQsU0FBUyxHQUFHLFVBQVU7QUFDdkUsS0FBSztBQUNMLElBQUksa0JBQWtCLHVEQUFzQjtBQUM1QztBQUNBLElBQUksc0JBQXNCLHVEQUFzQjtBQUNoRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLGFBQWEsR0FBRyxXQUFXO0FBQzlHLHFCQUFxQiw2REFBWTs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsK0RBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1REFBc0I7QUFDdkQ7QUFDQTtBQUNBLGNBQWMsdURBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUEsaUVBQWUseUJBQXlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2xpYi9jcmVhdGVfc3VwcGxlbWVudGFyeV9wb2ludHMuanM/YTI2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JlYXRlVmVydGV4IGZyb20gJy4vY3JlYXRlX3ZlcnRleC5qcyc7XG5pbXBvcnQgY3JlYXRlTWlkcG9pbnQgZnJvbSAnLi9jcmVhdGVfbWlkcG9pbnQuanMnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cy5qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN1cHBsZW1lbnRhcnlQb2ludHMoZ2VvanNvbiwgb3B0aW9ucyA9IHt9LCBiYXNlUGF0aCA9IG51bGwpIHtcbiAgY29uc3QgeyB0eXBlLCBjb29yZGluYXRlcyB9ID0gZ2VvanNvbi5nZW9tZXRyeTtcbiAgY29uc3QgZmVhdHVyZUlkID0gZ2VvanNvbi5wcm9wZXJ0aWVzICYmIGdlb2pzb24ucHJvcGVydGllcy5pZDtcblxuICBsZXQgc3VwcGxlbWVudGFyeVBvaW50cyA9IFtdO1xuXG4gIGlmICh0eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPSU5UKSB7XG4gICAgLy8gRm9yIHBvaW50cywganVzdCBjcmVhdGUgYSB2ZXJ0ZXhcbiAgICBzdXBwbGVtZW50YXJ5UG9pbnRzLnB1c2goY3JlYXRlVmVydGV4KGZlYXR1cmVJZCwgY29vcmRpbmF0ZXMsIGJhc2VQYXRoLCBpc1NlbGVjdGVkUGF0aChiYXNlUGF0aCkpKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPTFlHT04pIHtcbiAgICAvLyBDeWNsZSB0aHJvdWdoIGEgUG9seWdvbidzIHJpbmdzIGFuZFxuICAgIC8vIHByb2Nlc3MgZWFjaCBsaW5lXG4gICAgY29vcmRpbmF0ZXMuZm9yRWFjaCgobGluZSwgbGluZUluZGV4KSA9PiB7XG4gICAgICBwcm9jZXNzTGluZShsaW5lLCAoYmFzZVBhdGggIT09IG51bGwpID8gYCR7YmFzZVBhdGh9LiR7bGluZUluZGV4fWAgOiBTdHJpbmcobGluZUluZGV4KSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5MSU5FX1NUUklORykge1xuICAgIHByb2Nlc3NMaW5lKGNvb3JkaW5hdGVzLCBiYXNlUGF0aCk7XG4gIH0gZWxzZSBpZiAodHlwZS5pbmRleE9mKENvbnN0YW50cy5nZW9qc29uVHlwZXMuTVVMVElfUFJFRklYKSA9PT0gMCkge1xuICAgIHByb2Nlc3NNdWx0aUdlb21ldHJ5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzTGluZShsaW5lLCBsaW5lQmFzZVBhdGgpIHtcbiAgICBsZXQgZmlyc3RQb2ludFN0cmluZyA9ICcnO1xuICAgIGxldCBsYXN0VmVydGV4ID0gbnVsbDtcbiAgICBsaW5lLmZvckVhY2goKHBvaW50LCBwb2ludEluZGV4KSA9PiB7XG4gICAgICBjb25zdCBwb2ludFBhdGggPSAobGluZUJhc2VQYXRoICE9PSB1bmRlZmluZWQgJiYgbGluZUJhc2VQYXRoICE9PSBudWxsKSA/IGAke2xpbmVCYXNlUGF0aH0uJHtwb2ludEluZGV4fWAgOiBTdHJpbmcocG9pbnRJbmRleCk7XG4gICAgICBjb25zdCB2ZXJ0ZXggPSBjcmVhdGVWZXJ0ZXgoZmVhdHVyZUlkLCBwb2ludCwgcG9pbnRQYXRoLCBpc1NlbGVjdGVkUGF0aChwb2ludFBhdGgpKTtcblxuICAgICAgLy8gSWYgd2UncmUgY3JlYXRpbmcgbWlkcG9pbnRzLCBjaGVjayBpZiB0aGVyZSB3YXMgYVxuICAgICAgLy8gdmVydGV4IGJlZm9yZSB0aGlzIG9uZS4gSWYgc28sIGFkZCBhIG1pZHBvaW50XG4gICAgICAvLyBiZXR3ZWVuIHRoYXQgdmVydGV4IGFuZCB0aGlzIG9uZS5cbiAgICAgIGlmIChvcHRpb25zLm1pZHBvaW50cyAmJiBsYXN0VmVydGV4KSB7XG4gICAgICAgIGNvbnN0IG1pZHBvaW50ID0gY3JlYXRlTWlkcG9pbnQoZmVhdHVyZUlkLCBsYXN0VmVydGV4LCB2ZXJ0ZXgpO1xuICAgICAgICBpZiAobWlkcG9pbnQpIHtcbiAgICAgICAgICBzdXBwbGVtZW50YXJ5UG9pbnRzLnB1c2gobWlkcG9pbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0VmVydGV4ID0gdmVydGV4O1xuXG4gICAgICAvLyBBIFBvbHlnb24gbGluZSdzIGxhc3QgcG9pbnQgaXMgdGhlIHNhbWUgYXMgdGhlIGZpcnN0IHBvaW50LiBJZiB3ZSdyZSBvbiB0aGUgbGFzdFxuICAgICAgLy8gcG9pbnQsIHdlIHdhbnQgdG8gZHJhdyBhIG1pZHBvaW50IGJlZm9yZSBpdCBidXQgbm90IGFub3RoZXIgdmVydGV4IG9uIGl0XG4gICAgICAvLyAoc2luY2Ugd2UgYWxyZWFkeSBhIHZlcnRleCB0aGVyZSwgZnJvbSB0aGUgZmlyc3QgcG9pbnQpLlxuICAgICAgY29uc3Qgc3RyaW5naWZpZWRQb2ludCA9IEpTT04uc3RyaW5naWZ5KHBvaW50KTtcbiAgICAgIGlmIChmaXJzdFBvaW50U3RyaW5nICE9PSBzdHJpbmdpZmllZFBvaW50KSB7XG4gICAgICAgIHN1cHBsZW1lbnRhcnlQb2ludHMucHVzaCh2ZXJ0ZXgpO1xuICAgICAgfVxuICAgICAgaWYgKHBvaW50SW5kZXggPT09IDApIHtcbiAgICAgICAgZmlyc3RQb2ludFN0cmluZyA9IHN0cmluZ2lmaWVkUG9pbnQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1NlbGVjdGVkUGF0aChwYXRoKSB7XG4gICAgaWYgKCFvcHRpb25zLnNlbGVjdGVkUGF0aHMpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gb3B0aW9ucy5zZWxlY3RlZFBhdGhzLmluZGV4T2YocGF0aCkgIT09IC0xO1xuICB9XG5cbiAgLy8gU3BsaXQgYSBtdWx0aS1nZW9tZXRyeSBpbnRvIGNvbnN0aXR1ZW50XG4gIC8vIGdlb21ldHJpZXMsIGFuZCBhY2N1bXVsYXRlIHRoZSBzdXBwbGVtZW50YXJ5IHBvaW50c1xuICAvLyBmb3IgZWFjaCBvZiB0aG9zZSBjb25zdGl0dWVudHNcbiAgZnVuY3Rpb24gcHJvY2Vzc011bHRpR2VvbWV0cnkoKSB7XG4gICAgY29uc3Qgc3ViVHlwZSA9IHR5cGUucmVwbGFjZShDb25zdGFudHMuZ2VvanNvblR5cGVzLk1VTFRJX1BSRUZJWCwgJycpO1xuICAgIGNvb3JkaW5hdGVzLmZvckVhY2goKHN1YkNvb3JkaW5hdGVzLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgc3ViRmVhdHVyZSA9IHtcbiAgICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFLFxuICAgICAgICBwcm9wZXJ0aWVzOiBnZW9qc29uLnByb3BlcnRpZXMsXG4gICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgdHlwZTogc3ViVHlwZSxcbiAgICAgICAgICBjb29yZGluYXRlczogc3ViQ29vcmRpbmF0ZXNcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHN1cHBsZW1lbnRhcnlQb2ludHMgPSBzdXBwbGVtZW50YXJ5UG9pbnRzLmNvbmNhdChjcmVhdGVTdXBwbGVtZW50YXJ5UG9pbnRzKHN1YkZlYXR1cmUsIG9wdGlvbnMsIGluZGV4KSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc3VwcGxlbWVudGFyeVBvaW50cztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3VwcGxlbWVudGFyeVBvaW50cztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_supplementary_points.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_vertex.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_vertex.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n/**\n * Returns GeoJSON for a Point representing the\n * vertex of another feature.\n *\n * @param {string} parentId\n * @param {Array<number>} coordinates\n * @param {string} path - Dot-separated numbers indicating exactly\n *   where the point exists within its parent feature's coordinates.\n * @param {boolean} selected\n * @return {GeoJSON} Point\n */\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(parentId, coordinates, path, selected) {\n  return {\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.FEATURE,\n    properties: {\n      meta: _constants_js__WEBPACK_IMPORTED_MODULE_0__.meta.VERTEX,\n      parent: parentId,\n      coord_path: path,\n      active: (selected) ? _constants_js__WEBPACK_IMPORTED_MODULE_0__.activeStates.ACTIVE : _constants_js__WEBPACK_IMPORTED_MODULE_0__.activeStates.INACTIVE\n    },\n    geometry: {\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.POINT,\n      coordinates\n    }\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2NyZWF0ZV92ZXJ0ZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZUFBZTtBQUMxQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFNBQVM7QUFDcEIsWUFBWSxTQUFTO0FBQ3JCOztBQUVBLDZCQUFlLG9DQUFTO0FBQ3hCO0FBQ0EsVUFBVSx1REFBc0I7QUFDaEM7QUFDQSxZQUFZLCtDQUFjO0FBQzFCO0FBQ0E7QUFDQSwyQkFBMkIsdURBQXNCLFVBQVUsdURBQXNCO0FBQ2pGLEtBQUs7QUFDTDtBQUNBLFlBQVksdURBQXNCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvY3JlYXRlX3ZlcnRleC5qcz84ZjMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuXG4vKipcbiAqIFJldHVybnMgR2VvSlNPTiBmb3IgYSBQb2ludCByZXByZXNlbnRpbmcgdGhlXG4gKiB2ZXJ0ZXggb2YgYW5vdGhlciBmZWF0dXJlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRJZFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlc1xuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBEb3Qtc2VwYXJhdGVkIG51bWJlcnMgaW5kaWNhdGluZyBleGFjdGx5XG4gKiAgIHdoZXJlIHRoZSBwb2ludCBleGlzdHMgd2l0aGluIGl0cyBwYXJlbnQgZmVhdHVyZSdzIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtib29sZWFufSBzZWxlY3RlZFxuICogQHJldHVybiB7R2VvSlNPTn0gUG9pbnRcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwYXJlbnRJZCwgY29vcmRpbmF0ZXMsIHBhdGgsIHNlbGVjdGVkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIG1ldGE6IENvbnN0YW50cy5tZXRhLlZFUlRFWCxcbiAgICAgIHBhcmVudDogcGFyZW50SWQsXG4gICAgICBjb29yZF9wYXRoOiBwYXRoLFxuICAgICAgYWN0aXZlOiAoc2VsZWN0ZWQpID8gQ29uc3RhbnRzLmFjdGl2ZVN0YXRlcy5BQ1RJVkUgOiBDb25zdGFudHMuYWN0aXZlU3RhdGVzLklOQUNUSVZFXG4gICAgfSxcbiAgICBnZW9tZXRyeToge1xuICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5QT0lOVCxcbiAgICAgIGNvb3JkaW5hdGVzXG4gICAgfVxuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_vertex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  enable(ctx) {\n    setTimeout(() => {\n      // First check we've got a map and some context.\n      if (!ctx.map || !ctx.map.doubleClickZoom || !ctx._ctx || !ctx._ctx.store || !ctx._ctx.store.getInitialConfigValue) return;\n      // Now check initial state wasn't false (we leave it disabled if so)\n      if (!ctx._ctx.store.getInitialConfigValue('doubleClickZoom')) return;\n      ctx.map.doubleClickZoom.enable();\n    }, 0);\n  },\n  disable(ctx) {\n    setTimeout(() => {\n      if (!ctx.map || !ctx.map.doubleClickZoom) return;\n      // Always disable here, as it's necessary in some cases.\n      ctx.map.doubleClickZoom.disable();\n    }, 0);\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2RvdWJsZV9jbGlja196b29tLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvZG91YmxlX2NsaWNrX3pvb20uanM/YTQ2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIGVuYWJsZShjdHgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIEZpcnN0IGNoZWNrIHdlJ3ZlIGdvdCBhIG1hcCBhbmQgc29tZSBjb250ZXh0LlxuICAgICAgaWYgKCFjdHgubWFwIHx8ICFjdHgubWFwLmRvdWJsZUNsaWNrWm9vbSB8fCAhY3R4Ll9jdHggfHwgIWN0eC5fY3R4LnN0b3JlIHx8ICFjdHguX2N0eC5zdG9yZS5nZXRJbml0aWFsQ29uZmlnVmFsdWUpIHJldHVybjtcbiAgICAgIC8vIE5vdyBjaGVjayBpbml0aWFsIHN0YXRlIHdhc24ndCBmYWxzZSAod2UgbGVhdmUgaXQgZGlzYWJsZWQgaWYgc28pXG4gICAgICBpZiAoIWN0eC5fY3R4LnN0b3JlLmdldEluaXRpYWxDb25maWdWYWx1ZSgnZG91YmxlQ2xpY2tab29tJykpIHJldHVybjtcbiAgICAgIGN0eC5tYXAuZG91YmxlQ2xpY2tab29tLmVuYWJsZSgpO1xuICAgIH0sIDApO1xuICB9LFxuICBkaXNhYmxlKGN0eCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCFjdHgubWFwIHx8ICFjdHgubWFwLmRvdWJsZUNsaWNrWm9vbSkgcmV0dXJuO1xuICAgICAgLy8gQWx3YXlzIGRpc2FibGUgaGVyZSwgYXMgaXQncyBuZWNlc3NhcnkgaW4gc29tZSBjYXNlcy5cbiAgICAgIGN0eC5tYXAuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTtcbiAgICB9LCAwKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/euclidean_distance.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/euclidean_distance.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(a, b) {\n  const x = a.x - b.x;\n  const y = a.y - b.y;\n  return Math.sqrt((x * x) + (y * y));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2V1Y2xpZGVhbl9kaXN0YW5jZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsNkJBQWUsb0NBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2xpYi9ldWNsaWRlYW5fZGlzdGFuY2UuanM/NTNiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIGNvbnN0IHggPSBhLnggLSBiLng7XG4gIGNvbnN0IHkgPSBhLnkgLSBiLnk7XG4gIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/euclidean_distance.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js":
/*!********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _sort_features_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sort_features.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/sort_features.js\");\n/* harmony import */ var _map_event_to_bounding_box_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map_event_to_bounding_box.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/map_event_to_bounding_box.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _string_set_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./string_set.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js\");\n\n\n\n\n\nconst META_TYPES = [\n  _constants_js__WEBPACK_IMPORTED_MODULE_2__.meta.FEATURE,\n  _constants_js__WEBPACK_IMPORTED_MODULE_2__.meta.MIDPOINT,\n  _constants_js__WEBPACK_IMPORTED_MODULE_2__.meta.VERTEX\n];\n\n// Requires either event or bbox\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  click: featuresAtClick,\n  touch: featuresAtTouch\n});\n\nfunction featuresAtClick(event, bbox, ctx) {\n  return featuresAt(event, bbox, ctx, ctx.options.clickBuffer);\n}\n\nfunction featuresAtTouch(event, bbox, ctx) {\n  return featuresAt(event, bbox, ctx, ctx.options.touchBuffer);\n}\n\nfunction featuresAt(event, bbox, ctx, buffer) {\n  if (ctx.map === null) return [];\n\n  const box = (event) ? (0,_map_event_to_bounding_box_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(event, buffer) : bbox;\n\n  const queryParams = {};\n\n  if (ctx.options.styles) queryParams.layers = ctx.options.styles.map(s => s.id).filter(id => ctx.map.getLayer(id) != null);\n\n  const features = ctx.map.queryRenderedFeatures(box, queryParams)\n    .filter(feature => META_TYPES.indexOf(feature.properties.meta) !== -1);\n\n  const featureIds = new _string_set_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n  const uniqueFeatures = [];\n  features.forEach((feature) => {\n    const featureId = feature.properties.id;\n    if (featureIds.has(featureId)) return;\n    featureIds.add(featureId);\n    uniqueFeatures.push(feature);\n  });\n\n  return (0,_sort_features_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uniqueFeatures);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2ZlYXR1cmVzX2F0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBQ3FCO0FBQ3RCO0FBQ0w7O0FBRXhDO0FBQ0EsRUFBRSwrQ0FBYztBQUNoQixFQUFFLCtDQUFjO0FBQ2hCLEVBQUUsK0NBQWM7QUFDaEI7O0FBRUE7QUFDQSxpRUFBZTtBQUNmO0FBQ0E7QUFDQSxDQUFDLEVBQUM7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdCQUF3Qix5RUFBcUI7O0FBRTdDOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEseUJBQXlCLHNEQUFTO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsU0FBUyw2REFBWTtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2ZlYXR1cmVzX2F0LmpzP2M0MzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNvcnRGZWF0dXJlcyBmcm9tICcuL3NvcnRfZmVhdHVyZXMuanMnO1xuaW1wb3J0IG1hcEV2ZW50VG9Cb3VuZGluZ0JveCBmcm9tICcuL21hcF9ldmVudF90b19ib3VuZGluZ19ib3guanMnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgU3RyaW5nU2V0IGZyb20gJy4vc3RyaW5nX3NldC5qcyc7XG5cbmNvbnN0IE1FVEFfVFlQRVMgPSBbXG4gIENvbnN0YW50cy5tZXRhLkZFQVRVUkUsXG4gIENvbnN0YW50cy5tZXRhLk1JRFBPSU5ULFxuICBDb25zdGFudHMubWV0YS5WRVJURVhcbl07XG5cbi8vIFJlcXVpcmVzIGVpdGhlciBldmVudCBvciBiYm94XG5leHBvcnQgZGVmYXVsdCB7XG4gIGNsaWNrOiBmZWF0dXJlc0F0Q2xpY2ssXG4gIHRvdWNoOiBmZWF0dXJlc0F0VG91Y2hcbn07XG5cbmZ1bmN0aW9uIGZlYXR1cmVzQXRDbGljayhldmVudCwgYmJveCwgY3R4KSB7XG4gIHJldHVybiBmZWF0dXJlc0F0KGV2ZW50LCBiYm94LCBjdHgsIGN0eC5vcHRpb25zLmNsaWNrQnVmZmVyKTtcbn1cblxuZnVuY3Rpb24gZmVhdHVyZXNBdFRvdWNoKGV2ZW50LCBiYm94LCBjdHgpIHtcbiAgcmV0dXJuIGZlYXR1cmVzQXQoZXZlbnQsIGJib3gsIGN0eCwgY3R4Lm9wdGlvbnMudG91Y2hCdWZmZXIpO1xufVxuXG5mdW5jdGlvbiBmZWF0dXJlc0F0KGV2ZW50LCBiYm94LCBjdHgsIGJ1ZmZlcikge1xuICBpZiAoY3R4Lm1hcCA9PT0gbnVsbCkgcmV0dXJuIFtdO1xuXG4gIGNvbnN0IGJveCA9IChldmVudCkgPyBtYXBFdmVudFRvQm91bmRpbmdCb3goZXZlbnQsIGJ1ZmZlcikgOiBiYm94O1xuXG4gIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge307XG5cbiAgaWYgKGN0eC5vcHRpb25zLnN0eWxlcykgcXVlcnlQYXJhbXMubGF5ZXJzID0gY3R4Lm9wdGlvbnMuc3R5bGVzLm1hcChzID0+IHMuaWQpLmZpbHRlcihpZCA9PiBjdHgubWFwLmdldExheWVyKGlkKSAhPSBudWxsKTtcblxuICBjb25zdCBmZWF0dXJlcyA9IGN0eC5tYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGJveCwgcXVlcnlQYXJhbXMpXG4gICAgLmZpbHRlcihmZWF0dXJlID0+IE1FVEFfVFlQRVMuaW5kZXhPZihmZWF0dXJlLnByb3BlcnRpZXMubWV0YSkgIT09IC0xKTtcblxuICBjb25zdCBmZWF0dXJlSWRzID0gbmV3IFN0cmluZ1NldCgpO1xuICBjb25zdCB1bmlxdWVGZWF0dXJlcyA9IFtdO1xuICBmZWF0dXJlcy5mb3JFYWNoKChmZWF0dXJlKSA9PiB7XG4gICAgY29uc3QgZmVhdHVyZUlkID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmlkO1xuICAgIGlmIChmZWF0dXJlSWRzLmhhcyhmZWF0dXJlSWQpKSByZXR1cm47XG4gICAgZmVhdHVyZUlkcy5hZGQoZmVhdHVyZUlkKTtcbiAgICB1bmlxdWVGZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICB9KTtcblxuICByZXR1cm4gc29ydEZlYXR1cmVzKHVuaXF1ZUZlYXR1cmVzKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/get_features_and_set_cursor.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/get_features_and_set_cursor.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getFeatureAtAndSetCursors)\n/* harmony export */ });\n/* harmony import */ var _features_at_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./features_at.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\nfunction getFeatureAtAndSetCursors(event, ctx) {\n  const features = _features_at_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].click(event, null, ctx);\n  const classes = { mouse: _constants_js__WEBPACK_IMPORTED_MODULE_1__.cursors.NONE };\n\n  if (features[0]) {\n    classes.mouse = (features[0].properties.active === _constants_js__WEBPACK_IMPORTED_MODULE_1__.activeStates.ACTIVE) ?\n      _constants_js__WEBPACK_IMPORTED_MODULE_1__.cursors.MOVE : _constants_js__WEBPACK_IMPORTED_MODULE_1__.cursors.POINTER;\n    classes.feature = features[0].properties.meta;\n  }\n\n  if (ctx.events.currentModeName().indexOf('draw') !== -1) {\n    classes.mouse = _constants_js__WEBPACK_IMPORTED_MODULE_1__.cursors.ADD;\n  }\n\n  ctx.ui.queueMapClasses(classes);\n  ctx.ui.updateMapClasses();\n\n  return features[0];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2dldF9mZWF0dXJlc19hbmRfc2V0X2N1cnNvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEM7QUFDRzs7QUFFOUI7QUFDZixtQkFBbUIsdURBQVU7QUFDN0Isb0JBQW9CLE9BQU8sa0RBQWlCOztBQUU1QztBQUNBLHVEQUF1RCx1REFBc0I7QUFDN0UsTUFBTSxrREFBaUIsUUFBUSxrREFBaUI7QUFDaEQ7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixrREFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvZ2V0X2ZlYXR1cmVzX2FuZF9zZXRfY3Vyc29yLmpzP2UyZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZlYXR1cmVzQXQgZnJvbSAnLi9mZWF0dXJlc19hdC5qcyc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RmVhdHVyZUF0QW5kU2V0Q3Vyc29ycyhldmVudCwgY3R4KSB7XG4gIGNvbnN0IGZlYXR1cmVzID0gZmVhdHVyZXNBdC5jbGljayhldmVudCwgbnVsbCwgY3R4KTtcbiAgY29uc3QgY2xhc3NlcyA9IHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLk5PTkUgfTtcblxuICBpZiAoZmVhdHVyZXNbMF0pIHtcbiAgICBjbGFzc2VzLm1vdXNlID0gKGZlYXR1cmVzWzBdLnByb3BlcnRpZXMuYWN0aXZlID09PSBDb25zdGFudHMuYWN0aXZlU3RhdGVzLkFDVElWRSkgP1xuICAgICAgQ29uc3RhbnRzLmN1cnNvcnMuTU9WRSA6IENvbnN0YW50cy5jdXJzb3JzLlBPSU5URVI7XG4gICAgY2xhc3Nlcy5mZWF0dXJlID0gZmVhdHVyZXNbMF0ucHJvcGVydGllcy5tZXRhO1xuICB9XG5cbiAgaWYgKGN0eC5ldmVudHMuY3VycmVudE1vZGVOYW1lKCkuaW5kZXhPZignZHJhdycpICE9PSAtMSkge1xuICAgIGNsYXNzZXMubW91c2UgPSBDb25zdGFudHMuY3Vyc29ycy5BREQ7XG4gIH1cblxuICBjdHgudWkucXVldWVNYXBDbGFzc2VzKGNsYXNzZXMpO1xuICBjdHgudWkudXBkYXRlTWFwQ2xhc3NlcygpO1xuXG4gIHJldHVybiBmZWF0dXJlc1swXTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/get_features_and_set_cursor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/id.js":
/*!***********************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/id.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateID: () => (/* binding */ generateID)\n/* harmony export */ });\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/non-secure */ \"(ssr)/./node_modules/nanoid/non-secure/index.js\");\n\n\nconst nanoid = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.customAlphabet)('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz', 32);\n\nfunction generateID() {\n  return nanoid();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2lkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlEOztBQUVqRCxlQUFlLGlFQUFjOztBQUV0QjtBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2xpYi9pZC5qcz8yZjVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3VzdG9tQWxwaGFiZXR9IGZyb20gJ25hbm9pZC9ub24tc2VjdXJlJztcblxuY29uc3QgbmFub2lkID0gY3VzdG9tQWxwaGFiZXQoJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JywgMzIpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJRCgpIHtcbiAgcmV0dXJuIG5hbm9pZCgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/id.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommonSelectors: () => (/* reexport module object */ _common_selectors_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   ModeHandler: () => (/* reexport safe */ _mode_handler_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]),\n/* harmony export */   StringSet: () => (/* reexport safe */ _string_set_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]),\n/* harmony export */   constrainFeatureMovement: () => (/* reexport safe */ _constrain_feature_movement_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   createMidPoint: () => (/* reexport safe */ _create_midpoint_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   createSupplementaryPoints: () => (/* reexport safe */ _create_supplementary_points_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   createVertex: () => (/* reexport safe */ _create_vertex_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   doubleClickZoom: () => (/* reexport safe */ _double_click_zoom_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   euclideanDistance: () => (/* reexport safe */ _euclidean_distance_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   featuresAt: () => (/* reexport safe */ _features_at_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   getFeatureAtAndSetCursors: () => (/* reexport safe */ _get_features_and_set_cursor_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   isClick: () => (/* reexport safe */ _is_click_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n/* harmony export */   isEventAtCoordinates: () => (/* reexport safe */ _is_event_at_coordinates_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]),\n/* harmony export */   isTap: () => (/* reexport safe */ _is_tap_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]),\n/* harmony export */   mapEventToBoundingBox: () => (/* reexport safe */ _map_event_to_bounding_box_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n/* harmony export */   moveFeatures: () => (/* reexport safe */ _move_features_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]),\n/* harmony export */   sortFeatures: () => (/* reexport safe */ _sort_features_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"]),\n/* harmony export */   stringSetsAreEqual: () => (/* reexport safe */ _string_sets_are_equal_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"]),\n/* harmony export */   theme: () => (/* reexport safe */ _theme_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"]),\n/* harmony export */   toDenseArray: () => (/* reexport safe */ _to_dense_array_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _common_selectors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common_selectors.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js\");\n/* harmony import */ var _constrain_feature_movement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constrain_feature_movement.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/constrain_feature_movement.js\");\n/* harmony import */ var _create_midpoint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./create_midpoint.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_midpoint.js\");\n/* harmony import */ var _create_supplementary_points_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./create_supplementary_points.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_supplementary_points.js\");\n/* harmony import */ var _create_vertex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./create_vertex.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_vertex.js\");\n/* harmony import */ var _double_click_zoom_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./double_click_zoom.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js\");\n/* harmony import */ var _euclidean_distance_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./euclidean_distance.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/euclidean_distance.js\");\n/* harmony import */ var _features_at_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./features_at.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js\");\n/* harmony import */ var _get_features_and_set_cursor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./get_features_and_set_cursor.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/get_features_and_set_cursor.js\");\n/* harmony import */ var _is_click_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./is_click.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_click.js\");\n/* harmony import */ var _is_event_at_coordinates_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./is_event_at_coordinates.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_event_at_coordinates.js\");\n/* harmony import */ var _is_tap_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./is_tap.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_tap.js\");\n/* harmony import */ var _map_event_to_bounding_box_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./map_event_to_bounding_box.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/map_event_to_bounding_box.js\");\n/* harmony import */ var _mode_handler_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./mode_handler.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/mode_handler.js\");\n/* harmony import */ var _move_features_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./move_features.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/move_features.js\");\n/* harmony import */ var _sort_features_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./sort_features.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/sort_features.js\");\n/* harmony import */ var _string_set_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./string_set.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js\");\n/* harmony import */ var _string_sets_are_equal_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./string_sets_are_equal.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_sets_are_equal.js\");\n/* harmony import */ var _theme_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./theme.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/theme.js\");\n/* harmony import */ var _to_dense_array_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./to_dense_array.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/to_dense_array.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDYztBQUNyQjtBQUN1QjtBQUMzQjtBQUNPO0FBQ0c7QUFDZDtBQUMrQjtBQUNyQztBQUM0QjtBQUNoQztBQUNtQztBQUN2QjtBQUNFO0FBQ0E7QUFDTjtBQUNvQjtBQUM3QjtBQUNnQjs7QUF1QjdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvaW5kZXguanM/YWIwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb21tb25TZWxlY3RvcnMgZnJvbSBcIi4vY29tbW9uX3NlbGVjdG9ycy5qc1wiO1xuaW1wb3J0IGNvbnN0cmFpbkZlYXR1cmVNb3ZlbWVudCBmcm9tIFwiLi9jb25zdHJhaW5fZmVhdHVyZV9tb3ZlbWVudC5qc1wiO1xuaW1wb3J0IGNyZWF0ZU1pZFBvaW50IGZyb20gXCIuL2NyZWF0ZV9taWRwb2ludC5qc1wiO1xuaW1wb3J0IGNyZWF0ZVN1cHBsZW1lbnRhcnlQb2ludHMgZnJvbSBcIi4vY3JlYXRlX3N1cHBsZW1lbnRhcnlfcG9pbnRzLmpzXCI7XG5pbXBvcnQgY3JlYXRlVmVydGV4IGZyb20gXCIuL2NyZWF0ZV92ZXJ0ZXguanNcIjtcbmltcG9ydCBkb3VibGVDbGlja1pvb20gZnJvbSBcIi4vZG91YmxlX2NsaWNrX3pvb20uanNcIjtcbmltcG9ydCBldWNsaWRlYW5EaXN0YW5jZSBmcm9tIFwiLi9ldWNsaWRlYW5fZGlzdGFuY2UuanNcIjtcbmltcG9ydCBmZWF0dXJlc0F0IGZyb20gXCIuL2ZlYXR1cmVzX2F0LmpzXCI7XG5pbXBvcnQgZ2V0RmVhdHVyZUF0QW5kU2V0Q3Vyc29ycyBmcm9tIFwiLi9nZXRfZmVhdHVyZXNfYW5kX3NldF9jdXJzb3IuanNcIjtcbmltcG9ydCBpc0NsaWNrIGZyb20gXCIuL2lzX2NsaWNrLmpzXCI7XG5pbXBvcnQgaXNFdmVudEF0Q29vcmRpbmF0ZXMgZnJvbSBcIi4vaXNfZXZlbnRfYXRfY29vcmRpbmF0ZXMuanNcIjtcbmltcG9ydCBpc1RhcCBmcm9tIFwiLi9pc190YXAuanNcIjtcbmltcG9ydCBtYXBFdmVudFRvQm91bmRpbmdCb3ggZnJvbSBcIi4vbWFwX2V2ZW50X3RvX2JvdW5kaW5nX2JveC5qc1wiO1xuaW1wb3J0IE1vZGVIYW5kbGVyIGZyb20gXCIuL21vZGVfaGFuZGxlci5qc1wiO1xuaW1wb3J0IG1vdmVGZWF0dXJlcyBmcm9tIFwiLi9tb3ZlX2ZlYXR1cmVzLmpzXCI7XG5pbXBvcnQgc29ydEZlYXR1cmVzIGZyb20gXCIuL3NvcnRfZmVhdHVyZXMuanNcIjtcbmltcG9ydCBTdHJpbmdTZXQgZnJvbSBcIi4vc3RyaW5nX3NldC5qc1wiO1xuaW1wb3J0IHN0cmluZ1NldHNBcmVFcXVhbCBmcm9tIFwiLi9zdHJpbmdfc2V0c19hcmVfZXF1YWwuanNcIjtcbmltcG9ydCB0aGVtZSBmcm9tIFwiLi90aGVtZS5qc1wiO1xuaW1wb3J0IHRvRGVuc2VBcnJheSBmcm9tIFwiLi90b19kZW5zZV9hcnJheS5qc1wiO1xuXG5leHBvcnQge1xuICBDb21tb25TZWxlY3RvcnMsXG4gIGNvbnN0cmFpbkZlYXR1cmVNb3ZlbWVudCxcbiAgY3JlYXRlTWlkUG9pbnQsXG4gIGNyZWF0ZVN1cHBsZW1lbnRhcnlQb2ludHMsXG4gIGNyZWF0ZVZlcnRleCxcbiAgZG91YmxlQ2xpY2tab29tLFxuICBldWNsaWRlYW5EaXN0YW5jZSxcbiAgZmVhdHVyZXNBdCxcbiAgZ2V0RmVhdHVyZUF0QW5kU2V0Q3Vyc29ycyxcbiAgaXNDbGljayxcbiAgaXNFdmVudEF0Q29vcmRpbmF0ZXMsXG4gIGlzVGFwLFxuICBtYXBFdmVudFRvQm91bmRpbmdCb3gsXG4gIE1vZGVIYW5kbGVyLFxuICBtb3ZlRmVhdHVyZXMsXG4gIHNvcnRGZWF0dXJlcyxcbiAgc3RyaW5nU2V0c0FyZUVxdWFsLFxuICBTdHJpbmdTZXQsXG4gIHRoZW1lLFxuICB0b0RlbnNlQXJyYXksXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_click.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_click.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ isClick)\n/* harmony export */ });\n/* harmony import */ var _euclidean_distance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./euclidean_distance.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/euclidean_distance.js\");\n\n\nconst FINE_TOLERANCE = 4;\nconst GROSS_TOLERANCE = 12;\nconst INTERVAL = 500;\n\nfunction isClick(start, end, options = {}) {\n  const fineTolerance = (options.fineTolerance != null) ? options.fineTolerance : FINE_TOLERANCE;\n  const grossTolerance = (options.grossTolerance != null) ? options.grossTolerance : GROSS_TOLERANCE;\n  const interval = (options.interval != null) ? options.interval : INTERVAL;\n\n  start.point = start.point || end.point;\n  start.time = start.time || end.time;\n  const moveDistance = (0,_euclidean_distance_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(start.point, end.point);\n\n  return moveDistance < fineTolerance ||\n    (moveDistance < grossTolerance && (end.time - start.time) < interval);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2lzX2NsaWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdEOztBQUV4RDtBQUNBO0FBQ0E7O0FBRWUseUNBQXlDO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLGtFQUFpQjs7QUFFeEM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvaXNfY2xpY2suanM/ZjUyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXVjbGlkZWFuRGlzdGFuY2UgZnJvbSAnLi9ldWNsaWRlYW5fZGlzdGFuY2UuanMnO1xuXG5jb25zdCBGSU5FX1RPTEVSQU5DRSA9IDQ7XG5jb25zdCBHUk9TU19UT0xFUkFOQ0UgPSAxMjtcbmNvbnN0IElOVEVSVkFMID0gNTAwO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0NsaWNrKHN0YXJ0LCBlbmQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBmaW5lVG9sZXJhbmNlID0gKG9wdGlvbnMuZmluZVRvbGVyYW5jZSAhPSBudWxsKSA/IG9wdGlvbnMuZmluZVRvbGVyYW5jZSA6IEZJTkVfVE9MRVJBTkNFO1xuICBjb25zdCBncm9zc1RvbGVyYW5jZSA9IChvcHRpb25zLmdyb3NzVG9sZXJhbmNlICE9IG51bGwpID8gb3B0aW9ucy5ncm9zc1RvbGVyYW5jZSA6IEdST1NTX1RPTEVSQU5DRTtcbiAgY29uc3QgaW50ZXJ2YWwgPSAob3B0aW9ucy5pbnRlcnZhbCAhPSBudWxsKSA/IG9wdGlvbnMuaW50ZXJ2YWwgOiBJTlRFUlZBTDtcblxuICBzdGFydC5wb2ludCA9IHN0YXJ0LnBvaW50IHx8IGVuZC5wb2ludDtcbiAgc3RhcnQudGltZSA9IHN0YXJ0LnRpbWUgfHwgZW5kLnRpbWU7XG4gIGNvbnN0IG1vdmVEaXN0YW5jZSA9IGV1Y2xpZGVhbkRpc3RhbmNlKHN0YXJ0LnBvaW50LCBlbmQucG9pbnQpO1xuXG4gIHJldHVybiBtb3ZlRGlzdGFuY2UgPCBmaW5lVG9sZXJhbmNlIHx8XG4gICAgKG1vdmVEaXN0YW5jZSA8IGdyb3NzVG9sZXJhbmNlICYmIChlbmQudGltZSAtIHN0YXJ0LnRpbWUpIDwgaW50ZXJ2YWwpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_click.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_event_at_coordinates.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_event_at_coordinates.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction isEventAtCoordinates(event, coordinates) {\n  if (!event.lngLat) return false;\n  return event.lngLat.lng === coordinates[0] && event.lngLat.lat === coordinates[1];\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isEventAtCoordinates);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2lzX2V2ZW50X2F0X2Nvb3JkaW5hdGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxvQkFBb0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2lzX2V2ZW50X2F0X2Nvb3JkaW5hdGVzLmpzPzFlZWIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNFdmVudEF0Q29vcmRpbmF0ZXMoZXZlbnQsIGNvb3JkaW5hdGVzKSB7XG4gIGlmICghZXZlbnQubG5nTGF0KSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBldmVudC5sbmdMYXQubG5nID09PSBjb29yZGluYXRlc1swXSAmJiBldmVudC5sbmdMYXQubGF0ID09PSBjb29yZGluYXRlc1sxXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNFdmVudEF0Q29vcmRpbmF0ZXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_event_at_coordinates.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_tap.js":
/*!***************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_tap.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TAP_INTERVAL: () => (/* binding */ TAP_INTERVAL),\n/* harmony export */   TAP_TOLERANCE: () => (/* binding */ TAP_TOLERANCE),\n/* harmony export */   \"default\": () => (/* binding */ isTap)\n/* harmony export */ });\n/* harmony import */ var _euclidean_distance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./euclidean_distance.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/euclidean_distance.js\");\n\n\nconst TAP_TOLERANCE = 25;\nconst TAP_INTERVAL = 250;\n\nfunction isTap(start, end, options = {}) {\n  const tolerance = (options.tolerance != null) ? options.tolerance : TAP_TOLERANCE;\n  const interval = (options.interval != null) ? options.interval : TAP_INTERVAL;\n\n  start.point = start.point || end.point;\n  start.time = start.time || end.time;\n  const moveDistance = (0,_euclidean_distance_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(start.point, end.point);\n\n  return moveDistance < tolerance && (end.time - start.time) < interval;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL2lzX3RhcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdEOztBQUVqRDtBQUNBOztBQUVRLHVDQUF1QztBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsa0VBQWlCOztBQUV4QztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvaXNfdGFwLmpzP2MxNWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV1Y2xpZGVhbkRpc3RhbmNlIGZyb20gJy4vZXVjbGlkZWFuX2Rpc3RhbmNlLmpzJztcblxuZXhwb3J0IGNvbnN0IFRBUF9UT0xFUkFOQ0UgPSAyNTtcbmV4cG9ydCBjb25zdCBUQVBfSU5URVJWQUwgPSAyNTA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVGFwKHN0YXJ0LCBlbmQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB0b2xlcmFuY2UgPSAob3B0aW9ucy50b2xlcmFuY2UgIT0gbnVsbCkgPyBvcHRpb25zLnRvbGVyYW5jZSA6IFRBUF9UT0xFUkFOQ0U7XG4gIGNvbnN0IGludGVydmFsID0gKG9wdGlvbnMuaW50ZXJ2YWwgIT0gbnVsbCkgPyBvcHRpb25zLmludGVydmFsIDogVEFQX0lOVEVSVkFMO1xuXG4gIHN0YXJ0LnBvaW50ID0gc3RhcnQucG9pbnQgfHwgZW5kLnBvaW50O1xuICBzdGFydC50aW1lID0gc3RhcnQudGltZSB8fCBlbmQudGltZTtcbiAgY29uc3QgbW92ZURpc3RhbmNlID0gZXVjbGlkZWFuRGlzdGFuY2Uoc3RhcnQucG9pbnQsIGVuZC5wb2ludCk7XG5cbiAgcmV0dXJuIG1vdmVEaXN0YW5jZSA8IHRvbGVyYW5jZSAmJiAoZW5kLnRpbWUgLSBzdGFydC50aW1lKSA8IGludGVydmFsO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_tap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/map_event_to_bounding_box.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/map_event_to_bounding_box.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Returns a bounding box representing the event's location.\n *\n * @param {Event} mapEvent - Mapbox GL JS map event, with a point properties.\n * @return {Array<Array<number>>} Bounding box.\n */\nfunction mapEventToBoundingBox(mapEvent, buffer = 0) {\n  return [\n    [mapEvent.point.x - buffer, mapEvent.point.y - buffer],\n    [mapEvent.point.x + buffer, mapEvent.point.y + buffer]\n  ];\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mapEventToBoundingBox);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL21hcF9ldmVudF90b19ib3VuZGluZ19ib3guanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixZQUFZLHNCQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxxQkFBcUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL21hcF9ldmVudF90b19ib3VuZGluZ19ib3guanM/NTEwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJldHVybnMgYSBib3VuZGluZyBib3ggcmVwcmVzZW50aW5nIHRoZSBldmVudCdzIGxvY2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IG1hcEV2ZW50IC0gTWFwYm94IEdMIEpTIG1hcCBldmVudCwgd2l0aCBhIHBvaW50IHByb3BlcnRpZXMuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gQm91bmRpbmcgYm94LlxuICovXG5mdW5jdGlvbiBtYXBFdmVudFRvQm91bmRpbmdCb3gobWFwRXZlbnQsIGJ1ZmZlciA9IDApIHtcbiAgcmV0dXJuIFtcbiAgICBbbWFwRXZlbnQucG9pbnQueCAtIGJ1ZmZlciwgbWFwRXZlbnQucG9pbnQueSAtIGJ1ZmZlcl0sXG4gICAgW21hcEV2ZW50LnBvaW50LnggKyBidWZmZXIsIG1hcEV2ZW50LnBvaW50LnkgKyBidWZmZXJdXG4gIF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1hcEV2ZW50VG9Cb3VuZGluZ0JveDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/map_event_to_bounding_box.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/mode_handler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/mode_handler.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\nconst ModeHandler = function(mode, DrawContext) {\n\n  const handlers = {\n    drag: [],\n    click: [],\n    mousemove: [],\n    mousedown: [],\n    mouseup: [],\n    mouseout: [],\n    keydown: [],\n    keyup: [],\n    touchstart: [],\n    touchmove: [],\n    touchend: [],\n    tap: []\n  };\n\n  const ctx = {\n    on(event, selector, fn) {\n      if (handlers[event] === undefined) {\n        throw new Error(`Invalid event type: ${event}`);\n      }\n      handlers[event].push({\n        selector,\n        fn\n      });\n    },\n    render(id) {\n      DrawContext.store.featureChanged(id);\n    }\n  };\n\n  const delegate = function (eventName, event) {\n    const handles = handlers[eventName];\n    let iHandle = handles.length;\n    while (iHandle--) {\n      const handle = handles[iHandle];\n      if (handle.selector(event)) {\n        const skipRender = handle.fn.call(ctx, event);\n        if (!skipRender) {\n          DrawContext.store.render();\n        }\n        DrawContext.ui.updateMapClasses();\n\n        // ensure an event is only handled once\n        // we do this to let modes have multiple overlapping selectors\n        // and relay on order of oppertations to filter\n        break;\n      }\n    }\n  };\n\n  mode.start.call(ctx);\n\n  return {\n    render: mode.render,\n    stop() {\n      if (mode.stop) mode.stop();\n    },\n    trash() {\n      if (mode.trash) {\n        mode.trash();\n        DrawContext.store.render();\n      }\n    },\n    combineFeatures() {\n      if (mode.combineFeatures) {\n        mode.combineFeatures();\n      }\n    },\n    uncombineFeatures() {\n      if (mode.uncombineFeatures) {\n        mode.uncombineFeatures();\n      }\n    },\n    drag(event) {\n      delegate('drag', event);\n    },\n    click(event) {\n      delegate('click', event);\n    },\n    mousemove(event) {\n      delegate('mousemove', event);\n    },\n    mousedown(event) {\n      delegate('mousedown', event);\n    },\n    mouseup(event) {\n      delegate('mouseup', event);\n    },\n    mouseout(event) {\n      delegate('mouseout', event);\n    },\n    keydown(event) {\n      delegate('keydown', event);\n    },\n    keyup(event) {\n      delegate('keyup', event);\n    },\n    touchstart(event) {\n      delegate('touchstart', event);\n    },\n    touchmove(event) {\n      delegate('touchmove', event);\n    },\n    touchend(event) {\n      delegate('touchend', event);\n    },\n    tap(event) {\n      delegate('tap', event);\n    }\n  };\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ModeHandler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL21vZGVfaGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE1BQU07QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxXQUFXLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2xpYi9tb2RlX2hhbmRsZXIuanM/NjdiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IE1vZGVIYW5kbGVyID0gZnVuY3Rpb24obW9kZSwgRHJhd0NvbnRleHQpIHtcblxuICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICBkcmFnOiBbXSxcbiAgICBjbGljazogW10sXG4gICAgbW91c2Vtb3ZlOiBbXSxcbiAgICBtb3VzZWRvd246IFtdLFxuICAgIG1vdXNldXA6IFtdLFxuICAgIG1vdXNlb3V0OiBbXSxcbiAgICBrZXlkb3duOiBbXSxcbiAgICBrZXl1cDogW10sXG4gICAgdG91Y2hzdGFydDogW10sXG4gICAgdG91Y2htb3ZlOiBbXSxcbiAgICB0b3VjaGVuZDogW10sXG4gICAgdGFwOiBbXVxuICB9O1xuXG4gIGNvbnN0IGN0eCA9IHtcbiAgICBvbihldmVudCwgc2VsZWN0b3IsIGZuKSB7XG4gICAgICBpZiAoaGFuZGxlcnNbZXZlbnRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGV2ZW50IHR5cGU6ICR7ZXZlbnR9YCk7XG4gICAgICB9XG4gICAgICBoYW5kbGVyc1tldmVudF0ucHVzaCh7XG4gICAgICAgIHNlbGVjdG9yLFxuICAgICAgICBmblxuICAgICAgfSk7XG4gICAgfSxcbiAgICByZW5kZXIoaWQpIHtcbiAgICAgIERyYXdDb250ZXh0LnN0b3JlLmZlYXR1cmVDaGFuZ2VkKGlkKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZWdhdGUgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudCkge1xuICAgIGNvbnN0IGhhbmRsZXMgPSBoYW5kbGVyc1tldmVudE5hbWVdO1xuICAgIGxldCBpSGFuZGxlID0gaGFuZGxlcy5sZW5ndGg7XG4gICAgd2hpbGUgKGlIYW5kbGUtLSkge1xuICAgICAgY29uc3QgaGFuZGxlID0gaGFuZGxlc1tpSGFuZGxlXTtcbiAgICAgIGlmIChoYW5kbGUuc2VsZWN0b3IoZXZlbnQpKSB7XG4gICAgICAgIGNvbnN0IHNraXBSZW5kZXIgPSBoYW5kbGUuZm4uY2FsbChjdHgsIGV2ZW50KTtcbiAgICAgICAgaWYgKCFza2lwUmVuZGVyKSB7XG4gICAgICAgICAgRHJhd0NvbnRleHQuc3RvcmUucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgRHJhd0NvbnRleHQudWkudXBkYXRlTWFwQ2xhc3NlcygpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBhbiBldmVudCBpcyBvbmx5IGhhbmRsZWQgb25jZVxuICAgICAgICAvLyB3ZSBkbyB0aGlzIHRvIGxldCBtb2RlcyBoYXZlIG11bHRpcGxlIG92ZXJsYXBwaW5nIHNlbGVjdG9yc1xuICAgICAgICAvLyBhbmQgcmVsYXkgb24gb3JkZXIgb2Ygb3BwZXJ0YXRpb25zIHRvIGZpbHRlclxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgbW9kZS5zdGFydC5jYWxsKGN0eCk7XG5cbiAgcmV0dXJuIHtcbiAgICByZW5kZXI6IG1vZGUucmVuZGVyLFxuICAgIHN0b3AoKSB7XG4gICAgICBpZiAobW9kZS5zdG9wKSBtb2RlLnN0b3AoKTtcbiAgICB9LFxuICAgIHRyYXNoKCkge1xuICAgICAgaWYgKG1vZGUudHJhc2gpIHtcbiAgICAgICAgbW9kZS50cmFzaCgpO1xuICAgICAgICBEcmF3Q29udGV4dC5zdG9yZS5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbWJpbmVGZWF0dXJlcygpIHtcbiAgICAgIGlmIChtb2RlLmNvbWJpbmVGZWF0dXJlcykge1xuICAgICAgICBtb2RlLmNvbWJpbmVGZWF0dXJlcygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdW5jb21iaW5lRmVhdHVyZXMoKSB7XG4gICAgICBpZiAobW9kZS51bmNvbWJpbmVGZWF0dXJlcykge1xuICAgICAgICBtb2RlLnVuY29tYmluZUZlYXR1cmVzKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnKGV2ZW50KSB7XG4gICAgICBkZWxlZ2F0ZSgnZHJhZycsIGV2ZW50KTtcbiAgICB9LFxuICAgIGNsaWNrKGV2ZW50KSB7XG4gICAgICBkZWxlZ2F0ZSgnY2xpY2snLCBldmVudCk7XG4gICAgfSxcbiAgICBtb3VzZW1vdmUoZXZlbnQpIHtcbiAgICAgIGRlbGVnYXRlKCdtb3VzZW1vdmUnLCBldmVudCk7XG4gICAgfSxcbiAgICBtb3VzZWRvd24oZXZlbnQpIHtcbiAgICAgIGRlbGVnYXRlKCdtb3VzZWRvd24nLCBldmVudCk7XG4gICAgfSxcbiAgICBtb3VzZXVwKGV2ZW50KSB7XG4gICAgICBkZWxlZ2F0ZSgnbW91c2V1cCcsIGV2ZW50KTtcbiAgICB9LFxuICAgIG1vdXNlb3V0KGV2ZW50KSB7XG4gICAgICBkZWxlZ2F0ZSgnbW91c2VvdXQnLCBldmVudCk7XG4gICAgfSxcbiAgICBrZXlkb3duKGV2ZW50KSB7XG4gICAgICBkZWxlZ2F0ZSgna2V5ZG93bicsIGV2ZW50KTtcbiAgICB9LFxuICAgIGtleXVwKGV2ZW50KSB7XG4gICAgICBkZWxlZ2F0ZSgna2V5dXAnLCBldmVudCk7XG4gICAgfSxcbiAgICB0b3VjaHN0YXJ0KGV2ZW50KSB7XG4gICAgICBkZWxlZ2F0ZSgndG91Y2hzdGFydCcsIGV2ZW50KTtcbiAgICB9LFxuICAgIHRvdWNobW92ZShldmVudCkge1xuICAgICAgZGVsZWdhdGUoJ3RvdWNobW92ZScsIGV2ZW50KTtcbiAgICB9LFxuICAgIHRvdWNoZW5kKGV2ZW50KSB7XG4gICAgICBkZWxlZ2F0ZSgndG91Y2hlbmQnLCBldmVudCk7XG4gICAgfSxcbiAgICB0YXAoZXZlbnQpIHtcbiAgICAgIGRlbGVnYXRlKCd0YXAnLCBldmVudCk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTW9kZUhhbmRsZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/mode_handler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/mouse_event_point.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/mouse_event_point.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mapbox_point_geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mapbox/point-geometry */ \"(ssr)/./node_modules/@mapbox/point-geometry/index.js\");\n\n\n/**\n * Returns a Point representing a mouse event's position\n * relative to a containing element.\n *\n * @param {MouseEvent} mouseEvent\n * @param {Node} container\n * @returns {Point}\n */\nfunction mouseEventPoint(mouseEvent, container) {\n  const rect = container.getBoundingClientRect();\n  return new _mapbox_point_geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\n    mouseEvent.clientX - rect.left - (container.clientLeft || 0),\n    mouseEvent.clientY - rect.top - (container.clientTop || 0)\n  );\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mouseEventPoint);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL21vdXNlX2V2ZW50X3BvaW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLE1BQU07QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWEsOERBQUs7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsZUFBZSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvbW91c2VfZXZlbnRfcG9pbnQuanM/MTNhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbi8qKlxuICogUmV0dXJucyBhIFBvaW50IHJlcHJlc2VudGluZyBhIG1vdXNlIGV2ZW50J3MgcG9zaXRpb25cbiAqIHJlbGF0aXZlIHRvIGEgY29udGFpbmluZyBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VFdmVudFxuICogQHBhcmFtIHtOb2RlfSBjb250YWluZXJcbiAqIEByZXR1cm5zIHtQb2ludH1cbiAqL1xuZnVuY3Rpb24gbW91c2VFdmVudFBvaW50KG1vdXNlRXZlbnQsIGNvbnRhaW5lcikge1xuICBjb25zdCByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4gbmV3IFBvaW50KFxuICAgIG1vdXNlRXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCAtIChjb250YWluZXIuY2xpZW50TGVmdCB8fCAwKSxcbiAgICBtb3VzZUV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIChjb250YWluZXIuY2xpZW50VG9wIHx8IDApXG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1vdXNlRXZlbnRQb2ludDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/mouse_event_point.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/move_features.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/move_features.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constrain_feature_movement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constrain_feature_movement.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/constrain_feature_movement.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(features, delta) {\n  const constrainedDelta = (0,_constrain_feature_movement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(features.map(feature => feature.toGeoJSON()), delta);\n\n  features.forEach((feature) => {\n    const currentCoordinates = feature.getCoordinates();\n\n    const moveCoordinate = (coord) => {\n      const point = {\n        lng: coord[0] + constrainedDelta.lng,\n        lat: coord[1] + constrainedDelta.lat\n      };\n      return [point.lng, point.lat];\n    };\n    const moveRing = ring => ring.map(coord => moveCoordinate(coord));\n    const moveMultiPolygon = multi => multi.map(ring => moveRing(ring));\n\n    let nextCoordinates;\n    if (feature.type === _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.POINT) {\n      nextCoordinates = moveCoordinate(currentCoordinates);\n    } else if (feature.type === _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.LINE_STRING || feature.type === _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.MULTI_POINT) {\n      nextCoordinates = currentCoordinates.map(moveCoordinate);\n    } else if (feature.type === _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.POLYGON || feature.type === _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.MULTI_LINE_STRING) {\n      nextCoordinates = currentCoordinates.map(moveRing);\n    } else if (feature.type === _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.MULTI_POLYGON) {\n      nextCoordinates = currentCoordinates.map(moveMultiPolygon);\n    }\n\n    feature.incomingCoords(nextCoordinates);\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL21vdmVfZmVhdHVyZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVFO0FBQzFCOztBQUU3Qyw2QkFBZSxvQ0FBUztBQUN4QiwyQkFBMkIsMEVBQXdCOztBQUVuRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5Qix1REFBc0I7QUFDL0M7QUFDQSxNQUFNLDBCQUEwQix1REFBc0IsaUNBQWlDLHVEQUFzQjtBQUM3RztBQUNBLE1BQU0sMEJBQTBCLHVEQUFzQiw2QkFBNkIsdURBQXNCO0FBQ3pHO0FBQ0EsTUFBTSwwQkFBMEIsdURBQXNCO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL2xpYi9tb3ZlX2ZlYXR1cmVzLmpzP2U1NWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbnN0cmFpbkZlYXR1cmVNb3ZlbWVudCBmcm9tICcuL2NvbnN0cmFpbl9mZWF0dXJlX21vdmVtZW50LmpzJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihmZWF0dXJlcywgZGVsdGEpIHtcbiAgY29uc3QgY29uc3RyYWluZWREZWx0YSA9IGNvbnN0cmFpbkZlYXR1cmVNb3ZlbWVudChmZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLnRvR2VvSlNPTigpKSwgZGVsdGEpO1xuXG4gIGZlYXR1cmVzLmZvckVhY2goKGZlYXR1cmUpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Q29vcmRpbmF0ZXMgPSBmZWF0dXJlLmdldENvb3JkaW5hdGVzKCk7XG5cbiAgICBjb25zdCBtb3ZlQ29vcmRpbmF0ZSA9IChjb29yZCkgPT4ge1xuICAgICAgY29uc3QgcG9pbnQgPSB7XG4gICAgICAgIGxuZzogY29vcmRbMF0gKyBjb25zdHJhaW5lZERlbHRhLmxuZyxcbiAgICAgICAgbGF0OiBjb29yZFsxXSArIGNvbnN0cmFpbmVkRGVsdGEubGF0XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFtwb2ludC5sbmcsIHBvaW50LmxhdF07XG4gICAgfTtcbiAgICBjb25zdCBtb3ZlUmluZyA9IHJpbmcgPT4gcmluZy5tYXAoY29vcmQgPT4gbW92ZUNvb3JkaW5hdGUoY29vcmQpKTtcbiAgICBjb25zdCBtb3ZlTXVsdGlQb2x5Z29uID0gbXVsdGkgPT4gbXVsdGkubWFwKHJpbmcgPT4gbW92ZVJpbmcocmluZykpO1xuXG4gICAgbGV0IG5leHRDb29yZGluYXRlcztcbiAgICBpZiAoZmVhdHVyZS50eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPSU5UKSB7XG4gICAgICBuZXh0Q29vcmRpbmF0ZXMgPSBtb3ZlQ29vcmRpbmF0ZShjdXJyZW50Q29vcmRpbmF0ZXMpO1xuICAgIH0gZWxzZSBpZiAoZmVhdHVyZS50eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLkxJTkVfU1RSSU5HIHx8IGZlYXR1cmUudHlwZSA9PT0gQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5NVUxUSV9QT0lOVCkge1xuICAgICAgbmV4dENvb3JkaW5hdGVzID0gY3VycmVudENvb3JkaW5hdGVzLm1hcChtb3ZlQ29vcmRpbmF0ZSk7XG4gICAgfSBlbHNlIGlmIChmZWF0dXJlLnR5cGUgPT09IENvbnN0YW50cy5nZW9qc29uVHlwZXMuUE9MWUdPTiB8fCBmZWF0dXJlLnR5cGUgPT09IENvbnN0YW50cy5nZW9qc29uVHlwZXMuTVVMVElfTElORV9TVFJJTkcpIHtcbiAgICAgIG5leHRDb29yZGluYXRlcyA9IGN1cnJlbnRDb29yZGluYXRlcy5tYXAobW92ZVJpbmcpO1xuICAgIH0gZWxzZSBpZiAoZmVhdHVyZS50eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLk1VTFRJX1BPTFlHT04pIHtcbiAgICAgIG5leHRDb29yZGluYXRlcyA9IGN1cnJlbnRDb29yZGluYXRlcy5tYXAobW92ZU11bHRpUG9seWdvbik7XG4gICAgfVxuXG4gICAgZmVhdHVyZS5pbmNvbWluZ0Nvb3JkcyhuZXh0Q29vcmRpbmF0ZXMpO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/move_features.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/sort_features.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/sort_features.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mapbox_geojson_area__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mapbox/geojson-area */ \"(ssr)/./node_modules/@mapbox/geojson-area/index.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\nconst FEATURE_SORT_RANKS = {\n  Point: 0,\n  LineString: 1,\n  MultiLineString: 1,\n  Polygon: 2\n};\n\nfunction comparator(a, b) {\n  const score = FEATURE_SORT_RANKS[a.geometry.type] - FEATURE_SORT_RANKS[b.geometry.type];\n\n  if (score === 0 && a.geometry.type === _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.POLYGON) {\n    return a.area - b.area;\n  }\n\n  return score;\n}\n\n// Sort in the order above, then sort polygons by area ascending.\nfunction sortFeatures(features) {\n  return features.map((feature) => {\n    if (feature.geometry.type === _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.POLYGON) {\n      feature.area = _mapbox_geojson_area__WEBPACK_IMPORTED_MODULE_0__.geometry({\n        type: _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.FEATURE,\n        property: {},\n        geometry: feature.geometry\n      });\n    }\n    return feature;\n  }).sort(comparator).map((feature) => {\n    delete feature.area;\n    return feature;\n  });\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sortFeatures);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL3NvcnRfZmVhdHVyZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdDO0FBQ0s7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlDQUF5Qyx1REFBc0I7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx1REFBc0I7QUFDeEQscUJBQXFCLDBEQUFhO0FBQ2xDLGNBQWMsdURBQXNCO0FBQ3BDLG9CQUFvQjtBQUNwQjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEsaUVBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvc29ydF9mZWF0dXJlcy5qcz9hNjk3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcmVhIGZyb20gJ0BtYXBib3gvZ2VvanNvbi1hcmVhJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuXG5jb25zdCBGRUFUVVJFX1NPUlRfUkFOS1MgPSB7XG4gIFBvaW50OiAwLFxuICBMaW5lU3RyaW5nOiAxLFxuICBNdWx0aUxpbmVTdHJpbmc6IDEsXG4gIFBvbHlnb246IDJcbn07XG5cbmZ1bmN0aW9uIGNvbXBhcmF0b3IoYSwgYikge1xuICBjb25zdCBzY29yZSA9IEZFQVRVUkVfU09SVF9SQU5LU1thLmdlb21ldHJ5LnR5cGVdIC0gRkVBVFVSRV9TT1JUX1JBTktTW2IuZ2VvbWV0cnkudHlwZV07XG5cbiAgaWYgKHNjb3JlID09PSAwICYmIGEuZ2VvbWV0cnkudHlwZSA9PT0gQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5QT0xZR09OKSB7XG4gICAgcmV0dXJuIGEuYXJlYSAtIGIuYXJlYTtcbiAgfVxuXG4gIHJldHVybiBzY29yZTtcbn1cblxuLy8gU29ydCBpbiB0aGUgb3JkZXIgYWJvdmUsIHRoZW4gc29ydCBwb2x5Z29ucyBieSBhcmVhIGFzY2VuZGluZy5cbmZ1bmN0aW9uIHNvcnRGZWF0dXJlcyhmZWF0dXJlcykge1xuICByZXR1cm4gZmVhdHVyZXMubWFwKChmZWF0dXJlKSA9PiB7XG4gICAgaWYgKGZlYXR1cmUuZ2VvbWV0cnkudHlwZSA9PT0gQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5QT0xZR09OKSB7XG4gICAgICBmZWF0dXJlLmFyZWEgPSBhcmVhLmdlb21ldHJ5KHtcbiAgICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFLFxuICAgICAgICBwcm9wZXJ0eToge30sXG4gICAgICAgIGdlb21ldHJ5OiBmZWF0dXJlLmdlb21ldHJ5XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZlYXR1cmU7XG4gIH0pLnNvcnQoY29tcGFyYXRvcikubWFwKChmZWF0dXJlKSA9PiB7XG4gICAgZGVsZXRlIGZlYXR1cmUuYXJlYTtcbiAgICByZXR1cm4gZmVhdHVyZTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNvcnRGZWF0dXJlcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/sort_features.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction StringSet(items) {\n  this._items = {};\n  this._nums = {};\n  this._length = items ? items.length : 0;\n  if (!items) return;\n  for (let i = 0, l = items.length; i < l; i++) {\n    this.add(items[i]);\n    if (items[i] === undefined) continue;\n    if (typeof items[i] === 'string') this._items[items[i]] = i;\n    else this._nums[items[i]] = i;\n\n  }\n}\n\nStringSet.prototype.add = function(x) {\n  if (this.has(x)) return this;\n  this._length++;\n  if (typeof x === 'string') this._items[x] = this._length;\n  else this._nums[x] = this._length;\n  return this;\n};\n\nStringSet.prototype.delete = function(x) {\n  if (this.has(x) === false) return this;\n  this._length--;\n  delete this._items[x];\n  delete this._nums[x];\n  return this;\n};\n\nStringSet.prototype.has = function(x) {\n  if (typeof x !== 'string' && typeof x !== 'number') return false;\n  return this._items[x] !== undefined || this._nums[x] !== undefined;\n};\n\nStringSet.prototype.values = function() {\n  const values = [];\n  Object.keys(this._items).forEach((k) => {\n    values.push({ k, v: this._items[k] });\n  });\n  Object.keys(this._nums).forEach((k) => {\n    values.push({ k: JSON.parse(k), v: this._nums[k] });\n  });\n\n  return values.sort((a, b) => a.v - b.v).map(a => a.k);\n};\n\nStringSet.prototype.clear = function() {\n  this._length = 0;\n  this._items = {};\n  this._nums = {};\n  return this;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StringSet);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL3N0cmluZ19zZXQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEMsR0FBRztBQUNIO0FBQ0Esa0JBQWtCLG9DQUFvQztBQUN0RCxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLFNBQVMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL3N0cmluZ19zZXQuanM/OTI0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBTdHJpbmdTZXQoaXRlbXMpIHtcbiAgdGhpcy5faXRlbXMgPSB7fTtcbiAgdGhpcy5fbnVtcyA9IHt9O1xuICB0aGlzLl9sZW5ndGggPSBpdGVtcyA/IGl0ZW1zLmxlbmd0aCA6IDA7XG4gIGlmICghaXRlbXMpIHJldHVybjtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBpdGVtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB0aGlzLmFkZChpdGVtc1tpXSk7XG4gICAgaWYgKGl0ZW1zW2ldID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgIGlmICh0eXBlb2YgaXRlbXNbaV0gPT09ICdzdHJpbmcnKSB0aGlzLl9pdGVtc1tpdGVtc1tpXV0gPSBpO1xuICAgIGVsc2UgdGhpcy5fbnVtc1tpdGVtc1tpXV0gPSBpO1xuXG4gIH1cbn1cblxuU3RyaW5nU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih4KSB7XG4gIGlmICh0aGlzLmhhcyh4KSkgcmV0dXJuIHRoaXM7XG4gIHRoaXMuX2xlbmd0aCsrO1xuICBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSB0aGlzLl9pdGVtc1t4XSA9IHRoaXMuX2xlbmd0aDtcbiAgZWxzZSB0aGlzLl9udW1zW3hdID0gdGhpcy5fbGVuZ3RoO1xuICByZXR1cm4gdGhpcztcbn07XG5cblN0cmluZ1NldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24oeCkge1xuICBpZiAodGhpcy5oYXMoeCkgPT09IGZhbHNlKSByZXR1cm4gdGhpcztcbiAgdGhpcy5fbGVuZ3RoLS07XG4gIGRlbGV0ZSB0aGlzLl9pdGVtc1t4XTtcbiAgZGVsZXRlIHRoaXMuX251bXNbeF07XG4gIHJldHVybiB0aGlzO1xufTtcblxuU3RyaW5nU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbih4KSB7XG4gIGlmICh0eXBlb2YgeCAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHggIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0aGlzLl9pdGVtc1t4XSAhPT0gdW5kZWZpbmVkIHx8IHRoaXMuX251bXNbeF0gIT09IHVuZGVmaW5lZDtcbn07XG5cblN0cmluZ1NldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHZhbHVlcyA9IFtdO1xuICBPYmplY3Qua2V5cyh0aGlzLl9pdGVtcykuZm9yRWFjaCgoaykgPT4ge1xuICAgIHZhbHVlcy5wdXNoKHsgaywgdjogdGhpcy5faXRlbXNba10gfSk7XG4gIH0pO1xuICBPYmplY3Qua2V5cyh0aGlzLl9udW1zKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgdmFsdWVzLnB1c2goeyBrOiBKU09OLnBhcnNlKGspLCB2OiB0aGlzLl9udW1zW2tdIH0pO1xuICB9KTtcblxuICByZXR1cm4gdmFsdWVzLnNvcnQoKGEsIGIpID0+IGEudiAtIGIudikubWFwKGEgPT4gYS5rKTtcbn07XG5cblN0cmluZ1NldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgdGhpcy5faXRlbXMgPSB7fTtcbiAgdGhpcy5fbnVtcyA9IHt9O1xuICByZXR1cm4gdGhpcztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZ1NldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_sets_are_equal.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_sets_are_equal.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(a, b) {\n  if (a.length !== b.length) return false;\n  return JSON.stringify(a.map(id => id).sort()) === JSON.stringify(b.map(id => id).sort());\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL3N0cmluZ19zZXRzX2FyZV9lcXVhbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsNkJBQWUsb0NBQVM7QUFDeEI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9saWIvc3RyaW5nX3NldHNfYXJlX2VxdWFsLmpzPzgyZTQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShhLm1hcChpZCA9PiBpZCkuc29ydCgpKSA9PT0gSlNPTi5zdHJpbmdpZnkoYi5tYXAoaWQgPT4gaWQpLnNvcnQoKSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_sets_are_equal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/theme.js":
/*!**************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/theme.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* eslint comma-dangle: [\"error\", \"always-multiline\"] */\n\nconst blue = '#3bb2d0';\nconst orange = '#fbb03b';\nconst white = '#fff';\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([\n  // Polygons\n  //   Solid fill\n  //   Active state defines color\n  {\n    'id': 'gl-draw-polygon-fill',\n    'type': 'fill',\n    'filter': [\n      'all',\n      ['==', '$type', 'Polygon'],\n    ],\n    'paint': {\n      'fill-color': [\n        'case',\n        ['==', ['get', 'active'], 'true'], orange,\n        blue,\n      ],\n      'fill-opacity': 0.1,\n    },\n  },\n  // Lines\n  // Polygon\n  //   Matches Lines AND Polygons\n  //   Active state defines color\n  {\n    'id': 'gl-draw-lines',\n    'type': 'line',\n    'filter': [\n      'any',\n      ['==', '$type', 'LineString'],\n      ['==', '$type', 'Polygon'],\n    ],\n    'layout': {\n      'line-cap': 'round',\n      'line-join': 'round',\n    },\n    'paint': {\n      'line-color': [\n        'case',\n        ['==', ['get', 'active'], 'true'], orange,\n        blue,\n      ],\n      'line-dasharray': [\n        'case',\n        ['==', ['get', 'active'], 'true'], [0.2, 2],\n        [2, 0],\n      ],\n      'line-width': 2,\n    },\n  },\n  // Points\n  //   Circle with an outline\n  //   Active state defines size and color\n  {\n    'id': 'gl-draw-point-outer',\n    'type': 'circle',\n    'filter': [\n      'all',\n      ['==', '$type', 'Point'],\n      ['==', 'meta', 'feature'],\n    ],\n    'paint': {\n      'circle-radius': [\n        'case',\n        ['==', ['get', 'active'], 'true'], 7,\n        5,\n      ],\n      'circle-color': white,\n    },\n  },\n  {\n    'id': 'gl-draw-point-inner',\n    'type': 'circle',\n    'filter': [\n      'all',\n      ['==', '$type', 'Point'],\n      ['==', 'meta', 'feature'],\n    ],\n    'paint': {\n      'circle-radius': [\n        'case',\n        ['==', ['get', 'active'], 'true'], 5,\n        3,\n      ],\n      'circle-color': [\n        'case',\n        ['==', ['get', 'active'], 'true'], orange,\n        blue,\n      ],\n    },\n  },\n  // Vertex\n  //   Visible when editing polygons and lines\n  //   Similar behaviour to Points\n  //   Active state defines size\n  {\n    'id': 'gl-draw-vertex-outer',\n    'type': 'circle',\n    'filter': [\n      'all',\n      ['==', '$type', 'Point'],\n      ['==', 'meta', 'vertex'],\n      ['!=', 'mode', 'simple_select'],\n    ],\n    'paint': {\n      'circle-radius': [\n        'case',\n        ['==', ['get', 'active'], 'true'], 7,\n        5,\n      ],\n      'circle-color': white,\n    },\n  },\n  {\n    'id': 'gl-draw-vertex-inner',\n    'type': 'circle',\n    'filter': [\n      'all',\n      ['==', '$type', 'Point'],\n      ['==', 'meta', 'vertex'],\n      ['!=', 'mode', 'simple_select'],\n    ],\n    'paint': {\n      'circle-radius': [\n        'case',\n        ['==', ['get', 'active'], 'true'], 5,\n        3,\n      ],\n      'circle-color': orange,\n    },\n  },\n  // Midpoint\n  //   Visible when editing polygons and lines\n  //   Tapping or dragging them adds a new vertex to the feature\n  {\n    'id': 'gl-draw-midpoint',\n    'type': 'circle',\n    'filter': [\n      'all',\n      ['==', 'meta', 'midpoint'],\n    ],\n    'paint': {\n      'circle-radius': 3,\n      'circle-color': orange,\n    },\n  },\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL3RoZW1lLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL3RoZW1lLmpzPzliMDEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IGNvbW1hLWRhbmdsZTogW1wiZXJyb3JcIiwgXCJhbHdheXMtbXVsdGlsaW5lXCJdICovXG5cbmNvbnN0IGJsdWUgPSAnIzNiYjJkMCc7XG5jb25zdCBvcmFuZ2UgPSAnI2ZiYjAzYic7XG5jb25zdCB3aGl0ZSA9ICcjZmZmJztcblxuZXhwb3J0IGRlZmF1bHQgW1xuICAvLyBQb2x5Z29uc1xuICAvLyAgIFNvbGlkIGZpbGxcbiAgLy8gICBBY3RpdmUgc3RhdGUgZGVmaW5lcyBjb2xvclxuICB7XG4gICAgJ2lkJzogJ2dsLWRyYXctcG9seWdvbi1maWxsJyxcbiAgICAndHlwZSc6ICdmaWxsJyxcbiAgICAnZmlsdGVyJzogW1xuICAgICAgJ2FsbCcsXG4gICAgICBbJz09JywgJyR0eXBlJywgJ1BvbHlnb24nXSxcbiAgICBdLFxuICAgICdwYWludCc6IHtcbiAgICAgICdmaWxsLWNvbG9yJzogW1xuICAgICAgICAnY2FzZScsXG4gICAgICAgIFsnPT0nLCBbJ2dldCcsICdhY3RpdmUnXSwgJ3RydWUnXSwgb3JhbmdlLFxuICAgICAgICBibHVlLFxuICAgICAgXSxcbiAgICAgICdmaWxsLW9wYWNpdHknOiAwLjEsXG4gICAgfSxcbiAgfSxcbiAgLy8gTGluZXNcbiAgLy8gUG9seWdvblxuICAvLyAgIE1hdGNoZXMgTGluZXMgQU5EIFBvbHlnb25zXG4gIC8vICAgQWN0aXZlIHN0YXRlIGRlZmluZXMgY29sb3JcbiAge1xuICAgICdpZCc6ICdnbC1kcmF3LWxpbmVzJyxcbiAgICAndHlwZSc6ICdsaW5lJyxcbiAgICAnZmlsdGVyJzogW1xuICAgICAgJ2FueScsXG4gICAgICBbJz09JywgJyR0eXBlJywgJ0xpbmVTdHJpbmcnXSxcbiAgICAgIFsnPT0nLCAnJHR5cGUnLCAnUG9seWdvbiddLFxuICAgIF0sXG4gICAgJ2xheW91dCc6IHtcbiAgICAgICdsaW5lLWNhcCc6ICdyb3VuZCcsXG4gICAgICAnbGluZS1qb2luJzogJ3JvdW5kJyxcbiAgICB9LFxuICAgICdwYWludCc6IHtcbiAgICAgICdsaW5lLWNvbG9yJzogW1xuICAgICAgICAnY2FzZScsXG4gICAgICAgIFsnPT0nLCBbJ2dldCcsICdhY3RpdmUnXSwgJ3RydWUnXSwgb3JhbmdlLFxuICAgICAgICBibHVlLFxuICAgICAgXSxcbiAgICAgICdsaW5lLWRhc2hhcnJheSc6IFtcbiAgICAgICAgJ2Nhc2UnLFxuICAgICAgICBbJz09JywgWydnZXQnLCAnYWN0aXZlJ10sICd0cnVlJ10sIFswLjIsIDJdLFxuICAgICAgICBbMiwgMF0sXG4gICAgICBdLFxuICAgICAgJ2xpbmUtd2lkdGgnOiAyLFxuICAgIH0sXG4gIH0sXG4gIC8vIFBvaW50c1xuICAvLyAgIENpcmNsZSB3aXRoIGFuIG91dGxpbmVcbiAgLy8gICBBY3RpdmUgc3RhdGUgZGVmaW5lcyBzaXplIGFuZCBjb2xvclxuICB7XG4gICAgJ2lkJzogJ2dsLWRyYXctcG9pbnQtb3V0ZXInLFxuICAgICd0eXBlJzogJ2NpcmNsZScsXG4gICAgJ2ZpbHRlcic6IFtcbiAgICAgICdhbGwnLFxuICAgICAgWyc9PScsICckdHlwZScsICdQb2ludCddLFxuICAgICAgWyc9PScsICdtZXRhJywgJ2ZlYXR1cmUnXSxcbiAgICBdLFxuICAgICdwYWludCc6IHtcbiAgICAgICdjaXJjbGUtcmFkaXVzJzogW1xuICAgICAgICAnY2FzZScsXG4gICAgICAgIFsnPT0nLCBbJ2dldCcsICdhY3RpdmUnXSwgJ3RydWUnXSwgNyxcbiAgICAgICAgNSxcbiAgICAgIF0sXG4gICAgICAnY2lyY2xlLWNvbG9yJzogd2hpdGUsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgICdpZCc6ICdnbC1kcmF3LXBvaW50LWlubmVyJyxcbiAgICAndHlwZSc6ICdjaXJjbGUnLFxuICAgICdmaWx0ZXInOiBbXG4gICAgICAnYWxsJyxcbiAgICAgIFsnPT0nLCAnJHR5cGUnLCAnUG9pbnQnXSxcbiAgICAgIFsnPT0nLCAnbWV0YScsICdmZWF0dXJlJ10sXG4gICAgXSxcbiAgICAncGFpbnQnOiB7XG4gICAgICAnY2lyY2xlLXJhZGl1cyc6IFtcbiAgICAgICAgJ2Nhc2UnLFxuICAgICAgICBbJz09JywgWydnZXQnLCAnYWN0aXZlJ10sICd0cnVlJ10sIDUsXG4gICAgICAgIDMsXG4gICAgICBdLFxuICAgICAgJ2NpcmNsZS1jb2xvcic6IFtcbiAgICAgICAgJ2Nhc2UnLFxuICAgICAgICBbJz09JywgWydnZXQnLCAnYWN0aXZlJ10sICd0cnVlJ10sIG9yYW5nZSxcbiAgICAgICAgYmx1ZSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfSxcbiAgLy8gVmVydGV4XG4gIC8vICAgVmlzaWJsZSB3aGVuIGVkaXRpbmcgcG9seWdvbnMgYW5kIGxpbmVzXG4gIC8vICAgU2ltaWxhciBiZWhhdmlvdXIgdG8gUG9pbnRzXG4gIC8vICAgQWN0aXZlIHN0YXRlIGRlZmluZXMgc2l6ZVxuICB7XG4gICAgJ2lkJzogJ2dsLWRyYXctdmVydGV4LW91dGVyJyxcbiAgICAndHlwZSc6ICdjaXJjbGUnLFxuICAgICdmaWx0ZXInOiBbXG4gICAgICAnYWxsJyxcbiAgICAgIFsnPT0nLCAnJHR5cGUnLCAnUG9pbnQnXSxcbiAgICAgIFsnPT0nLCAnbWV0YScsICd2ZXJ0ZXgnXSxcbiAgICAgIFsnIT0nLCAnbW9kZScsICdzaW1wbGVfc2VsZWN0J10sXG4gICAgXSxcbiAgICAncGFpbnQnOiB7XG4gICAgICAnY2lyY2xlLXJhZGl1cyc6IFtcbiAgICAgICAgJ2Nhc2UnLFxuICAgICAgICBbJz09JywgWydnZXQnLCAnYWN0aXZlJ10sICd0cnVlJ10sIDcsXG4gICAgICAgIDUsXG4gICAgICBdLFxuICAgICAgJ2NpcmNsZS1jb2xvcic6IHdoaXRlLFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICAnaWQnOiAnZ2wtZHJhdy12ZXJ0ZXgtaW5uZXInLFxuICAgICd0eXBlJzogJ2NpcmNsZScsXG4gICAgJ2ZpbHRlcic6IFtcbiAgICAgICdhbGwnLFxuICAgICAgWyc9PScsICckdHlwZScsICdQb2ludCddLFxuICAgICAgWyc9PScsICdtZXRhJywgJ3ZlcnRleCddLFxuICAgICAgWychPScsICdtb2RlJywgJ3NpbXBsZV9zZWxlY3QnXSxcbiAgICBdLFxuICAgICdwYWludCc6IHtcbiAgICAgICdjaXJjbGUtcmFkaXVzJzogW1xuICAgICAgICAnY2FzZScsXG4gICAgICAgIFsnPT0nLCBbJ2dldCcsICdhY3RpdmUnXSwgJ3RydWUnXSwgNSxcbiAgICAgICAgMyxcbiAgICAgIF0sXG4gICAgICAnY2lyY2xlLWNvbG9yJzogb3JhbmdlLFxuICAgIH0sXG4gIH0sXG4gIC8vIE1pZHBvaW50XG4gIC8vICAgVmlzaWJsZSB3aGVuIGVkaXRpbmcgcG9seWdvbnMgYW5kIGxpbmVzXG4gIC8vICAgVGFwcGluZyBvciBkcmFnZ2luZyB0aGVtIGFkZHMgYSBuZXcgdmVydGV4IHRvIHRoZSBmZWF0dXJlXG4gIHtcbiAgICAnaWQnOiAnZ2wtZHJhdy1taWRwb2ludCcsXG4gICAgJ3R5cGUnOiAnY2lyY2xlJyxcbiAgICAnZmlsdGVyJzogW1xuICAgICAgJ2FsbCcsXG4gICAgICBbJz09JywgJ21ldGEnLCAnbWlkcG9pbnQnXSxcbiAgICBdLFxuICAgICdwYWludCc6IHtcbiAgICAgICdjaXJjbGUtcmFkaXVzJzogMyxcbiAgICAgICdjaXJjbGUtY29sb3InOiBvcmFuZ2UsXG4gICAgfSxcbiAgfSxcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/theme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/to_dense_array.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/lib/to_dense_array.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Derive a dense array (no `undefined`s) from a single value or array.\n *\n * @param {any} x\n * @return {Array<any>}\n */\nfunction toDenseArray(x) {\n  return [].concat(x).filter(y => y !== undefined);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (toDenseArray);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL3RvX2RlbnNlX2FycmF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLFlBQVksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbGliL3RvX2RlbnNlX2FycmF5LmpzP2FjOWQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEZXJpdmUgYSBkZW5zZSBhcnJheSAobm8gYHVuZGVmaW5lZGBzKSBmcm9tIGEgc2luZ2xlIHZhbHVlIG9yIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7YW55fSB4XG4gKiBAcmV0dXJuIHtBcnJheTxhbnk+fVxuICovXG5mdW5jdGlvbiB0b0RlbnNlQXJyYXkoeCkge1xuICByZXR1cm4gW10uY29uY2F0KHgpLmZpbHRlcih5ID0+IHkgIT09IHVuZGVmaW5lZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvRGVuc2VBcnJheTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/to_dense_array.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/direct_select.js":
/*!************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/direct_select.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/common_selectors.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js\");\n/* harmony import */ var _lib_create_supplementary_points_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/create_supplementary_points.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_supplementary_points.js\");\n/* harmony import */ var _lib_constrain_feature_movement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/constrain_feature_movement.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/constrain_feature_movement.js\");\n/* harmony import */ var _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/double_click_zoom.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _lib_move_features_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/move_features.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/move_features.js\");\n\n\n\n\n\n\n\nconst isVertex = (0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isOfMetaType)(_constants_js__WEBPACK_IMPORTED_MODULE_4__.meta.VERTEX);\nconst isMidpoint = (0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isOfMetaType)(_constants_js__WEBPACK_IMPORTED_MODULE_4__.meta.MIDPOINT);\n\nconst DirectSelect = {};\n\n// INTERNAL FUCNTIONS\n\nDirectSelect.fireUpdate = function() {\n  this.fire(_constants_js__WEBPACK_IMPORTED_MODULE_4__.events.UPDATE, {\n    action: _constants_js__WEBPACK_IMPORTED_MODULE_4__.updateActions.CHANGE_COORDINATES,\n    features: this.getSelected().map(f => f.toGeoJSON())\n  });\n};\n\nDirectSelect.fireActionable = function(state) {\n  this.setActionableState({\n    combineFeatures: false,\n    uncombineFeatures: false,\n    trash: state.selectedCoordPaths.length > 0\n  });\n};\n\nDirectSelect.startDragging = function(state, e) {\n  state.initialDragPanState = this.map.dragPan.isEnabled();\n\n  this.map.dragPan.disable();\n  state.canDragMove = true;\n  state.dragMoveLocation = e.lngLat;\n};\n\nDirectSelect.stopDragging = function(state) {\n  if (state.canDragMove && state.initialDragPanState === true) {\n    this.map.dragPan.enable();\n  }\n  state.dragMoving = false;\n  state.canDragMove = false;\n  state.dragMoveLocation = null;\n};\n\nDirectSelect.onVertex = function (state, e) {\n  this.startDragging(state, e);\n  const about = e.featureTarget.properties;\n  const selectedIndex = state.selectedCoordPaths.indexOf(about.coord_path);\n  if (!(0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isShiftDown)(e) && selectedIndex === -1) {\n    state.selectedCoordPaths = [about.coord_path];\n  } else if ((0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isShiftDown)(e) && selectedIndex === -1) {\n    state.selectedCoordPaths.push(about.coord_path);\n  }\n\n  const selectedCoordinates = this.pathsToCoordinates(state.featureId, state.selectedCoordPaths);\n  this.setSelectedCoordinates(selectedCoordinates);\n};\n\nDirectSelect.onMidpoint = function(state, e) {\n  this.startDragging(state, e);\n  const about = e.featureTarget.properties;\n  state.feature.addCoordinate(about.coord_path, about.lng, about.lat);\n  this.fireUpdate();\n  state.selectedCoordPaths = [about.coord_path];\n};\n\nDirectSelect.pathsToCoordinates = function(featureId, paths) {\n  return paths.map(coord_path => ({ feature_id: featureId, coord_path }));\n};\n\nDirectSelect.onFeature = function(state, e) {\n  if (state.selectedCoordPaths.length === 0) this.startDragging(state, e);\n  else this.stopDragging(state);\n};\n\nDirectSelect.dragFeature = function(state, e, delta) {\n  (0,_lib_move_features_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.getSelected(), delta);\n  state.dragMoveLocation = e.lngLat;\n};\n\nDirectSelect.dragVertex = function(state, e, delta) {\n  const selectedCoords = state.selectedCoordPaths.map(coord_path => state.feature.getCoordinate(coord_path));\n  const selectedCoordPoints = selectedCoords.map(coords => ({\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_4__.geojsonTypes.FEATURE,\n    properties: {},\n    geometry: {\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_4__.geojsonTypes.POINT,\n      coordinates: coords\n    }\n  }));\n\n  const constrainedDelta = (0,_lib_constrain_feature_movement_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(selectedCoordPoints, delta);\n  for (let i = 0; i < selectedCoords.length; i++) {\n    const coord = selectedCoords[i];\n    state.feature.updateCoordinate(state.selectedCoordPaths[i], coord[0] + constrainedDelta.lng, coord[1] + constrainedDelta.lat);\n  }\n};\n\nDirectSelect.clickNoTarget = function () {\n  this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_4__.modes.SIMPLE_SELECT);\n};\n\nDirectSelect.clickInactive = function () {\n  this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_4__.modes.SIMPLE_SELECT);\n};\n\nDirectSelect.clickActiveFeature = function (state) {\n  state.selectedCoordPaths = [];\n  this.clearSelectedCoordinates();\n  state.feature.changed();\n};\n\n// EXTERNAL FUNCTIONS\n\nDirectSelect.onSetup = function(opts) {\n  const featureId = opts.featureId;\n  const feature = this.getFeature(featureId);\n\n  if (!feature) {\n    throw new Error('You must provide a featureId to enter direct_select mode');\n  }\n\n  if (feature.type === _constants_js__WEBPACK_IMPORTED_MODULE_4__.geojsonTypes.POINT) {\n    throw new TypeError('direct_select mode doesn\\'t handle point features');\n  }\n\n  const state = {\n    featureId,\n    feature,\n    dragMoveLocation: opts.startPos || null,\n    dragMoving: false,\n    canDragMove: false,\n    selectedCoordPaths: opts.coordPath ? [opts.coordPath] : [],\n  };\n\n  this.setSelectedCoordinates(this.pathsToCoordinates(featureId, state.selectedCoordPaths));\n  this.setSelected(featureId);\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].disable(this);\n\n  this.setActionableState({\n    trash: true\n  });\n\n  return state;\n};\n\nDirectSelect.onStop = function() {\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].enable(this);\n  this.clearSelectedCoordinates();\n};\n\nDirectSelect.toDisplayFeatures = function(state, geojson, push) {\n  if (state.featureId === geojson.properties.id) {\n    geojson.properties.active = _constants_js__WEBPACK_IMPORTED_MODULE_4__.activeStates.ACTIVE;\n    push(geojson);\n    (0,_lib_create_supplementary_points_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(geojson, {\n      map: this.map,\n      midpoints: true,\n      selectedPaths: state.selectedCoordPaths\n    }).forEach(push);\n  } else {\n    geojson.properties.active = _constants_js__WEBPACK_IMPORTED_MODULE_4__.activeStates.INACTIVE;\n    push(geojson);\n  }\n  this.fireActionable(state);\n};\n\nDirectSelect.onTrash = function(state) {\n  // Uses number-aware sorting to make sure '9' < '10'. Comparison is reversed because we want them\n  // in reverse order so that we can remove by index safely.\n  state.selectedCoordPaths\n    .sort((a, b) => b.localeCompare(a, 'en', { numeric: true }))\n    .forEach(id => state.feature.removeCoordinate(id));\n  this.fireUpdate();\n  state.selectedCoordPaths = [];\n  this.clearSelectedCoordinates();\n  this.fireActionable(state);\n  if (state.feature.isValid() === false) {\n    this.deleteFeature([state.featureId]);\n    this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_4__.modes.SIMPLE_SELECT, {});\n  }\n};\n\nDirectSelect.onMouseMove = function(state, e) {\n  // On mousemove that is not a drag, stop vertex movement.\n  const isFeature = (0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isActiveFeature)(e);\n  const onVertex = isVertex(e);\n  const isMidPoint = isMidpoint(e);\n  const noCoords = state.selectedCoordPaths.length === 0;\n  if (isFeature && noCoords) this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_4__.cursors.MOVE });\n  else if (onVertex && !noCoords) this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_4__.cursors.MOVE });\n  else this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_4__.cursors.NONE });\n\n  const isDraggableItem = onVertex || isFeature || isMidPoint;\n  if (isDraggableItem && state.dragMoving) this.fireUpdate();\n\n  this.stopDragging(state);\n\n  // Skip render\n  return true;\n};\n\nDirectSelect.onMouseOut = function(state) {\n  // As soon as you mouse leaves the canvas, update the feature\n  if (state.dragMoving) this.fireUpdate();\n\n  // Skip render\n  return true;\n};\n\nDirectSelect.onTouchStart = DirectSelect.onMouseDown = function(state, e) {\n  if (isVertex(e)) return this.onVertex(state, e);\n  if ((0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isActiveFeature)(e)) return this.onFeature(state, e);\n  if (isMidpoint(e)) return this.onMidpoint(state, e);\n};\n\nDirectSelect.onDrag = function(state, e) {\n  if (state.canDragMove !== true) return;\n  state.dragMoving = true;\n  e.originalEvent.stopPropagation();\n\n  const delta = {\n    lng: e.lngLat.lng - state.dragMoveLocation.lng,\n    lat: e.lngLat.lat - state.dragMoveLocation.lat\n  };\n  if (state.selectedCoordPaths.length > 0) this.dragVertex(state, e, delta);\n  else this.dragFeature(state, e, delta);\n\n  state.dragMoveLocation = e.lngLat;\n};\n\nDirectSelect.onClick = function(state, e) {\n  if ((0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.noTarget)(e)) return this.clickNoTarget(state, e);\n  if ((0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isActiveFeature)(e)) return this.clickActiveFeature(state, e);\n  if ((0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isInactiveFeature)(e)) return this.clickInactive(state, e);\n  this.stopDragging(state);\n};\n\nDirectSelect.onTap = function(state, e) {\n  if ((0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.noTarget)(e)) return this.clickNoTarget(state, e);\n  if ((0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isActiveFeature)(e)) return this.clickActiveFeature(state, e);\n  if ((0,_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isInactiveFeature)(e)) return this.clickInactive(state, e);\n};\n\nDirectSelect.onTouchEnd = DirectSelect.onMouseUp = function(state) {\n  if (state.dragMoving) {\n    this.fireUpdate();\n  }\n  this.stopDragging(state);\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DirectSelect);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvZGlyZWN0X3NlbGVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFIO0FBQ3ZDO0FBQ0Y7QUFDbEI7QUFDYjtBQUNNOztBQUVuRCxpQkFBaUIsc0VBQVksQ0FBQywrQ0FBYztBQUM1QyxtQkFBbUIsc0VBQVksQ0FBQywrQ0FBYzs7QUFFOUM7O0FBRUE7O0FBRUE7QUFDQSxZQUFZLGlEQUFnQjtBQUM1QixZQUFZLHdEQUF1QjtBQUNuQztBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8scUVBQVc7QUFDbEI7QUFDQSxJQUFJLFNBQVMscUVBQVc7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQ0FBb0MsbUNBQW1DO0FBQ3ZFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxpRUFBWTtBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1REFBc0I7QUFDaEMsa0JBQWtCO0FBQ2xCO0FBQ0EsWUFBWSx1REFBc0I7QUFDbEM7QUFDQTtBQUNBLEdBQUc7O0FBRUgsMkJBQTJCLDhFQUF3QjtBQUNuRCxrQkFBa0IsMkJBQTJCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGdEQUFlO0FBQ2pDOztBQUVBO0FBQ0Esa0JBQWtCLGdEQUFlO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsdURBQXNCO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRSxpRUFBZTs7QUFFakI7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLEVBQUUsaUVBQWU7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLHVEQUFzQjtBQUN0RDtBQUNBLElBQUksK0VBQXlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0osZ0NBQWdDLHVEQUFzQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxlQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdEQUFlLGtCQUFrQjtBQUNyRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IseUVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE9BQU8sa0RBQWlCLE9BQU87QUFDbkYseURBQXlELE9BQU8sa0RBQWlCLE9BQU87QUFDeEYsOEJBQThCLE9BQU8sa0RBQWlCLE9BQU87O0FBRTdEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0seUVBQWU7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQU0sa0VBQVE7QUFDZCxNQUFNLHlFQUFlO0FBQ3JCLE1BQU0sMkVBQWlCO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGtFQUFRO0FBQ2QsTUFBTSx5RUFBZTtBQUNyQixNQUFNLDJFQUFpQjtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9tb2Rlcy9kaXJlY3Rfc2VsZWN0LmpzPzUwNzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9UYXJnZXQsIGlzT2ZNZXRhVHlwZSwgaXNBY3RpdmVGZWF0dXJlLCBpc0luYWN0aXZlRmVhdHVyZSwgaXNTaGlmdERvd24gfSBmcm9tICcuLi9saWIvY29tbW9uX3NlbGVjdG9ycy5qcyc7XG5pbXBvcnQgY3JlYXRlU3VwcGxlbWVudGFyeVBvaW50cyBmcm9tICcuLi9saWIvY3JlYXRlX3N1cHBsZW1lbnRhcnlfcG9pbnRzLmpzJztcbmltcG9ydCBjb25zdHJhaW5GZWF0dXJlTW92ZW1lbnQgZnJvbSAnLi4vbGliL2NvbnN0cmFpbl9mZWF0dXJlX21vdmVtZW50LmpzJztcbmltcG9ydCBkb3VibGVDbGlja1pvb20gZnJvbSAnLi4vbGliL2RvdWJsZV9jbGlja196b29tLmpzJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IG1vdmVGZWF0dXJlcyBmcm9tICcuLi9saWIvbW92ZV9mZWF0dXJlcy5qcyc7XG5cbmNvbnN0IGlzVmVydGV4ID0gaXNPZk1ldGFUeXBlKENvbnN0YW50cy5tZXRhLlZFUlRFWCk7XG5jb25zdCBpc01pZHBvaW50ID0gaXNPZk1ldGFUeXBlKENvbnN0YW50cy5tZXRhLk1JRFBPSU5UKTtcblxuY29uc3QgRGlyZWN0U2VsZWN0ID0ge307XG5cbi8vIElOVEVSTkFMIEZVQ05USU9OU1xuXG5EaXJlY3RTZWxlY3QuZmlyZVVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5VUERBVEUsIHtcbiAgICBhY3Rpb246IENvbnN0YW50cy51cGRhdGVBY3Rpb25zLkNIQU5HRV9DT09SRElOQVRFUyxcbiAgICBmZWF0dXJlczogdGhpcy5nZXRTZWxlY3RlZCgpLm1hcChmID0+IGYudG9HZW9KU09OKCkpXG4gIH0pO1xufTtcblxuRGlyZWN0U2VsZWN0LmZpcmVBY3Rpb25hYmxlID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgdGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe1xuICAgIGNvbWJpbmVGZWF0dXJlczogZmFsc2UsXG4gICAgdW5jb21iaW5lRmVhdHVyZXM6IGZhbHNlLFxuICAgIHRyYXNoOiBzdGF0ZS5zZWxlY3RlZENvb3JkUGF0aHMubGVuZ3RoID4gMFxuICB9KTtcbn07XG5cbkRpcmVjdFNlbGVjdC5zdGFydERyYWdnaW5nID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgc3RhdGUuaW5pdGlhbERyYWdQYW5TdGF0ZSA9IHRoaXMubWFwLmRyYWdQYW4uaXNFbmFibGVkKCk7XG5cbiAgdGhpcy5tYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XG4gIHN0YXRlLmNhbkRyYWdNb3ZlID0gdHJ1ZTtcbiAgc3RhdGUuZHJhZ01vdmVMb2NhdGlvbiA9IGUubG5nTGF0O1xufTtcblxuRGlyZWN0U2VsZWN0LnN0b3BEcmFnZ2luZyA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5jYW5EcmFnTW92ZSAmJiBzdGF0ZS5pbml0aWFsRHJhZ1BhblN0YXRlID09PSB0cnVlKSB7XG4gICAgdGhpcy5tYXAuZHJhZ1Bhbi5lbmFibGUoKTtcbiAgfVxuICBzdGF0ZS5kcmFnTW92aW5nID0gZmFsc2U7XG4gIHN0YXRlLmNhbkRyYWdNb3ZlID0gZmFsc2U7XG4gIHN0YXRlLmRyYWdNb3ZlTG9jYXRpb24gPSBudWxsO1xufTtcblxuRGlyZWN0U2VsZWN0Lm9uVmVydGV4ID0gZnVuY3Rpb24gKHN0YXRlLCBlKSB7XG4gIHRoaXMuc3RhcnREcmFnZ2luZyhzdGF0ZSwgZSk7XG4gIGNvbnN0IGFib3V0ID0gZS5mZWF0dXJlVGFyZ2V0LnByb3BlcnRpZXM7XG4gIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBzdGF0ZS5zZWxlY3RlZENvb3JkUGF0aHMuaW5kZXhPZihhYm91dC5jb29yZF9wYXRoKTtcbiAgaWYgKCFpc1NoaWZ0RG93bihlKSAmJiBzZWxlY3RlZEluZGV4ID09PSAtMSkge1xuICAgIHN0YXRlLnNlbGVjdGVkQ29vcmRQYXRocyA9IFthYm91dC5jb29yZF9wYXRoXTtcbiAgfSBlbHNlIGlmIChpc1NoaWZ0RG93bihlKSAmJiBzZWxlY3RlZEluZGV4ID09PSAtMSkge1xuICAgIHN0YXRlLnNlbGVjdGVkQ29vcmRQYXRocy5wdXNoKGFib3V0LmNvb3JkX3BhdGgpO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0ZWRDb29yZGluYXRlcyA9IHRoaXMucGF0aHNUb0Nvb3JkaW5hdGVzKHN0YXRlLmZlYXR1cmVJZCwgc3RhdGUuc2VsZWN0ZWRDb29yZFBhdGhzKTtcbiAgdGhpcy5zZXRTZWxlY3RlZENvb3JkaW5hdGVzKHNlbGVjdGVkQ29vcmRpbmF0ZXMpO1xufTtcblxuRGlyZWN0U2VsZWN0Lm9uTWlkcG9pbnQgPSBmdW5jdGlvbihzdGF0ZSwgZSkge1xuICB0aGlzLnN0YXJ0RHJhZ2dpbmcoc3RhdGUsIGUpO1xuICBjb25zdCBhYm91dCA9IGUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzO1xuICBzdGF0ZS5mZWF0dXJlLmFkZENvb3JkaW5hdGUoYWJvdXQuY29vcmRfcGF0aCwgYWJvdXQubG5nLCBhYm91dC5sYXQpO1xuICB0aGlzLmZpcmVVcGRhdGUoKTtcbiAgc3RhdGUuc2VsZWN0ZWRDb29yZFBhdGhzID0gW2Fib3V0LmNvb3JkX3BhdGhdO1xufTtcblxuRGlyZWN0U2VsZWN0LnBhdGhzVG9Db29yZGluYXRlcyA9IGZ1bmN0aW9uKGZlYXR1cmVJZCwgcGF0aHMpIHtcbiAgcmV0dXJuIHBhdGhzLm1hcChjb29yZF9wYXRoID0+ICh7IGZlYXR1cmVfaWQ6IGZlYXR1cmVJZCwgY29vcmRfcGF0aCB9KSk7XG59O1xuXG5EaXJlY3RTZWxlY3Qub25GZWF0dXJlID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgaWYgKHN0YXRlLnNlbGVjdGVkQ29vcmRQYXRocy5sZW5ndGggPT09IDApIHRoaXMuc3RhcnREcmFnZ2luZyhzdGF0ZSwgZSk7XG4gIGVsc2UgdGhpcy5zdG9wRHJhZ2dpbmcoc3RhdGUpO1xufTtcblxuRGlyZWN0U2VsZWN0LmRyYWdGZWF0dXJlID0gZnVuY3Rpb24oc3RhdGUsIGUsIGRlbHRhKSB7XG4gIG1vdmVGZWF0dXJlcyh0aGlzLmdldFNlbGVjdGVkKCksIGRlbHRhKTtcbiAgc3RhdGUuZHJhZ01vdmVMb2NhdGlvbiA9IGUubG5nTGF0O1xufTtcblxuRGlyZWN0U2VsZWN0LmRyYWdWZXJ0ZXggPSBmdW5jdGlvbihzdGF0ZSwgZSwgZGVsdGEpIHtcbiAgY29uc3Qgc2VsZWN0ZWRDb29yZHMgPSBzdGF0ZS5zZWxlY3RlZENvb3JkUGF0aHMubWFwKGNvb3JkX3BhdGggPT4gc3RhdGUuZmVhdHVyZS5nZXRDb29yZGluYXRlKGNvb3JkX3BhdGgpKTtcbiAgY29uc3Qgc2VsZWN0ZWRDb29yZFBvaW50cyA9IHNlbGVjdGVkQ29vcmRzLm1hcChjb29yZHMgPT4gKHtcbiAgICB0eXBlOiBDb25zdGFudHMuZ2VvanNvblR5cGVzLkZFQVRVUkUsXG4gICAgcHJvcGVydGllczoge30sXG4gICAgZ2VvbWV0cnk6IHtcbiAgICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuUE9JTlQsXG4gICAgICBjb29yZGluYXRlczogY29vcmRzXG4gICAgfVxuICB9KSk7XG5cbiAgY29uc3QgY29uc3RyYWluZWREZWx0YSA9IGNvbnN0cmFpbkZlYXR1cmVNb3ZlbWVudChzZWxlY3RlZENvb3JkUG9pbnRzLCBkZWx0YSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRDb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb29yZCA9IHNlbGVjdGVkQ29vcmRzW2ldO1xuICAgIHN0YXRlLmZlYXR1cmUudXBkYXRlQ29vcmRpbmF0ZShzdGF0ZS5zZWxlY3RlZENvb3JkUGF0aHNbaV0sIGNvb3JkWzBdICsgY29uc3RyYWluZWREZWx0YS5sbmcsIGNvb3JkWzFdICsgY29uc3RyYWluZWREZWx0YS5sYXQpO1xuICB9XG59O1xuXG5EaXJlY3RTZWxlY3QuY2xpY2tOb1RhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5TSU1QTEVfU0VMRUNUKTtcbn07XG5cbkRpcmVjdFNlbGVjdC5jbGlja0luYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNoYW5nZU1vZGUoQ29uc3RhbnRzLm1vZGVzLlNJTVBMRV9TRUxFQ1QpO1xufTtcblxuRGlyZWN0U2VsZWN0LmNsaWNrQWN0aXZlRmVhdHVyZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBzdGF0ZS5zZWxlY3RlZENvb3JkUGF0aHMgPSBbXTtcbiAgdGhpcy5jbGVhclNlbGVjdGVkQ29vcmRpbmF0ZXMoKTtcbiAgc3RhdGUuZmVhdHVyZS5jaGFuZ2VkKCk7XG59O1xuXG4vLyBFWFRFUk5BTCBGVU5DVElPTlNcblxuRGlyZWN0U2VsZWN0Lm9uU2V0dXAgPSBmdW5jdGlvbihvcHRzKSB7XG4gIGNvbnN0IGZlYXR1cmVJZCA9IG9wdHMuZmVhdHVyZUlkO1xuICBjb25zdCBmZWF0dXJlID0gdGhpcy5nZXRGZWF0dXJlKGZlYXR1cmVJZCk7XG5cbiAgaWYgKCFmZWF0dXJlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwcm92aWRlIGEgZmVhdHVyZUlkIHRvIGVudGVyIGRpcmVjdF9zZWxlY3QgbW9kZScpO1xuICB9XG5cbiAgaWYgKGZlYXR1cmUudHlwZSA9PT0gQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5QT0lOVCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2RpcmVjdF9zZWxlY3QgbW9kZSBkb2VzblxcJ3QgaGFuZGxlIHBvaW50IGZlYXR1cmVzJyk7XG4gIH1cblxuICBjb25zdCBzdGF0ZSA9IHtcbiAgICBmZWF0dXJlSWQsXG4gICAgZmVhdHVyZSxcbiAgICBkcmFnTW92ZUxvY2F0aW9uOiBvcHRzLnN0YXJ0UG9zIHx8IG51bGwsXG4gICAgZHJhZ01vdmluZzogZmFsc2UsXG4gICAgY2FuRHJhZ01vdmU6IGZhbHNlLFxuICAgIHNlbGVjdGVkQ29vcmRQYXRoczogb3B0cy5jb29yZFBhdGggPyBbb3B0cy5jb29yZFBhdGhdIDogW10sXG4gIH07XG5cbiAgdGhpcy5zZXRTZWxlY3RlZENvb3JkaW5hdGVzKHRoaXMucGF0aHNUb0Nvb3JkaW5hdGVzKGZlYXR1cmVJZCwgc3RhdGUuc2VsZWN0ZWRDb29yZFBhdGhzKSk7XG4gIHRoaXMuc2V0U2VsZWN0ZWQoZmVhdHVyZUlkKTtcbiAgZG91YmxlQ2xpY2tab29tLmRpc2FibGUodGhpcyk7XG5cbiAgdGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe1xuICAgIHRyYXNoOiB0cnVlXG4gIH0pO1xuXG4gIHJldHVybiBzdGF0ZTtcbn07XG5cbkRpcmVjdFNlbGVjdC5vblN0b3AgPSBmdW5jdGlvbigpIHtcbiAgZG91YmxlQ2xpY2tab29tLmVuYWJsZSh0aGlzKTtcbiAgdGhpcy5jbGVhclNlbGVjdGVkQ29vcmRpbmF0ZXMoKTtcbn07XG5cbkRpcmVjdFNlbGVjdC50b0Rpc3BsYXlGZWF0dXJlcyA9IGZ1bmN0aW9uKHN0YXRlLCBnZW9qc29uLCBwdXNoKSB7XG4gIGlmIChzdGF0ZS5mZWF0dXJlSWQgPT09IGdlb2pzb24ucHJvcGVydGllcy5pZCkge1xuICAgIGdlb2pzb24ucHJvcGVydGllcy5hY3RpdmUgPSBDb25zdGFudHMuYWN0aXZlU3RhdGVzLkFDVElWRTtcbiAgICBwdXNoKGdlb2pzb24pO1xuICAgIGNyZWF0ZVN1cHBsZW1lbnRhcnlQb2ludHMoZ2VvanNvbiwge1xuICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIG1pZHBvaW50czogdHJ1ZSxcbiAgICAgIHNlbGVjdGVkUGF0aHM6IHN0YXRlLnNlbGVjdGVkQ29vcmRQYXRoc1xuICAgIH0pLmZvckVhY2gocHVzaCk7XG4gIH0gZWxzZSB7XG4gICAgZ2VvanNvbi5wcm9wZXJ0aWVzLmFjdGl2ZSA9IENvbnN0YW50cy5hY3RpdmVTdGF0ZXMuSU5BQ1RJVkU7XG4gICAgcHVzaChnZW9qc29uKTtcbiAgfVxuICB0aGlzLmZpcmVBY3Rpb25hYmxlKHN0YXRlKTtcbn07XG5cbkRpcmVjdFNlbGVjdC5vblRyYXNoID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgLy8gVXNlcyBudW1iZXItYXdhcmUgc29ydGluZyB0byBtYWtlIHN1cmUgJzknIDwgJzEwJy4gQ29tcGFyaXNvbiBpcyByZXZlcnNlZCBiZWNhdXNlIHdlIHdhbnQgdGhlbVxuICAvLyBpbiByZXZlcnNlIG9yZGVyIHNvIHRoYXQgd2UgY2FuIHJlbW92ZSBieSBpbmRleCBzYWZlbHkuXG4gIHN0YXRlLnNlbGVjdGVkQ29vcmRQYXRoc1xuICAgIC5zb3J0KChhLCBiKSA9PiBiLmxvY2FsZUNvbXBhcmUoYSwgJ2VuJywgeyBudW1lcmljOiB0cnVlIH0pKVxuICAgIC5mb3JFYWNoKGlkID0+IHN0YXRlLmZlYXR1cmUucmVtb3ZlQ29vcmRpbmF0ZShpZCkpO1xuICB0aGlzLmZpcmVVcGRhdGUoKTtcbiAgc3RhdGUuc2VsZWN0ZWRDb29yZFBhdGhzID0gW107XG4gIHRoaXMuY2xlYXJTZWxlY3RlZENvb3JkaW5hdGVzKCk7XG4gIHRoaXMuZmlyZUFjdGlvbmFibGUoc3RhdGUpO1xuICBpZiAoc3RhdGUuZmVhdHVyZS5pc1ZhbGlkKCkgPT09IGZhbHNlKSB7XG4gICAgdGhpcy5kZWxldGVGZWF0dXJlKFtzdGF0ZS5mZWF0dXJlSWRdKTtcbiAgICB0aGlzLmNoYW5nZU1vZGUoQ29uc3RhbnRzLm1vZGVzLlNJTVBMRV9TRUxFQ1QsIHt9KTtcbiAgfVxufTtcblxuRGlyZWN0U2VsZWN0Lm9uTW91c2VNb3ZlID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgLy8gT24gbW91c2Vtb3ZlIHRoYXQgaXMgbm90IGEgZHJhZywgc3RvcCB2ZXJ0ZXggbW92ZW1lbnQuXG4gIGNvbnN0IGlzRmVhdHVyZSA9IGlzQWN0aXZlRmVhdHVyZShlKTtcbiAgY29uc3Qgb25WZXJ0ZXggPSBpc1ZlcnRleChlKTtcbiAgY29uc3QgaXNNaWRQb2ludCA9IGlzTWlkcG9pbnQoZSk7XG4gIGNvbnN0IG5vQ29vcmRzID0gc3RhdGUuc2VsZWN0ZWRDb29yZFBhdGhzLmxlbmd0aCA9PT0gMDtcbiAgaWYgKGlzRmVhdHVyZSAmJiBub0Nvb3JkcykgdGhpcy51cGRhdGVVSUNsYXNzZXMoeyBtb3VzZTogQ29uc3RhbnRzLmN1cnNvcnMuTU9WRSB9KTtcbiAgZWxzZSBpZiAob25WZXJ0ZXggJiYgIW5vQ29vcmRzKSB0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7IG1vdXNlOiBDb25zdGFudHMuY3Vyc29ycy5NT1ZFIH0pO1xuICBlbHNlIHRoaXMudXBkYXRlVUlDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLk5PTkUgfSk7XG5cbiAgY29uc3QgaXNEcmFnZ2FibGVJdGVtID0gb25WZXJ0ZXggfHwgaXNGZWF0dXJlIHx8IGlzTWlkUG9pbnQ7XG4gIGlmIChpc0RyYWdnYWJsZUl0ZW0gJiYgc3RhdGUuZHJhZ01vdmluZykgdGhpcy5maXJlVXBkYXRlKCk7XG5cbiAgdGhpcy5zdG9wRHJhZ2dpbmcoc3RhdGUpO1xuXG4gIC8vIFNraXAgcmVuZGVyXG4gIHJldHVybiB0cnVlO1xufTtcblxuRGlyZWN0U2VsZWN0Lm9uTW91c2VPdXQgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAvLyBBcyBzb29uIGFzIHlvdSBtb3VzZSBsZWF2ZXMgdGhlIGNhbnZhcywgdXBkYXRlIHRoZSBmZWF0dXJlXG4gIGlmIChzdGF0ZS5kcmFnTW92aW5nKSB0aGlzLmZpcmVVcGRhdGUoKTtcblxuICAvLyBTa2lwIHJlbmRlclxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkRpcmVjdFNlbGVjdC5vblRvdWNoU3RhcnQgPSBEaXJlY3RTZWxlY3Qub25Nb3VzZURvd24gPSBmdW5jdGlvbihzdGF0ZSwgZSkge1xuICBpZiAoaXNWZXJ0ZXgoZSkpIHJldHVybiB0aGlzLm9uVmVydGV4KHN0YXRlLCBlKTtcbiAgaWYgKGlzQWN0aXZlRmVhdHVyZShlKSkgcmV0dXJuIHRoaXMub25GZWF0dXJlKHN0YXRlLCBlKTtcbiAgaWYgKGlzTWlkcG9pbnQoZSkpIHJldHVybiB0aGlzLm9uTWlkcG9pbnQoc3RhdGUsIGUpO1xufTtcblxuRGlyZWN0U2VsZWN0Lm9uRHJhZyA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIGlmIChzdGF0ZS5jYW5EcmFnTW92ZSAhPT0gdHJ1ZSkgcmV0dXJuO1xuICBzdGF0ZS5kcmFnTW92aW5nID0gdHJ1ZTtcbiAgZS5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gIGNvbnN0IGRlbHRhID0ge1xuICAgIGxuZzogZS5sbmdMYXQubG5nIC0gc3RhdGUuZHJhZ01vdmVMb2NhdGlvbi5sbmcsXG4gICAgbGF0OiBlLmxuZ0xhdC5sYXQgLSBzdGF0ZS5kcmFnTW92ZUxvY2F0aW9uLmxhdFxuICB9O1xuICBpZiAoc3RhdGUuc2VsZWN0ZWRDb29yZFBhdGhzLmxlbmd0aCA+IDApIHRoaXMuZHJhZ1ZlcnRleChzdGF0ZSwgZSwgZGVsdGEpO1xuICBlbHNlIHRoaXMuZHJhZ0ZlYXR1cmUoc3RhdGUsIGUsIGRlbHRhKTtcblxuICBzdGF0ZS5kcmFnTW92ZUxvY2F0aW9uID0gZS5sbmdMYXQ7XG59O1xuXG5EaXJlY3RTZWxlY3Qub25DbGljayA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIGlmIChub1RhcmdldChlKSkgcmV0dXJuIHRoaXMuY2xpY2tOb1RhcmdldChzdGF0ZSwgZSk7XG4gIGlmIChpc0FjdGl2ZUZlYXR1cmUoZSkpIHJldHVybiB0aGlzLmNsaWNrQWN0aXZlRmVhdHVyZShzdGF0ZSwgZSk7XG4gIGlmIChpc0luYWN0aXZlRmVhdHVyZShlKSkgcmV0dXJuIHRoaXMuY2xpY2tJbmFjdGl2ZShzdGF0ZSwgZSk7XG4gIHRoaXMuc3RvcERyYWdnaW5nKHN0YXRlKTtcbn07XG5cbkRpcmVjdFNlbGVjdC5vblRhcCA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIGlmIChub1RhcmdldChlKSkgcmV0dXJuIHRoaXMuY2xpY2tOb1RhcmdldChzdGF0ZSwgZSk7XG4gIGlmIChpc0FjdGl2ZUZlYXR1cmUoZSkpIHJldHVybiB0aGlzLmNsaWNrQWN0aXZlRmVhdHVyZShzdGF0ZSwgZSk7XG4gIGlmIChpc0luYWN0aXZlRmVhdHVyZShlKSkgcmV0dXJuIHRoaXMuY2xpY2tJbmFjdGl2ZShzdGF0ZSwgZSk7XG59O1xuXG5EaXJlY3RTZWxlY3Qub25Ub3VjaEVuZCA9IERpcmVjdFNlbGVjdC5vbk1vdXNlVXAgPSBmdW5jdGlvbihzdGF0ZSkge1xuICBpZiAoc3RhdGUuZHJhZ01vdmluZykge1xuICAgIHRoaXMuZmlyZVVwZGF0ZSgpO1xuICB9XG4gIHRoaXMuc3RvcERyYWdnaW5nKHN0YXRlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERpcmVjdFNlbGVjdDtcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/direct_select.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_line_string.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_line_string.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/common_selectors.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js\");\n/* harmony import */ var _lib_is_event_at_coordinates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/is_event_at_coordinates.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_event_at_coordinates.js\");\n/* harmony import */ var _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/double_click_zoom.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _lib_create_vertex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/create_vertex.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_vertex.js\");\n\n\n\n\n\n\nconst DrawLineString = {};\n\nDrawLineString.onSetup = function(opts) {\n  opts = opts || {};\n  const featureId = opts.featureId;\n\n  let line, currentVertexPosition;\n  let direction = 'forward';\n  if (featureId) {\n    line = this.getFeature(featureId);\n    if (!line) {\n      throw new Error('Could not find a feature with the provided featureId');\n    }\n    let from = opts.from;\n    if (from && from.type === 'Feature' && from.geometry && from.geometry.type === 'Point') {\n      from = from.geometry;\n    }\n    if (from && from.type === 'Point' && from.coordinates && from.coordinates.length === 2) {\n      from = from.coordinates;\n    }\n    if (!from || !Array.isArray(from)) {\n      throw new Error('Please use the `from` property to indicate which point to continue the line from');\n    }\n    const lastCoord = line.coordinates.length - 1;\n    if (line.coordinates[lastCoord][0] === from[0] && line.coordinates[lastCoord][1] === from[1]) {\n      currentVertexPosition = lastCoord + 1;\n      // add one new coordinate to continue from\n      line.addCoordinate(currentVertexPosition, ...line.coordinates[lastCoord]);\n    } else if (line.coordinates[0][0] === from[0] && line.coordinates[0][1] === from[1]) {\n      direction = 'backwards';\n      currentVertexPosition = 0;\n      // add one new coordinate to continue from\n      line.addCoordinate(currentVertexPosition, ...line.coordinates[0]);\n    } else {\n      throw new Error('`from` should match the point at either the start or the end of the provided LineString');\n    }\n  } else {\n    line = this.newFeature({\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_3__.geojsonTypes.FEATURE,\n      properties: {},\n      geometry: {\n        type: _constants_js__WEBPACK_IMPORTED_MODULE_3__.geojsonTypes.LINE_STRING,\n        coordinates: []\n      }\n    });\n    currentVertexPosition = 0;\n    this.addFeature(line);\n  }\n\n  this.clearSelectedFeatures();\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].disable(this);\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_3__.cursors.ADD });\n  this.activateUIButton(_constants_js__WEBPACK_IMPORTED_MODULE_3__.types.LINE);\n  this.setActionableState({\n    trash: true\n  });\n\n  return {\n    line,\n    currentVertexPosition,\n    direction\n  };\n};\n\nDrawLineString.clickAnywhere = function(state, e) {\n  if (state.currentVertexPosition > 0 && (0,_lib_is_event_at_coordinates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, state.line.coordinates[state.currentVertexPosition - 1]) ||\n      state.direction === 'backwards' && (0,_lib_is_event_at_coordinates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, state.line.coordinates[state.currentVertexPosition + 1])) {\n    return this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_3__.modes.SIMPLE_SELECT, { featureIds: [state.line.id] });\n  }\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_3__.cursors.ADD });\n  state.line.updateCoordinate(state.currentVertexPosition, e.lngLat.lng, e.lngLat.lat);\n  if (state.direction === 'forward') {\n    state.currentVertexPosition++;\n    state.line.updateCoordinate(state.currentVertexPosition, e.lngLat.lng, e.lngLat.lat);\n  } else {\n    state.line.addCoordinate(0, e.lngLat.lng, e.lngLat.lat);\n  }\n};\n\nDrawLineString.clickOnVertex = function(state) {\n  return this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_3__.modes.SIMPLE_SELECT, { featureIds: [state.line.id] });\n};\n\nDrawLineString.onMouseMove = function(state, e) {\n  state.line.updateCoordinate(state.currentVertexPosition, e.lngLat.lng, e.lngLat.lat);\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isVertex(e)) {\n    this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_3__.cursors.POINTER });\n  }\n};\n\nDrawLineString.onTap = DrawLineString.onClick = function(state, e) {\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isVertex(e)) return this.clickOnVertex(state, e);\n  this.clickAnywhere(state, e);\n};\n\nDrawLineString.onKeyUp = function(state, e) {\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isEnterKey(e)) {\n    this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_3__.modes.SIMPLE_SELECT, { featureIds: [state.line.id] });\n  } else if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isEscapeKey(e)) {\n    this.deleteFeature([state.line.id], { silent: true });\n    this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_3__.modes.SIMPLE_SELECT);\n  }\n};\n\nDrawLineString.onStop = function(state) {\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].enable(this);\n  this.activateUIButton();\n\n  // check to see if we've deleted this feature\n  if (this.getFeature(state.line.id) === undefined) return;\n\n  //remove last added coordinate\n  state.line.removeCoordinate(`${state.currentVertexPosition}`);\n  if (state.line.isValid()) {\n    this.fire(_constants_js__WEBPACK_IMPORTED_MODULE_3__.events.CREATE, {\n      features: [state.line.toGeoJSON()]\n    });\n  } else {\n    this.deleteFeature([state.line.id], { silent: true });\n    this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_3__.modes.SIMPLE_SELECT, {}, { silent: true });\n  }\n};\n\nDrawLineString.onTrash = function(state) {\n  this.deleteFeature([state.line.id], { silent: true });\n  this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_3__.modes.SIMPLE_SELECT);\n};\n\nDrawLineString.toDisplayFeatures = function(state, geojson, display) {\n  const isActiveLine = geojson.properties.id === state.line.id;\n  geojson.properties.active = (isActiveLine) ? _constants_js__WEBPACK_IMPORTED_MODULE_3__.activeStates.ACTIVE : _constants_js__WEBPACK_IMPORTED_MODULE_3__.activeStates.INACTIVE;\n  if (!isActiveLine) return display(geojson);\n  // Only render the line if it has at least one real coordinate\n  if (geojson.geometry.coordinates.length < 2) return;\n  geojson.properties.meta = _constants_js__WEBPACK_IMPORTED_MODULE_3__.meta.FEATURE;\n  display((0,_lib_create_vertex_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(\n    state.line.id,\n    geojson.geometry.coordinates[state.direction === 'forward' ? geojson.geometry.coordinates.length - 2 : 1],\n    `${state.direction === 'forward' ? geojson.geometry.coordinates.length - 2 : 1}`,\n    false\n  ));\n\n  display(geojson);\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DrawLineString);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvZHJhd19saW5lX3N0cmluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBOEQ7QUFDTztBQUNYO0FBQ2I7QUFDTTs7QUFFbkQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxZQUFZLHVEQUFzQjtBQUNsQyxvQkFBb0I7QUFDcEI7QUFDQSxjQUFjLHVEQUFzQjtBQUNwQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUUsaUVBQWU7QUFDakIseUJBQXlCLE9BQU8sa0RBQWlCLE1BQU07QUFDdkQsd0JBQXdCLGdEQUFlO0FBQ3ZDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QywyRUFBb0I7QUFDN0QseUNBQXlDLDJFQUFvQjtBQUM3RCwyQkFBMkIsZ0RBQWUsa0JBQWtCLDZCQUE2QjtBQUN6RjtBQUNBLHlCQUF5QixPQUFPLGtEQUFpQixNQUFNO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixnREFBZSxrQkFBa0IsNkJBQTZCO0FBQ3ZGOztBQUVBO0FBQ0E7QUFDQSxNQUFNLDhEQUF3QjtBQUM5QiwyQkFBMkIsT0FBTyxrREFBaUIsVUFBVTtBQUM3RDtBQUNBOztBQUVBO0FBQ0EsTUFBTSw4REFBd0I7QUFDOUI7QUFDQTs7QUFFQTtBQUNBLE1BQU0sZ0VBQTBCO0FBQ2hDLG9CQUFvQixnREFBZSxrQkFBa0IsNkJBQTZCO0FBQ2xGLElBQUksU0FBUyxpRUFBMkI7QUFDeEMsMENBQTBDLGNBQWM7QUFDeEQsb0JBQW9CLGdEQUFlO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLGlFQUFlO0FBQ2pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsNEJBQTRCO0FBQzdEO0FBQ0EsY0FBYyxpREFBZ0I7QUFDOUI7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKLDBDQUEwQyxjQUFjO0FBQ3hELG9CQUFvQixnREFBZSxrQkFBa0IsSUFBSSxjQUFjO0FBQ3ZFO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsY0FBYztBQUN0RCxrQkFBa0IsZ0RBQWU7QUFDakM7O0FBRUE7QUFDQTtBQUNBLCtDQUErQyx1REFBc0IsVUFBVSx1REFBc0I7QUFDckc7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtDQUFjO0FBQzFDLFVBQVUsaUVBQVk7QUFDdEI7QUFDQTtBQUNBLE9BQU8sNEVBQTRFO0FBQ25GO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxjQUFjLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL21vZGVzL2RyYXdfbGluZV9zdHJpbmcuanM/NTY5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb21tb25TZWxlY3RvcnMgZnJvbSAnLi4vbGliL2NvbW1vbl9zZWxlY3RvcnMuanMnO1xuaW1wb3J0IGlzRXZlbnRBdENvb3JkaW5hdGVzIGZyb20gJy4uL2xpYi9pc19ldmVudF9hdF9jb29yZGluYXRlcy5qcyc7XG5pbXBvcnQgZG91YmxlQ2xpY2tab29tIGZyb20gJy4uL2xpYi9kb3VibGVfY2xpY2tfem9vbS5qcyc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCBjcmVhdGVWZXJ0ZXggZnJvbSAnLi4vbGliL2NyZWF0ZV92ZXJ0ZXguanMnO1xuXG5jb25zdCBEcmF3TGluZVN0cmluZyA9IHt9O1xuXG5EcmF3TGluZVN0cmluZy5vblNldHVwID0gZnVuY3Rpb24ob3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgY29uc3QgZmVhdHVyZUlkID0gb3B0cy5mZWF0dXJlSWQ7XG5cbiAgbGV0IGxpbmUsIGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbjtcbiAgbGV0IGRpcmVjdGlvbiA9ICdmb3J3YXJkJztcbiAgaWYgKGZlYXR1cmVJZCkge1xuICAgIGxpbmUgPSB0aGlzLmdldEZlYXR1cmUoZmVhdHVyZUlkKTtcbiAgICBpZiAoIWxpbmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgYSBmZWF0dXJlIHdpdGggdGhlIHByb3ZpZGVkIGZlYXR1cmVJZCcpO1xuICAgIH1cbiAgICBsZXQgZnJvbSA9IG9wdHMuZnJvbTtcbiAgICBpZiAoZnJvbSAmJiBmcm9tLnR5cGUgPT09ICdGZWF0dXJlJyAmJiBmcm9tLmdlb21ldHJ5ICYmIGZyb20uZ2VvbWV0cnkudHlwZSA9PT0gJ1BvaW50Jykge1xuICAgICAgZnJvbSA9IGZyb20uZ2VvbWV0cnk7XG4gICAgfVxuICAgIGlmIChmcm9tICYmIGZyb20udHlwZSA9PT0gJ1BvaW50JyAmJiBmcm9tLmNvb3JkaW5hdGVzICYmIGZyb20uY29vcmRpbmF0ZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICBmcm9tID0gZnJvbS5jb29yZGluYXRlcztcbiAgICB9XG4gICAgaWYgKCFmcm9tIHx8ICFBcnJheS5pc0FycmF5KGZyb20pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSB1c2UgdGhlIGBmcm9tYCBwcm9wZXJ0eSB0byBpbmRpY2F0ZSB3aGljaCBwb2ludCB0byBjb250aW51ZSB0aGUgbGluZSBmcm9tJyk7XG4gICAgfVxuICAgIGNvbnN0IGxhc3RDb29yZCA9IGxpbmUuY29vcmRpbmF0ZXMubGVuZ3RoIC0gMTtcbiAgICBpZiAobGluZS5jb29yZGluYXRlc1tsYXN0Q29vcmRdWzBdID09PSBmcm9tWzBdICYmIGxpbmUuY29vcmRpbmF0ZXNbbGFzdENvb3JkXVsxXSA9PT0gZnJvbVsxXSkge1xuICAgICAgY3VycmVudFZlcnRleFBvc2l0aW9uID0gbGFzdENvb3JkICsgMTtcbiAgICAgIC8vIGFkZCBvbmUgbmV3IGNvb3JkaW5hdGUgdG8gY29udGludWUgZnJvbVxuICAgICAgbGluZS5hZGRDb29yZGluYXRlKGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbiwgLi4ubGluZS5jb29yZGluYXRlc1tsYXN0Q29vcmRdKTtcbiAgICB9IGVsc2UgaWYgKGxpbmUuY29vcmRpbmF0ZXNbMF1bMF0gPT09IGZyb21bMF0gJiYgbGluZS5jb29yZGluYXRlc1swXVsxXSA9PT0gZnJvbVsxXSkge1xuICAgICAgZGlyZWN0aW9uID0gJ2JhY2t3YXJkcyc7XG4gICAgICBjdXJyZW50VmVydGV4UG9zaXRpb24gPSAwO1xuICAgICAgLy8gYWRkIG9uZSBuZXcgY29vcmRpbmF0ZSB0byBjb250aW51ZSBmcm9tXG4gICAgICBsaW5lLmFkZENvb3JkaW5hdGUoY3VycmVudFZlcnRleFBvc2l0aW9uLCAuLi5saW5lLmNvb3JkaW5hdGVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgZnJvbWAgc2hvdWxkIG1hdGNoIHRoZSBwb2ludCBhdCBlaXRoZXIgdGhlIHN0YXJ0IG9yIHRoZSBlbmQgb2YgdGhlIHByb3ZpZGVkIExpbmVTdHJpbmcnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGluZSA9IHRoaXMubmV3RmVhdHVyZSh7XG4gICAgICB0eXBlOiBDb25zdGFudHMuZ2VvanNvblR5cGVzLkZFQVRVUkUsXG4gICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuTElORV9TVFJJTkcsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBbXVxuICAgICAgfVxuICAgIH0pO1xuICAgIGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbiA9IDA7XG4gICAgdGhpcy5hZGRGZWF0dXJlKGxpbmUpO1xuICB9XG5cbiAgdGhpcy5jbGVhclNlbGVjdGVkRmVhdHVyZXMoKTtcbiAgZG91YmxlQ2xpY2tab29tLmRpc2FibGUodGhpcyk7XG4gIHRoaXMudXBkYXRlVUlDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLkFERCB9KTtcbiAgdGhpcy5hY3RpdmF0ZVVJQnV0dG9uKENvbnN0YW50cy50eXBlcy5MSU5FKTtcbiAgdGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe1xuICAgIHRyYXNoOiB0cnVlXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgbGluZSxcbiAgICBjdXJyZW50VmVydGV4UG9zaXRpb24sXG4gICAgZGlyZWN0aW9uXG4gIH07XG59O1xuXG5EcmF3TGluZVN0cmluZy5jbGlja0FueXdoZXJlID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgaWYgKHN0YXRlLmN1cnJlbnRWZXJ0ZXhQb3NpdGlvbiA+IDAgJiYgaXNFdmVudEF0Q29vcmRpbmF0ZXMoZSwgc3RhdGUubGluZS5jb29yZGluYXRlc1tzdGF0ZS5jdXJyZW50VmVydGV4UG9zaXRpb24gLSAxXSkgfHxcbiAgICAgIHN0YXRlLmRpcmVjdGlvbiA9PT0gJ2JhY2t3YXJkcycgJiYgaXNFdmVudEF0Q29vcmRpbmF0ZXMoZSwgc3RhdGUubGluZS5jb29yZGluYXRlc1tzdGF0ZS5jdXJyZW50VmVydGV4UG9zaXRpb24gKyAxXSkpIHtcbiAgICByZXR1cm4gdGhpcy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5TSU1QTEVfU0VMRUNULCB7IGZlYXR1cmVJZHM6IFtzdGF0ZS5saW5lLmlkXSB9KTtcbiAgfVxuICB0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7IG1vdXNlOiBDb25zdGFudHMuY3Vyc29ycy5BREQgfSk7XG4gIHN0YXRlLmxpbmUudXBkYXRlQ29vcmRpbmF0ZShzdGF0ZS5jdXJyZW50VmVydGV4UG9zaXRpb24sIGUubG5nTGF0LmxuZywgZS5sbmdMYXQubGF0KTtcbiAgaWYgKHN0YXRlLmRpcmVjdGlvbiA9PT0gJ2ZvcndhcmQnKSB7XG4gICAgc3RhdGUuY3VycmVudFZlcnRleFBvc2l0aW9uKys7XG4gICAgc3RhdGUubGluZS51cGRhdGVDb29yZGluYXRlKHN0YXRlLmN1cnJlbnRWZXJ0ZXhQb3NpdGlvbiwgZS5sbmdMYXQubG5nLCBlLmxuZ0xhdC5sYXQpO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxpbmUuYWRkQ29vcmRpbmF0ZSgwLCBlLmxuZ0xhdC5sbmcsIGUubG5nTGF0LmxhdCk7XG4gIH1cbn07XG5cbkRyYXdMaW5lU3RyaW5nLmNsaWNrT25WZXJ0ZXggPSBmdW5jdGlvbihzdGF0ZSkge1xuICByZXR1cm4gdGhpcy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5TSU1QTEVfU0VMRUNULCB7IGZlYXR1cmVJZHM6IFtzdGF0ZS5saW5lLmlkXSB9KTtcbn07XG5cbkRyYXdMaW5lU3RyaW5nLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgc3RhdGUubGluZS51cGRhdGVDb29yZGluYXRlKHN0YXRlLmN1cnJlbnRWZXJ0ZXhQb3NpdGlvbiwgZS5sbmdMYXQubG5nLCBlLmxuZ0xhdC5sYXQpO1xuICBpZiAoQ29tbW9uU2VsZWN0b3JzLmlzVmVydGV4KGUpKSB7XG4gICAgdGhpcy51cGRhdGVVSUNsYXNzZXMoeyBtb3VzZTogQ29uc3RhbnRzLmN1cnNvcnMuUE9JTlRFUiB9KTtcbiAgfVxufTtcblxuRHJhd0xpbmVTdHJpbmcub25UYXAgPSBEcmF3TGluZVN0cmluZy5vbkNsaWNrID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgaWYgKENvbW1vblNlbGVjdG9ycy5pc1ZlcnRleChlKSkgcmV0dXJuIHRoaXMuY2xpY2tPblZlcnRleChzdGF0ZSwgZSk7XG4gIHRoaXMuY2xpY2tBbnl3aGVyZShzdGF0ZSwgZSk7XG59O1xuXG5EcmF3TGluZVN0cmluZy5vbktleVVwID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgaWYgKENvbW1vblNlbGVjdG9ycy5pc0VudGVyS2V5KGUpKSB7XG4gICAgdGhpcy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5TSU1QTEVfU0VMRUNULCB7IGZlYXR1cmVJZHM6IFtzdGF0ZS5saW5lLmlkXSB9KTtcbiAgfSBlbHNlIGlmIChDb21tb25TZWxlY3RvcnMuaXNFc2NhcGVLZXkoZSkpIHtcbiAgICB0aGlzLmRlbGV0ZUZlYXR1cmUoW3N0YXRlLmxpbmUuaWRdLCB7IHNpbGVudDogdHJ1ZSB9KTtcbiAgICB0aGlzLmNoYW5nZU1vZGUoQ29uc3RhbnRzLm1vZGVzLlNJTVBMRV9TRUxFQ1QpO1xuICB9XG59O1xuXG5EcmF3TGluZVN0cmluZy5vblN0b3AgPSBmdW5jdGlvbihzdGF0ZSkge1xuICBkb3VibGVDbGlja1pvb20uZW5hYmxlKHRoaXMpO1xuICB0aGlzLmFjdGl2YXRlVUlCdXR0b24oKTtcblxuICAvLyBjaGVjayB0byBzZWUgaWYgd2UndmUgZGVsZXRlZCB0aGlzIGZlYXR1cmVcbiAgaWYgKHRoaXMuZ2V0RmVhdHVyZShzdGF0ZS5saW5lLmlkKSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgLy9yZW1vdmUgbGFzdCBhZGRlZCBjb29yZGluYXRlXG4gIHN0YXRlLmxpbmUucmVtb3ZlQ29vcmRpbmF0ZShgJHtzdGF0ZS5jdXJyZW50VmVydGV4UG9zaXRpb259YCk7XG4gIGlmIChzdGF0ZS5saW5lLmlzVmFsaWQoKSkge1xuICAgIHRoaXMuZmlyZShDb25zdGFudHMuZXZlbnRzLkNSRUFURSwge1xuICAgICAgZmVhdHVyZXM6IFtzdGF0ZS5saW5lLnRvR2VvSlNPTigpXVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZGVsZXRlRmVhdHVyZShbc3RhdGUubGluZS5pZF0sIHsgc2lsZW50OiB0cnVlIH0pO1xuICAgIHRoaXMuY2hhbmdlTW9kZShDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCwge30sIHsgc2lsZW50OiB0cnVlIH0pO1xuICB9XG59O1xuXG5EcmF3TGluZVN0cmluZy5vblRyYXNoID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgdGhpcy5kZWxldGVGZWF0dXJlKFtzdGF0ZS5saW5lLmlkXSwgeyBzaWxlbnQ6IHRydWUgfSk7XG4gIHRoaXMuY2hhbmdlTW9kZShDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCk7XG59O1xuXG5EcmF3TGluZVN0cmluZy50b0Rpc3BsYXlGZWF0dXJlcyA9IGZ1bmN0aW9uKHN0YXRlLCBnZW9qc29uLCBkaXNwbGF5KSB7XG4gIGNvbnN0IGlzQWN0aXZlTGluZSA9IGdlb2pzb24ucHJvcGVydGllcy5pZCA9PT0gc3RhdGUubGluZS5pZDtcbiAgZ2VvanNvbi5wcm9wZXJ0aWVzLmFjdGl2ZSA9IChpc0FjdGl2ZUxpbmUpID8gQ29uc3RhbnRzLmFjdGl2ZVN0YXRlcy5BQ1RJVkUgOiBDb25zdGFudHMuYWN0aXZlU3RhdGVzLklOQUNUSVZFO1xuICBpZiAoIWlzQWN0aXZlTGluZSkgcmV0dXJuIGRpc3BsYXkoZ2VvanNvbik7XG4gIC8vIE9ubHkgcmVuZGVyIHRoZSBsaW5lIGlmIGl0IGhhcyBhdCBsZWFzdCBvbmUgcmVhbCBjb29yZGluYXRlXG4gIGlmIChnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHJldHVybjtcbiAgZ2VvanNvbi5wcm9wZXJ0aWVzLm1ldGEgPSBDb25zdGFudHMubWV0YS5GRUFUVVJFO1xuICBkaXNwbGF5KGNyZWF0ZVZlcnRleChcbiAgICBzdGF0ZS5saW5lLmlkLFxuICAgIGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbc3RhdGUuZGlyZWN0aW9uID09PSAnZm9yd2FyZCcgPyBnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCAtIDIgOiAxXSxcbiAgICBgJHtzdGF0ZS5kaXJlY3Rpb24gPT09ICdmb3J3YXJkJyA/IGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoIC0gMiA6IDF9YCxcbiAgICBmYWxzZVxuICApKTtcblxuICBkaXNwbGF5KGdlb2pzb24pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRHJhd0xpbmVTdHJpbmc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_line_string.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_point.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_point.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/common_selectors.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\nconst DrawPoint = {};\n\nDrawPoint.onSetup = function() {\n  const point = this.newFeature({\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.FEATURE,\n    properties: {},\n    geometry: {\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_1__.geojsonTypes.POINT,\n      coordinates: []\n    }\n  });\n\n  this.addFeature(point);\n\n  this.clearSelectedFeatures();\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_1__.cursors.ADD });\n  this.activateUIButton(_constants_js__WEBPACK_IMPORTED_MODULE_1__.types.POINT);\n\n  this.setActionableState({\n    trash: true\n  });\n\n  return { point };\n};\n\nDrawPoint.stopDrawingAndRemove = function(state) {\n  this.deleteFeature([state.point.id], { silent: true });\n  this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_1__.modes.SIMPLE_SELECT);\n};\n\nDrawPoint.onTap = DrawPoint.onClick = function(state, e) {\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_1__.cursors.MOVE });\n  state.point.updateCoordinate('', e.lngLat.lng, e.lngLat.lat);\n  this.fire(_constants_js__WEBPACK_IMPORTED_MODULE_1__.events.CREATE, {\n    features: [state.point.toGeoJSON()]\n  });\n  this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_1__.modes.SIMPLE_SELECT, { featureIds: [state.point.id] });\n};\n\nDrawPoint.onStop = function(state) {\n  this.activateUIButton();\n  if (!state.point.getCoordinate().length) {\n    this.deleteFeature([state.point.id], { silent: true });\n  }\n};\n\nDrawPoint.toDisplayFeatures = function(state, geojson, display) {\n  // Never render the point we're drawing\n  const isActivePoint = geojson.properties.id === state.point.id;\n  geojson.properties.active = (isActivePoint) ? _constants_js__WEBPACK_IMPORTED_MODULE_1__.activeStates.ACTIVE : _constants_js__WEBPACK_IMPORTED_MODULE_1__.activeStates.INACTIVE;\n  if (!isActivePoint) return display(geojson);\n};\n\nDrawPoint.onTrash = DrawPoint.stopDrawingAndRemove;\n\nDrawPoint.onKeyUp = function(state, e) {\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isEscapeKey(e) || _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isEnterKey(e)) {\n    return this.stopDrawingAndRemove(state, e);\n  }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DrawPoint);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvZHJhd19wb2ludC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEQ7QUFDakI7O0FBRTdDOztBQUVBO0FBQ0E7QUFDQSxVQUFVLHVEQUFzQjtBQUNoQyxrQkFBa0I7QUFDbEI7QUFDQSxZQUFZLHVEQUFzQjtBQUNsQztBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBLHlCQUF5QixPQUFPLGtEQUFpQixNQUFNO0FBQ3ZELHdCQUF3QixnREFBZTs7QUFFdkM7QUFDQTtBQUNBLEdBQUc7O0FBRUgsV0FBVztBQUNYOztBQUVBO0FBQ0EseUNBQXlDLGNBQWM7QUFDdkQsa0JBQWtCLGdEQUFlO0FBQ2pDOztBQUVBO0FBQ0EseUJBQXlCLE9BQU8sa0RBQWlCLE9BQU87QUFDeEQ7QUFDQSxZQUFZLGlEQUFnQjtBQUM1QjtBQUNBLEdBQUc7QUFDSCxrQkFBa0IsZ0RBQWUsa0JBQWtCLDhCQUE4QjtBQUNqRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsY0FBYztBQUN6RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx1REFBc0IsVUFBVSx1REFBc0I7QUFDdEc7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQU0saUVBQTJCLE9BQU8sZ0VBQTBCO0FBQ2xFO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxTQUFTLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL21vZGVzL2RyYXdfcG9pbnQuanM/OGVkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb21tb25TZWxlY3RvcnMgZnJvbSAnLi4vbGliL2NvbW1vbl9zZWxlY3RvcnMuanMnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cy5qcyc7XG5cbmNvbnN0IERyYXdQb2ludCA9IHt9O1xuXG5EcmF3UG9pbnQub25TZXR1cCA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBwb2ludCA9IHRoaXMubmV3RmVhdHVyZSh7XG4gICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFLFxuICAgIHByb3BlcnRpZXM6IHt9LFxuICAgIGdlb21ldHJ5OiB7XG4gICAgICB0eXBlOiBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPSU5ULFxuICAgICAgY29vcmRpbmF0ZXM6IFtdXG4gICAgfVxuICB9KTtcblxuICB0aGlzLmFkZEZlYXR1cmUocG9pbnQpO1xuXG4gIHRoaXMuY2xlYXJTZWxlY3RlZEZlYXR1cmVzKCk7XG4gIHRoaXMudXBkYXRlVUlDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLkFERCB9KTtcbiAgdGhpcy5hY3RpdmF0ZVVJQnV0dG9uKENvbnN0YW50cy50eXBlcy5QT0lOVCk7XG5cbiAgdGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe1xuICAgIHRyYXNoOiB0cnVlXG4gIH0pO1xuXG4gIHJldHVybiB7IHBvaW50IH07XG59O1xuXG5EcmF3UG9pbnQuc3RvcERyYXdpbmdBbmRSZW1vdmUgPSBmdW5jdGlvbihzdGF0ZSkge1xuICB0aGlzLmRlbGV0ZUZlYXR1cmUoW3N0YXRlLnBvaW50LmlkXSwgeyBzaWxlbnQ6IHRydWUgfSk7XG4gIHRoaXMuY2hhbmdlTW9kZShDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCk7XG59O1xuXG5EcmF3UG9pbnQub25UYXAgPSBEcmF3UG9pbnQub25DbGljayA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIHRoaXMudXBkYXRlVUlDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLk1PVkUgfSk7XG4gIHN0YXRlLnBvaW50LnVwZGF0ZUNvb3JkaW5hdGUoJycsIGUubG5nTGF0LmxuZywgZS5sbmdMYXQubGF0KTtcbiAgdGhpcy5maXJlKENvbnN0YW50cy5ldmVudHMuQ1JFQVRFLCB7XG4gICAgZmVhdHVyZXM6IFtzdGF0ZS5wb2ludC50b0dlb0pTT04oKV1cbiAgfSk7XG4gIHRoaXMuY2hhbmdlTW9kZShDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCwgeyBmZWF0dXJlSWRzOiBbc3RhdGUucG9pbnQuaWRdIH0pO1xufTtcblxuRHJhd1BvaW50Lm9uU3RvcCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIHRoaXMuYWN0aXZhdGVVSUJ1dHRvbigpO1xuICBpZiAoIXN0YXRlLnBvaW50LmdldENvb3JkaW5hdGUoKS5sZW5ndGgpIHtcbiAgICB0aGlzLmRlbGV0ZUZlYXR1cmUoW3N0YXRlLnBvaW50LmlkXSwgeyBzaWxlbnQ6IHRydWUgfSk7XG4gIH1cbn07XG5cbkRyYXdQb2ludC50b0Rpc3BsYXlGZWF0dXJlcyA9IGZ1bmN0aW9uKHN0YXRlLCBnZW9qc29uLCBkaXNwbGF5KSB7XG4gIC8vIE5ldmVyIHJlbmRlciB0aGUgcG9pbnQgd2UncmUgZHJhd2luZ1xuICBjb25zdCBpc0FjdGl2ZVBvaW50ID0gZ2VvanNvbi5wcm9wZXJ0aWVzLmlkID09PSBzdGF0ZS5wb2ludC5pZDtcbiAgZ2VvanNvbi5wcm9wZXJ0aWVzLmFjdGl2ZSA9IChpc0FjdGl2ZVBvaW50KSA/IENvbnN0YW50cy5hY3RpdmVTdGF0ZXMuQUNUSVZFIDogQ29uc3RhbnRzLmFjdGl2ZVN0YXRlcy5JTkFDVElWRTtcbiAgaWYgKCFpc0FjdGl2ZVBvaW50KSByZXR1cm4gZGlzcGxheShnZW9qc29uKTtcbn07XG5cbkRyYXdQb2ludC5vblRyYXNoID0gRHJhd1BvaW50LnN0b3BEcmF3aW5nQW5kUmVtb3ZlO1xuXG5EcmF3UG9pbnQub25LZXlVcCA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIGlmIChDb21tb25TZWxlY3RvcnMuaXNFc2NhcGVLZXkoZSkgfHwgQ29tbW9uU2VsZWN0b3JzLmlzRW50ZXJLZXkoZSkpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9wRHJhd2luZ0FuZFJlbW92ZShzdGF0ZSwgZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IERyYXdQb2ludDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_point.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_polygon.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_polygon.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/common_selectors.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js\");\n/* harmony import */ var _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/double_click_zoom.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _lib_is_event_at_coordinates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/is_event_at_coordinates.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/is_event_at_coordinates.js\");\n/* harmony import */ var _lib_create_vertex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/create_vertex.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_vertex.js\");\n\n\n\n\n\n\nconst DrawPolygon = {};\n\nDrawPolygon.onSetup = function() {\n  const polygon = this.newFeature({\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.FEATURE,\n    properties: {},\n    geometry: {\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.POLYGON,\n      coordinates: [[]]\n    }\n  });\n\n  this.addFeature(polygon);\n\n  this.clearSelectedFeatures();\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].disable(this);\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_2__.cursors.ADD });\n  this.activateUIButton(_constants_js__WEBPACK_IMPORTED_MODULE_2__.types.POLYGON);\n  this.setActionableState({\n    trash: true\n  });\n\n  return {\n    polygon,\n    currentVertexPosition: 0\n  };\n};\n\nDrawPolygon.clickAnywhere = function(state, e) {\n  if (state.currentVertexPosition > 0 && (0,_lib_is_event_at_coordinates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(e, state.polygon.coordinates[0][state.currentVertexPosition - 1])) {\n    return this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_2__.modes.SIMPLE_SELECT, { featureIds: [state.polygon.id] });\n  }\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_2__.cursors.ADD });\n  state.polygon.updateCoordinate(`0.${state.currentVertexPosition}`, e.lngLat.lng, e.lngLat.lat);\n  state.currentVertexPosition++;\n  state.polygon.updateCoordinate(`0.${state.currentVertexPosition}`, e.lngLat.lng, e.lngLat.lat);\n};\n\nDrawPolygon.clickOnVertex = function(state) {\n  return this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_2__.modes.SIMPLE_SELECT, { featureIds: [state.polygon.id] });\n};\n\nDrawPolygon.onMouseMove = function(state, e) {\n  state.polygon.updateCoordinate(`0.${state.currentVertexPosition}`, e.lngLat.lng, e.lngLat.lat);\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isVertex(e)) {\n    this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_2__.cursors.POINTER });\n  }\n};\n\nDrawPolygon.onTap = DrawPolygon.onClick = function(state, e) {\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isVertex(e)) return this.clickOnVertex(state, e);\n  return this.clickAnywhere(state, e);\n};\n\nDrawPolygon.onKeyUp = function(state, e) {\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isEscapeKey(e)) {\n    this.deleteFeature([state.polygon.id], { silent: true });\n    this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_2__.modes.SIMPLE_SELECT);\n  } else if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isEnterKey(e)) {\n    this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_2__.modes.SIMPLE_SELECT, { featureIds: [state.polygon.id] });\n  }\n};\n\nDrawPolygon.onStop = function(state) {\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_2__.cursors.NONE });\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].enable(this);\n  this.activateUIButton();\n\n  // check to see if we've deleted this feature\n  if (this.getFeature(state.polygon.id) === undefined) return;\n\n  //remove last added coordinate\n  state.polygon.removeCoordinate(`0.${state.currentVertexPosition}`);\n  if (state.polygon.isValid()) {\n    this.fire(_constants_js__WEBPACK_IMPORTED_MODULE_2__.events.CREATE, {\n      features: [state.polygon.toGeoJSON()]\n    });\n  } else {\n    this.deleteFeature([state.polygon.id], { silent: true });\n    this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_2__.modes.SIMPLE_SELECT, {}, { silent: true });\n  }\n};\n\nDrawPolygon.toDisplayFeatures = function(state, geojson, display) {\n  const isActivePolygon = geojson.properties.id === state.polygon.id;\n  geojson.properties.active = (isActivePolygon) ? _constants_js__WEBPACK_IMPORTED_MODULE_2__.activeStates.ACTIVE : _constants_js__WEBPACK_IMPORTED_MODULE_2__.activeStates.INACTIVE;\n  if (!isActivePolygon) return display(geojson);\n\n  // Don't render a polygon until it has two positions\n  // (and a 3rd which is just the first repeated)\n  if (geojson.geometry.coordinates.length === 0) return;\n\n  const coordinateCount = geojson.geometry.coordinates[0].length;\n  // 2 coordinates after selecting a draw type\n  // 3 after creating the first point\n  if (coordinateCount < 3) {\n    return;\n  }\n  geojson.properties.meta = _constants_js__WEBPACK_IMPORTED_MODULE_2__.meta.FEATURE;\n  display((0,_lib_create_vertex_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(state.polygon.id, geojson.geometry.coordinates[0][0], '0.0', false));\n  if (coordinateCount > 3) {\n    // Add a start position marker to the map, clicking on this will finish the feature\n    // This should only be shown when we're in a valid spot\n    const endPos = geojson.geometry.coordinates[0].length - 3;\n    display((0,_lib_create_vertex_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(state.polygon.id, geojson.geometry.coordinates[0][endPos], `0.${endPos}`, false));\n  }\n  if (coordinateCount <= 4) {\n    // If we've only drawn two positions (plus the closer),\n    // make a LineString instead of a Polygon\n    const lineCoordinates = [\n      [geojson.geometry.coordinates[0][0][0], geojson.geometry.coordinates[0][0][1]], [geojson.geometry.coordinates[0][1][0], geojson.geometry.coordinates[0][1][1]]\n    ];\n    // create an initial vertex so that we can track the first point on mobile devices\n    display({\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.FEATURE,\n      properties: geojson.properties,\n      geometry: {\n        coordinates: lineCoordinates,\n        type: _constants_js__WEBPACK_IMPORTED_MODULE_2__.geojsonTypes.LINE_STRING\n      }\n    });\n    if (coordinateCount === 3) {\n      return;\n    }\n  }\n  // render the Polygon\n  return display(geojson);\n};\n\nDrawPolygon.onTrash = function(state) {\n  this.deleteFeature([state.polygon.id], { silent: true });\n  this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_2__.modes.SIMPLE_SELECT);\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DrawPolygon);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvZHJhd19wb2x5Z29uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4RDtBQUNKO0FBQ2I7QUFDd0I7QUFDbEI7O0FBRW5EOztBQUVBO0FBQ0E7QUFDQSxVQUFVLHVEQUFzQjtBQUNoQyxrQkFBa0I7QUFDbEI7QUFDQSxZQUFZLHVEQUFzQjtBQUNsQztBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBLEVBQUUsaUVBQWU7QUFDakIseUJBQXlCLE9BQU8sa0RBQWlCLE1BQU07QUFDdkQsd0JBQXdCLGdEQUFlO0FBQ3ZDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUMsMkVBQW9CO0FBQzdELDJCQUEyQixnREFBZSxrQkFBa0IsZ0NBQWdDO0FBQzVGO0FBQ0EseUJBQXlCLE9BQU8sa0RBQWlCLE1BQU07QUFDdkQsc0NBQXNDLDRCQUE0QjtBQUNsRTtBQUNBLHNDQUFzQyw0QkFBNEI7QUFDbEU7O0FBRUE7QUFDQSx5QkFBeUIsZ0RBQWUsa0JBQWtCLGdDQUFnQztBQUMxRjs7QUFFQTtBQUNBLHNDQUFzQyw0QkFBNEI7QUFDbEUsTUFBTSw4REFBd0I7QUFDOUIsMkJBQTJCLE9BQU8sa0RBQWlCLFVBQVU7QUFDN0Q7QUFDQTs7QUFFQTtBQUNBLE1BQU0sOERBQXdCO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGlFQUEyQjtBQUNqQyw2Q0FBNkMsY0FBYztBQUMzRCxvQkFBb0IsZ0RBQWU7QUFDbkMsSUFBSSxTQUFTLGdFQUEwQjtBQUN2QyxvQkFBb0IsZ0RBQWUsa0JBQWtCLGdDQUFnQztBQUNyRjtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLE9BQU8sa0RBQWlCLE9BQU87QUFDeEQsRUFBRSxpRUFBZTtBQUNqQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esc0NBQXNDLDRCQUE0QjtBQUNsRTtBQUNBLGNBQWMsaURBQWdCO0FBQzlCO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSiw2Q0FBNkMsY0FBYztBQUMzRCxvQkFBb0IsZ0RBQWUsa0JBQWtCLElBQUksY0FBYztBQUN2RTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0QsdURBQXNCLFVBQVUsdURBQXNCO0FBQ3hHOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0NBQWM7QUFDMUMsVUFBVSxpRUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUVBQVksaUVBQWlFLE9BQU87QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1REFBc0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBc0I7QUFDcEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsY0FBYztBQUN6RCxrQkFBa0IsZ0RBQWU7QUFDakM7O0FBRUEsaUVBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9tb2Rlcy9kcmF3X3BvbHlnb24uanM/YTRkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb21tb25TZWxlY3RvcnMgZnJvbSAnLi4vbGliL2NvbW1vbl9zZWxlY3RvcnMuanMnO1xuaW1wb3J0IGRvdWJsZUNsaWNrWm9vbSBmcm9tICcuLi9saWIvZG91YmxlX2NsaWNrX3pvb20uanMnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgaXNFdmVudEF0Q29vcmRpbmF0ZXMgZnJvbSAnLi4vbGliL2lzX2V2ZW50X2F0X2Nvb3JkaW5hdGVzLmpzJztcbmltcG9ydCBjcmVhdGVWZXJ0ZXggZnJvbSAnLi4vbGliL2NyZWF0ZV92ZXJ0ZXguanMnO1xuXG5jb25zdCBEcmF3UG9seWdvbiA9IHt9O1xuXG5EcmF3UG9seWdvbi5vblNldHVwID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHBvbHlnb24gPSB0aGlzLm5ld0ZlYXR1cmUoe1xuICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuRkVBVFVSRSxcbiAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICBnZW9tZXRyeToge1xuICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5QT0xZR09OLFxuICAgICAgY29vcmRpbmF0ZXM6IFtbXV1cbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuYWRkRmVhdHVyZShwb2x5Z29uKTtcblxuICB0aGlzLmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpO1xuICBkb3VibGVDbGlja1pvb20uZGlzYWJsZSh0aGlzKTtcbiAgdGhpcy51cGRhdGVVSUNsYXNzZXMoeyBtb3VzZTogQ29uc3RhbnRzLmN1cnNvcnMuQUREIH0pO1xuICB0aGlzLmFjdGl2YXRlVUlCdXR0b24oQ29uc3RhbnRzLnR5cGVzLlBPTFlHT04pO1xuICB0aGlzLnNldEFjdGlvbmFibGVTdGF0ZSh7XG4gICAgdHJhc2g6IHRydWVcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwb2x5Z29uLFxuICAgIGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbjogMFxuICB9O1xufTtcblxuRHJhd1BvbHlnb24uY2xpY2tBbnl3aGVyZSA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIGlmIChzdGF0ZS5jdXJyZW50VmVydGV4UG9zaXRpb24gPiAwICYmIGlzRXZlbnRBdENvb3JkaW5hdGVzKGUsIHN0YXRlLnBvbHlnb24uY29vcmRpbmF0ZXNbMF1bc3RhdGUuY3VycmVudFZlcnRleFBvc2l0aW9uIC0gMV0pKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlTW9kZShDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCwgeyBmZWF0dXJlSWRzOiBbc3RhdGUucG9seWdvbi5pZF0gfSk7XG4gIH1cbiAgdGhpcy51cGRhdGVVSUNsYXNzZXMoeyBtb3VzZTogQ29uc3RhbnRzLmN1cnNvcnMuQUREIH0pO1xuICBzdGF0ZS5wb2x5Z29uLnVwZGF0ZUNvb3JkaW5hdGUoYDAuJHtzdGF0ZS5jdXJyZW50VmVydGV4UG9zaXRpb259YCwgZS5sbmdMYXQubG5nLCBlLmxuZ0xhdC5sYXQpO1xuICBzdGF0ZS5jdXJyZW50VmVydGV4UG9zaXRpb24rKztcbiAgc3RhdGUucG9seWdvbi51cGRhdGVDb29yZGluYXRlKGAwLiR7c3RhdGUuY3VycmVudFZlcnRleFBvc2l0aW9ufWAsIGUubG5nTGF0LmxuZywgZS5sbmdMYXQubGF0KTtcbn07XG5cbkRyYXdQb2x5Z29uLmNsaWNrT25WZXJ0ZXggPSBmdW5jdGlvbihzdGF0ZSkge1xuICByZXR1cm4gdGhpcy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5TSU1QTEVfU0VMRUNULCB7IGZlYXR1cmVJZHM6IFtzdGF0ZS5wb2x5Z29uLmlkXSB9KTtcbn07XG5cbkRyYXdQb2x5Z29uLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgc3RhdGUucG9seWdvbi51cGRhdGVDb29yZGluYXRlKGAwLiR7c3RhdGUuY3VycmVudFZlcnRleFBvc2l0aW9ufWAsIGUubG5nTGF0LmxuZywgZS5sbmdMYXQubGF0KTtcbiAgaWYgKENvbW1vblNlbGVjdG9ycy5pc1ZlcnRleChlKSkge1xuICAgIHRoaXMudXBkYXRlVUlDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLlBPSU5URVIgfSk7XG4gIH1cbn07XG5cbkRyYXdQb2x5Z29uLm9uVGFwID0gRHJhd1BvbHlnb24ub25DbGljayA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIGlmIChDb21tb25TZWxlY3RvcnMuaXNWZXJ0ZXgoZSkpIHJldHVybiB0aGlzLmNsaWNrT25WZXJ0ZXgoc3RhdGUsIGUpO1xuICByZXR1cm4gdGhpcy5jbGlja0FueXdoZXJlKHN0YXRlLCBlKTtcbn07XG5cbkRyYXdQb2x5Z29uLm9uS2V5VXAgPSBmdW5jdGlvbihzdGF0ZSwgZSkge1xuICBpZiAoQ29tbW9uU2VsZWN0b3JzLmlzRXNjYXBlS2V5KGUpKSB7XG4gICAgdGhpcy5kZWxldGVGZWF0dXJlKFtzdGF0ZS5wb2x5Z29uLmlkXSwgeyBzaWxlbnQ6IHRydWUgfSk7XG4gICAgdGhpcy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5TSU1QTEVfU0VMRUNUKTtcbiAgfSBlbHNlIGlmIChDb21tb25TZWxlY3RvcnMuaXNFbnRlcktleShlKSkge1xuICAgIHRoaXMuY2hhbmdlTW9kZShDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCwgeyBmZWF0dXJlSWRzOiBbc3RhdGUucG9seWdvbi5pZF0gfSk7XG4gIH1cbn07XG5cbkRyYXdQb2x5Z29uLm9uU3RvcCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIHRoaXMudXBkYXRlVUlDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLk5PTkUgfSk7XG4gIGRvdWJsZUNsaWNrWm9vbS5lbmFibGUodGhpcyk7XG4gIHRoaXMuYWN0aXZhdGVVSUJ1dHRvbigpO1xuXG4gIC8vIGNoZWNrIHRvIHNlZSBpZiB3ZSd2ZSBkZWxldGVkIHRoaXMgZmVhdHVyZVxuICBpZiAodGhpcy5nZXRGZWF0dXJlKHN0YXRlLnBvbHlnb24uaWQpID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAvL3JlbW92ZSBsYXN0IGFkZGVkIGNvb3JkaW5hdGVcbiAgc3RhdGUucG9seWdvbi5yZW1vdmVDb29yZGluYXRlKGAwLiR7c3RhdGUuY3VycmVudFZlcnRleFBvc2l0aW9ufWApO1xuICBpZiAoc3RhdGUucG9seWdvbi5pc1ZhbGlkKCkpIHtcbiAgICB0aGlzLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5DUkVBVEUsIHtcbiAgICAgIGZlYXR1cmVzOiBbc3RhdGUucG9seWdvbi50b0dlb0pTT04oKV1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmRlbGV0ZUZlYXR1cmUoW3N0YXRlLnBvbHlnb24uaWRdLCB7IHNpbGVudDogdHJ1ZSB9KTtcbiAgICB0aGlzLmNoYW5nZU1vZGUoQ29uc3RhbnRzLm1vZGVzLlNJTVBMRV9TRUxFQ1QsIHt9LCB7IHNpbGVudDogdHJ1ZSB9KTtcbiAgfVxufTtcblxuRHJhd1BvbHlnb24udG9EaXNwbGF5RmVhdHVyZXMgPSBmdW5jdGlvbihzdGF0ZSwgZ2VvanNvbiwgZGlzcGxheSkge1xuICBjb25zdCBpc0FjdGl2ZVBvbHlnb24gPSBnZW9qc29uLnByb3BlcnRpZXMuaWQgPT09IHN0YXRlLnBvbHlnb24uaWQ7XG4gIGdlb2pzb24ucHJvcGVydGllcy5hY3RpdmUgPSAoaXNBY3RpdmVQb2x5Z29uKSA/IENvbnN0YW50cy5hY3RpdmVTdGF0ZXMuQUNUSVZFIDogQ29uc3RhbnRzLmFjdGl2ZVN0YXRlcy5JTkFDVElWRTtcbiAgaWYgKCFpc0FjdGl2ZVBvbHlnb24pIHJldHVybiBkaXNwbGF5KGdlb2pzb24pO1xuXG4gIC8vIERvbid0IHJlbmRlciBhIHBvbHlnb24gdW50aWwgaXQgaGFzIHR3byBwb3NpdGlvbnNcbiAgLy8gKGFuZCBhIDNyZCB3aGljaCBpcyBqdXN0IHRoZSBmaXJzdCByZXBlYXRlZClcbiAgaWYgKGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgY29uc3QgY29vcmRpbmF0ZUNvdW50ID0gZ2VvanNvbi5nZW9tZXRyeS5jb29yZGluYXRlc1swXS5sZW5ndGg7XG4gIC8vIDIgY29vcmRpbmF0ZXMgYWZ0ZXIgc2VsZWN0aW5nIGEgZHJhdyB0eXBlXG4gIC8vIDMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGZpcnN0IHBvaW50XG4gIGlmIChjb29yZGluYXRlQ291bnQgPCAzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGdlb2pzb24ucHJvcGVydGllcy5tZXRhID0gQ29uc3RhbnRzLm1ldGEuRkVBVFVSRTtcbiAgZGlzcGxheShjcmVhdGVWZXJ0ZXgoc3RhdGUucG9seWdvbi5pZCwgZ2VvanNvbi5nZW9tZXRyeS5jb29yZGluYXRlc1swXVswXSwgJzAuMCcsIGZhbHNlKSk7XG4gIGlmIChjb29yZGluYXRlQ291bnQgPiAzKSB7XG4gICAgLy8gQWRkIGEgc3RhcnQgcG9zaXRpb24gbWFya2VyIHRvIHRoZSBtYXAsIGNsaWNraW5nIG9uIHRoaXMgd2lsbCBmaW5pc2ggdGhlIGZlYXR1cmVcbiAgICAvLyBUaGlzIHNob3VsZCBvbmx5IGJlIHNob3duIHdoZW4gd2UncmUgaW4gYSB2YWxpZCBzcG90XG4gICAgY29uc3QgZW5kUG9zID0gZ2VvanNvbi5nZW9tZXRyeS5jb29yZGluYXRlc1swXS5sZW5ndGggLSAzO1xuICAgIGRpc3BsYXkoY3JlYXRlVmVydGV4KHN0YXRlLnBvbHlnb24uaWQsIGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1bZW5kUG9zXSwgYDAuJHtlbmRQb3N9YCwgZmFsc2UpKTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZUNvdW50IDw9IDQpIHtcbiAgICAvLyBJZiB3ZSd2ZSBvbmx5IGRyYXduIHR3byBwb3NpdGlvbnMgKHBsdXMgdGhlIGNsb3NlciksXG4gICAgLy8gbWFrZSBhIExpbmVTdHJpbmcgaW5zdGVhZCBvZiBhIFBvbHlnb25cbiAgICBjb25zdCBsaW5lQ29vcmRpbmF0ZXMgPSBbXG4gICAgICBbZ2VvanNvbi5nZW9tZXRyeS5jb29yZGluYXRlc1swXVswXVswXSwgZ2VvanNvbi5nZW9tZXRyeS5jb29yZGluYXRlc1swXVswXVsxXV0sIFtnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdWzFdWzBdLCBnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdWzFdWzFdXVxuICAgIF07XG4gICAgLy8gY3JlYXRlIGFuIGluaXRpYWwgdmVydGV4IHNvIHRoYXQgd2UgY2FuIHRyYWNrIHRoZSBmaXJzdCBwb2ludCBvbiBtb2JpbGUgZGV2aWNlc1xuICAgIGRpc3BsYXkoe1xuICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFLFxuICAgICAgcHJvcGVydGllczogZ2VvanNvbi5wcm9wZXJ0aWVzLFxuICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgY29vcmRpbmF0ZXM6IGxpbmVDb29yZGluYXRlcyxcbiAgICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5MSU5FX1NUUklOR1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChjb29yZGluYXRlQ291bnQgPT09IDMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgLy8gcmVuZGVyIHRoZSBQb2x5Z29uXG4gIHJldHVybiBkaXNwbGF5KGdlb2pzb24pO1xufTtcblxuRHJhd1BvbHlnb24ub25UcmFzaCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIHRoaXMuZGVsZXRlRmVhdHVyZShbc3RhdGUucG9seWdvbi5pZF0sIHsgc2lsZW50OiB0cnVlIH0pO1xuICB0aGlzLmNoYW5nZU1vZGUoQ29uc3RhbnRzLm1vZGVzLlNJTVBMRV9TRUxFQ1QpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRHJhd1BvbHlnb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_polygon.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _simple_select_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simple_select.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/simple_select.js\");\n/* harmony import */ var _direct_select_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./direct_select.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/direct_select.js\");\n/* harmony import */ var _draw_point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./draw_point.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_point.js\");\n/* harmony import */ var _draw_polygon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./draw_polygon.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_polygon.js\");\n/* harmony import */ var _draw_line_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./draw_line_string.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/draw_line_string.js\");\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  simple_select: _simple_select_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  direct_select: _direct_select_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  draw_point: _draw_point_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  draw_polygon: _draw_polygon_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  draw_line_string: _draw_line_string_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUMrQztBQUNBO0FBQ047QUFDSTtBQUNROztBQUVyRCxpRUFBZTtBQUNmLGVBQWU7QUFDZixlQUFlO0FBQ2YsWUFBWTtBQUNaLGNBQWM7QUFDZCxrQkFBa0I7QUFDbEIsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9tb2Rlcy9pbmRleC5qcz82MzQ2Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHNpbXBsZV9zZWxlY3QgZnJvbSAnLi9zaW1wbGVfc2VsZWN0LmpzJztcbmltcG9ydCBkaXJlY3Rfc2VsZWN0IGZyb20gJy4vZGlyZWN0X3NlbGVjdC5qcyc7XG5pbXBvcnQgZHJhd19wb2ludCBmcm9tICcuL2RyYXdfcG9pbnQuanMnO1xuaW1wb3J0IGRyYXdfcG9seWdvbiBmcm9tICcuL2RyYXdfcG9seWdvbi5qcyc7XG5pbXBvcnQgZHJhd19saW5lX3N0cmluZyBmcm9tICcuL2RyYXdfbGluZV9zdHJpbmcuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNpbXBsZV9zZWxlY3QsXG4gIGRpcmVjdF9zZWxlY3QsXG4gIGRyYXdfcG9pbnQsXG4gIGRyYXdfcG9seWdvbixcbiAgZHJhd19saW5lX3N0cmluZyxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mode_interface_accessors.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface_accessors.js\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/**\n * Triggered while a mode is being transitioned into.\n * @param opts {Object} - this is the object passed via `draw.changeMode('mode', opts)`;\n * @name MODE.onSetup\n * @returns {Object} - this object will be passed to all other life cycle functions\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onSetup = function() {};\n\n/**\n * Triggered when a drag event is detected on the map\n * @name MODE.onDrag\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onDrag = function() {};\n\n/**\n * Triggered when the mouse is clicked\n * @name MODE.onClick\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onClick = function() {};\n\n/**\n * Triggered with the mouse is moved\n * @name MODE.onMouseMove\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onMouseMove = function() {};\n\n/**\n * Triggered when the mouse button is pressed down\n * @name MODE.onMouseDown\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onMouseDown = function() {};\n\n/**\n * Triggered when the mouse button is released\n * @name MODE.onMouseUp\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onMouseUp = function() {};\n\n/**\n * Triggered when the mouse leaves the map's container\n * @name MODE.onMouseOut\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onMouseOut = function() {};\n\n/**\n * Triggered when a key up event is detected\n * @name MODE.onKeyUp\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onKeyUp = function() {};\n\n/**\n * Triggered when a key down event is detected\n * @name MODE.onKeyDown\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onKeyDown = function() {};\n\n/**\n * Triggered when a touch event is started\n * @name MODE.onTouchStart\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onTouchStart = function() {};\n\n/**\n * Triggered when one drags thier finger on a mobile device\n * @name MODE.onTouchMove\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onTouchMove = function() {};\n\n/**\n * Triggered when one removes their finger from the map\n * @name MODE.onTouchEnd\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onTouchEnd = function() {};\n\n/**\n * Triggered when one quicly taps the map\n * @name MODE.onTap\n * @param state {Object} - a mutible state object created by onSetup\n * @param e {Object} - the captured event that is triggering this life cycle event\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onTap = function() {};\n\n/**\n * Triggered when the mode is being exited, to be used for cleaning up artifacts such as invalid features\n * @name MODE.onStop\n * @param state {Object} - a mutible state object created by onSetup\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onStop = function() {};\n\n/**\n * Triggered when [draw.trash()](https://github.com/mapbox/mapbox-gl-draw/blob/main/API.md#trash-draw) is called.\n * @name MODE.onTrash\n * @param state {Object} - a mutible state object created by onSetup\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onTrash = function() {};\n\n/**\n * Triggered when [draw.combineFeatures()](https://github.com/mapbox/mapbox-gl-draw/blob/main/API.md#combinefeatures-draw) is called.\n * @name MODE.onCombineFeature\n * @param state {Object} - a mutible state object created by onSetup\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onCombineFeature = function() {};\n\n/**\n * Triggered when [draw.uncombineFeatures()](https://github.com/mapbox/mapbox-gl-draw/blob/main/API.md#uncombinefeatures-draw) is called.\n * @name MODE.onUncombineFeature\n * @param state {Object} - a mutible state object created by onSetup\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.onUncombineFeature = function() {};\n\n/**\n * Triggered per feature on render to convert raw features into set of features for display on the map\n * See [styling draw](https://github.com/mapbox/mapbox-gl-draw/blob/main/API.md#styling-draw) for information about what geojson properties Draw uses as part of rendering.\n * @name MODE.toDisplayFeatures\n * @param state {Object} - a mutible state object created by onSetup\n * @param geojson {Object} - a geojson being evaulated. To render, pass to `display`.\n * @param display {Function} - all geojson objects passed to this be rendered onto the map\n */\n_mode_interface_accessors_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.toDisplayFeatures = function() {\n  throw new Error('You must overwrite toDisplayFeatures');\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvbW9kZV9pbnRlcmZhY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEQ7QUFDMUQsaUVBQWUsb0VBQWEsRUFBQzs7QUFFN0I7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQSxvRUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBLG9FQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0Esb0VBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQSxvRUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCLG1CQUFtQixRQUFRO0FBQzNCLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0Esb0VBQWE7QUFDYjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9tb2Rlcy9tb2RlX2ludGVyZmFjZS5qcz9iNjBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb2RlSW50ZXJmYWNlIGZyb20gJy4vbW9kZV9pbnRlcmZhY2VfYWNjZXNzb3JzLmpzJztcbmV4cG9ydCBkZWZhdWx0IE1vZGVJbnRlcmZhY2U7XG5cbi8qKlxuICogVHJpZ2dlcmVkIHdoaWxlIGEgbW9kZSBpcyBiZWluZyB0cmFuc2l0aW9uZWQgaW50by5cbiAqIEBwYXJhbSBvcHRzIHtPYmplY3R9IC0gdGhpcyBpcyB0aGUgb2JqZWN0IHBhc3NlZCB2aWEgYGRyYXcuY2hhbmdlTW9kZSgnbW9kZScsIG9wdHMpYDtcbiAqIEBuYW1lIE1PREUub25TZXR1cFxuICogQHJldHVybnMge09iamVjdH0gLSB0aGlzIG9iamVjdCB3aWxsIGJlIHBhc3NlZCB0byBhbGwgb3RoZXIgbGlmZSBjeWNsZSBmdW5jdGlvbnNcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUub25TZXR1cCA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogVHJpZ2dlcmVkIHdoZW4gYSBkcmFnIGV2ZW50IGlzIGRldGVjdGVkIG9uIHRoZSBtYXBcbiAqIEBuYW1lIE1PREUub25EcmFnXG4gKiBAcGFyYW0gc3RhdGUge09iamVjdH0gLSBhIG11dGlibGUgc3RhdGUgb2JqZWN0IGNyZWF0ZWQgYnkgb25TZXR1cFxuICogQHBhcmFtIGUge09iamVjdH0gLSB0aGUgY2FwdHVyZWQgZXZlbnQgdGhhdCBpcyB0cmlnZ2VyaW5nIHRoaXMgbGlmZSBjeWNsZSBldmVudFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5vbkRyYWcgPSBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtb3VzZSBpcyBjbGlja2VkXG4gKiBAbmFtZSBNT0RFLm9uQ2xpY2tcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSAtIGEgbXV0aWJsZSBzdGF0ZSBvYmplY3QgY3JlYXRlZCBieSBvblNldHVwXG4gKiBAcGFyYW0gZSB7T2JqZWN0fSAtIHRoZSBjYXB0dXJlZCBldmVudCB0aGF0IGlzIHRyaWdnZXJpbmcgdGhpcyBsaWZlIGN5Y2xlIGV2ZW50XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIFRyaWdnZXJlZCB3aXRoIHRoZSBtb3VzZSBpcyBtb3ZlZFxuICogQG5hbWUgTU9ERS5vbk1vdXNlTW92ZVxuICogQHBhcmFtIHN0YXRlIHtPYmplY3R9IC0gYSBtdXRpYmxlIHN0YXRlIG9iamVjdCBjcmVhdGVkIGJ5IG9uU2V0dXBcbiAqIEBwYXJhbSBlIHtPYmplY3R9IC0gdGhlIGNhcHR1cmVkIGV2ZW50IHRoYXQgaXMgdHJpZ2dlcmluZyB0aGlzIGxpZmUgY3ljbGUgZXZlbnRcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUub25Nb3VzZU1vdmUgPSBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtb3VzZSBidXR0b24gaXMgcHJlc3NlZCBkb3duXG4gKiBAbmFtZSBNT0RFLm9uTW91c2VEb3duXG4gKiBAcGFyYW0gc3RhdGUge09iamVjdH0gLSBhIG11dGlibGUgc3RhdGUgb2JqZWN0IGNyZWF0ZWQgYnkgb25TZXR1cFxuICogQHBhcmFtIGUge09iamVjdH0gLSB0aGUgY2FwdHVyZWQgZXZlbnQgdGhhdCBpcyB0cmlnZ2VyaW5nIHRoaXMgbGlmZSBjeWNsZSBldmVudFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1vdXNlIGJ1dHRvbiBpcyByZWxlYXNlZFxuICogQG5hbWUgTU9ERS5vbk1vdXNlVXBcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSAtIGEgbXV0aWJsZSBzdGF0ZSBvYmplY3QgY3JlYXRlZCBieSBvblNldHVwXG4gKiBAcGFyYW0gZSB7T2JqZWN0fSAtIHRoZSBjYXB0dXJlZCBldmVudCB0aGF0IGlzIHRyaWdnZXJpbmcgdGhpcyBsaWZlIGN5Y2xlIGV2ZW50XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm9uTW91c2VVcCA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1vdXNlIGxlYXZlcyB0aGUgbWFwJ3MgY29udGFpbmVyXG4gKiBAbmFtZSBNT0RFLm9uTW91c2VPdXRcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSAtIGEgbXV0aWJsZSBzdGF0ZSBvYmplY3QgY3JlYXRlZCBieSBvblNldHVwXG4gKiBAcGFyYW0gZSB7T2JqZWN0fSAtIHRoZSBjYXB0dXJlZCBldmVudCB0aGF0IGlzIHRyaWdnZXJpbmcgdGhpcyBsaWZlIGN5Y2xlIGV2ZW50XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm9uTW91c2VPdXQgPSBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIFRyaWdnZXJlZCB3aGVuIGEga2V5IHVwIGV2ZW50IGlzIGRldGVjdGVkXG4gKiBAbmFtZSBNT0RFLm9uS2V5VXBcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSAtIGEgbXV0aWJsZSBzdGF0ZSBvYmplY3QgY3JlYXRlZCBieSBvblNldHVwXG4gKiBAcGFyYW0gZSB7T2JqZWN0fSAtIHRoZSBjYXB0dXJlZCBldmVudCB0aGF0IGlzIHRyaWdnZXJpbmcgdGhpcyBsaWZlIGN5Y2xlIGV2ZW50XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm9uS2V5VXAgPSBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIFRyaWdnZXJlZCB3aGVuIGEga2V5IGRvd24gZXZlbnQgaXMgZGV0ZWN0ZWRcbiAqIEBuYW1lIE1PREUub25LZXlEb3duXG4gKiBAcGFyYW0gc3RhdGUge09iamVjdH0gLSBhIG11dGlibGUgc3RhdGUgb2JqZWN0IGNyZWF0ZWQgYnkgb25TZXR1cFxuICogQHBhcmFtIGUge09iamVjdH0gLSB0aGUgY2FwdHVyZWQgZXZlbnQgdGhhdCBpcyB0cmlnZ2VyaW5nIHRoaXMgbGlmZSBjeWNsZSBldmVudFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5vbktleURvd24gPSBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIFRyaWdnZXJlZCB3aGVuIGEgdG91Y2ggZXZlbnQgaXMgc3RhcnRlZFxuICogQG5hbWUgTU9ERS5vblRvdWNoU3RhcnRcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSAtIGEgbXV0aWJsZSBzdGF0ZSBvYmplY3QgY3JlYXRlZCBieSBvblNldHVwXG4gKiBAcGFyYW0gZSB7T2JqZWN0fSAtIHRoZSBjYXB0dXJlZCBldmVudCB0aGF0IGlzIHRyaWdnZXJpbmcgdGhpcyBsaWZlIGN5Y2xlIGV2ZW50XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogVHJpZ2dlcmVkIHdoZW4gb25lIGRyYWdzIHRoaWVyIGZpbmdlciBvbiBhIG1vYmlsZSBkZXZpY2VcbiAqIEBuYW1lIE1PREUub25Ub3VjaE1vdmVcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSAtIGEgbXV0aWJsZSBzdGF0ZSBvYmplY3QgY3JlYXRlZCBieSBvblNldHVwXG4gKiBAcGFyYW0gZSB7T2JqZWN0fSAtIHRoZSBjYXB0dXJlZCBldmVudCB0aGF0IGlzIHRyaWdnZXJpbmcgdGhpcyBsaWZlIGN5Y2xlIGV2ZW50XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm9uVG91Y2hNb3ZlID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBUcmlnZ2VyZWQgd2hlbiBvbmUgcmVtb3ZlcyB0aGVpciBmaW5nZXIgZnJvbSB0aGUgbWFwXG4gKiBAbmFtZSBNT0RFLm9uVG91Y2hFbmRcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSAtIGEgbXV0aWJsZSBzdGF0ZSBvYmplY3QgY3JlYXRlZCBieSBvblNldHVwXG4gKiBAcGFyYW0gZSB7T2JqZWN0fSAtIHRoZSBjYXB0dXJlZCBldmVudCB0aGF0IGlzIHRyaWdnZXJpbmcgdGhpcyBsaWZlIGN5Y2xlIGV2ZW50XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm9uVG91Y2hFbmQgPSBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIFRyaWdnZXJlZCB3aGVuIG9uZSBxdWljbHkgdGFwcyB0aGUgbWFwXG4gKiBAbmFtZSBNT0RFLm9uVGFwXG4gKiBAcGFyYW0gc3RhdGUge09iamVjdH0gLSBhIG11dGlibGUgc3RhdGUgb2JqZWN0IGNyZWF0ZWQgYnkgb25TZXR1cFxuICogQHBhcmFtIGUge09iamVjdH0gLSB0aGUgY2FwdHVyZWQgZXZlbnQgdGhhdCBpcyB0cmlnZ2VyaW5nIHRoaXMgbGlmZSBjeWNsZSBldmVudFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5vblRhcCA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1vZGUgaXMgYmVpbmcgZXhpdGVkLCB0byBiZSB1c2VkIGZvciBjbGVhbmluZyB1cCBhcnRpZmFjdHMgc3VjaCBhcyBpbnZhbGlkIGZlYXR1cmVzXG4gKiBAbmFtZSBNT0RFLm9uU3RvcFxuICogQHBhcmFtIHN0YXRlIHtPYmplY3R9IC0gYSBtdXRpYmxlIHN0YXRlIG9iamVjdCBjcmVhdGVkIGJ5IG9uU2V0dXBcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUub25TdG9wID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBUcmlnZ2VyZWQgd2hlbiBbZHJhdy50cmFzaCgpXShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1kcmF3L2Jsb2IvbWFpbi9BUEkubWQjdHJhc2gtZHJhdykgaXMgY2FsbGVkLlxuICogQG5hbWUgTU9ERS5vblRyYXNoXG4gKiBAcGFyYW0gc3RhdGUge09iamVjdH0gLSBhIG11dGlibGUgc3RhdGUgb2JqZWN0IGNyZWF0ZWQgYnkgb25TZXR1cFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5vblRyYXNoID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBUcmlnZ2VyZWQgd2hlbiBbZHJhdy5jb21iaW5lRmVhdHVyZXMoKV0oaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtZHJhdy9ibG9iL21haW4vQVBJLm1kI2NvbWJpbmVmZWF0dXJlcy1kcmF3KSBpcyBjYWxsZWQuXG4gKiBAbmFtZSBNT0RFLm9uQ29tYmluZUZlYXR1cmVcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSAtIGEgbXV0aWJsZSBzdGF0ZSBvYmplY3QgY3JlYXRlZCBieSBvblNldHVwXG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm9uQ29tYmluZUZlYXR1cmUgPSBmdW5jdGlvbigpIHt9O1xuXG4vKipcbiAqIFRyaWdnZXJlZCB3aGVuIFtkcmF3LnVuY29tYmluZUZlYXR1cmVzKCldKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWRyYXcvYmxvYi9tYWluL0FQSS5tZCN1bmNvbWJpbmVmZWF0dXJlcy1kcmF3KSBpcyBjYWxsZWQuXG4gKiBAbmFtZSBNT0RFLm9uVW5jb21iaW5lRmVhdHVyZVxuICogQHBhcmFtIHN0YXRlIHtPYmplY3R9IC0gYSBtdXRpYmxlIHN0YXRlIG9iamVjdCBjcmVhdGVkIGJ5IG9uU2V0dXBcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUub25VbmNvbWJpbmVGZWF0dXJlID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBUcmlnZ2VyZWQgcGVyIGZlYXR1cmUgb24gcmVuZGVyIHRvIGNvbnZlcnQgcmF3IGZlYXR1cmVzIGludG8gc2V0IG9mIGZlYXR1cmVzIGZvciBkaXNwbGF5IG9uIHRoZSBtYXBcbiAqIFNlZSBbc3R5bGluZyBkcmF3XShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1kcmF3L2Jsb2IvbWFpbi9BUEkubWQjc3R5bGluZy1kcmF3KSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBnZW9qc29uIHByb3BlcnRpZXMgRHJhdyB1c2VzIGFzIHBhcnQgb2YgcmVuZGVyaW5nLlxuICogQG5hbWUgTU9ERS50b0Rpc3BsYXlGZWF0dXJlc1xuICogQHBhcmFtIHN0YXRlIHtPYmplY3R9IC0gYSBtdXRpYmxlIHN0YXRlIG9iamVjdCBjcmVhdGVkIGJ5IG9uU2V0dXBcbiAqIEBwYXJhbSBnZW9qc29uIHtPYmplY3R9IC0gYSBnZW9qc29uIGJlaW5nIGV2YXVsYXRlZC4gVG8gcmVuZGVyLCBwYXNzIHRvIGBkaXNwbGF5YC5cbiAqIEBwYXJhbSBkaXNwbGF5IHtGdW5jdGlvbn0gLSBhbGwgZ2VvanNvbiBvYmplY3RzIHBhc3NlZCB0byB0aGlzIGJlIHJlbmRlcmVkIG9udG8gdGhlIG1hcFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS50b0Rpc3BsYXlGZWF0dXJlcyA9IGZ1bmN0aW9uKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IG92ZXJ3cml0ZSB0b0Rpc3BsYXlGZWF0dXJlcycpO1xufTtcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface_accessors.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface_accessors.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ModeInterface)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _lib_features_at_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/features_at.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/features_at.js\");\n/* harmony import */ var _feature_types_point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../feature_types/point.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/point.js\");\n/* harmony import */ var _feature_types_line_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../feature_types/line_string.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/line_string.js\");\n/* harmony import */ var _feature_types_polygon_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../feature_types/polygon.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/polygon.js\");\n/* harmony import */ var _feature_types_multi_feature_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../feature_types/multi_feature.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/feature_types/multi_feature.js\");\n\n\n\n\n\n\n\nfunction ModeInterface(ctx) {\n  this.map = ctx.map;\n  this.drawConfig = JSON.parse(JSON.stringify(ctx.options || {}));\n  this._ctx = ctx;\n}\n\n/**\n * Sets Draw's interal selected state\n * @name this.setSelected\n * @param {DrawFeature[]} - whats selected as a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/main/src/feature_types/feature.js)\n */\nModeInterface.prototype.setSelected = function(features) {\n  return this._ctx.store.setSelected(features);\n};\n\n/**\n * Sets Draw's internal selected coordinate state\n * @name this.setSelectedCoordinates\n * @param {Object[]} coords - a array of {coord_path: 'string', feature_id: 'string'}\n */\nModeInterface.prototype.setSelectedCoordinates = function(coords) {\n  this._ctx.store.setSelectedCoordinates(coords);\n  coords.reduce((m, c) => {\n    if (m[c.feature_id] === undefined) {\n      m[c.feature_id] = true;\n      this._ctx.store.get(c.feature_id).changed();\n    }\n    return m;\n  }, {});\n};\n\n/**\n * Get all selected features as a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/main/src/feature_types/feature.js)\n * @name this.getSelected\n * @returns {DrawFeature[]}\n */\nModeInterface.prototype.getSelected = function() {\n  return this._ctx.store.getSelected();\n};\n\n/**\n * Get the ids of all currently selected features\n * @name this.getSelectedIds\n * @returns {String[]}\n */\nModeInterface.prototype.getSelectedIds = function() {\n  return this._ctx.store.getSelectedIds();\n};\n\n/**\n * Check if a feature is selected\n * @name this.isSelected\n * @param {String} id - a feature id\n * @returns {Boolean}\n */\nModeInterface.prototype.isSelected = function(id) {\n  return this._ctx.store.isSelected(id);\n};\n\n/**\n * Get a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/main/src/feature_types/feature.js) by its id\n * @name this.getFeature\n * @param {String} id - a feature id\n * @returns {DrawFeature}\n */\nModeInterface.prototype.getFeature = function(id) {\n  return this._ctx.store.get(id);\n};\n\n/**\n * Add a feature to draw's internal selected state\n * @name this.select\n * @param {String} id\n */\nModeInterface.prototype.select = function(id) {\n  return this._ctx.store.select(id);\n};\n\n/**\n * Remove a feature from draw's internal selected state\n * @name this.delete\n * @param {String} id\n */\nModeInterface.prototype.deselect = function(id) {\n  return this._ctx.store.deselect(id);\n};\n\n/**\n * Delete a feature from draw\n * @name this.deleteFeature\n * @param {String} id - a feature id\n */\nModeInterface.prototype.deleteFeature = function(id, opts = {}) {\n  return this._ctx.store.delete(id, opts);\n};\n\n/**\n * Add a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/main/src/feature_types/feature.js) to draw.\n * See `this.newFeature` for converting geojson into a DrawFeature\n * @name this.addFeature\n * @param {DrawFeature} feature - the feature to add\n */\nModeInterface.prototype.addFeature = function(feature, opts = {}) {\n  return this._ctx.store.add(feature, opts);\n};\n\n/**\n * Clear all selected features\n */\nModeInterface.prototype.clearSelectedFeatures = function() {\n  return this._ctx.store.clearSelected();\n};\n\n/**\n * Clear all selected coordinates\n */\nModeInterface.prototype.clearSelectedCoordinates = function() {\n  return this._ctx.store.clearSelectedCoordinates();\n};\n\n/**\n * Indicate if the different action are currently possible with your mode\n * See [draw.actionalbe](https://github.com/mapbox/mapbox-gl-draw/blob/main/API.md#drawactionable) for a list of possible actions. All undefined actions are set to **false** by default\n * @name this.setActionableState\n * @param {Object} actions\n */\nModeInterface.prototype.setActionableState = function(actions = {}) {\n  const newSet = {\n    trash: actions.trash || false,\n    combineFeatures: actions.combineFeatures || false,\n    uncombineFeatures: actions.uncombineFeatures || false\n  };\n  return this._ctx.events.actionable(newSet);\n};\n\n/**\n * Trigger a mode change\n * @name this.changeMode\n * @param {String} mode - the mode to transition into\n * @param {Object} opts - the options object to pass to the new mode\n * @param {Object} eventOpts - used to control what kind of events are emitted.\n */\nModeInterface.prototype.changeMode = function(mode, opts = {}, eventOpts = {}) {\n  return this._ctx.events.changeMode(mode, opts, eventOpts);\n};\n\n/**\n * Fire a map event\n * @name this.fire\n * @param {String} eventName - the event name.\n * @param {Object} eventData - the event data object.\n */\nModeInterface.prototype.fire = function(eventName, eventData) {\n  return this._ctx.events.fire(eventName, eventData);\n};\n\n/**\n * Update the state of draw map classes\n * @name this.updateUIClasses\n * @param {Object} opts\n */\nModeInterface.prototype.updateUIClasses = function(opts) {\n  return this._ctx.ui.queueMapClasses(opts);\n};\n\n/**\n * If a name is provided it makes that button active, else if makes all buttons inactive\n * @name this.activateUIButton\n * @param {String?} name - name of the button to make active, leave as undefined to set buttons to be inactive\n */\nModeInterface.prototype.activateUIButton = function(name) {\n  return this._ctx.ui.setActiveButton(name);\n};\n\n/**\n * Get the features at the location of an event object or in a bbox\n * @name this.featuresAt\n * @param {Event||NULL} event - a mapbox-gl event object\n * @param {BBOX||NULL} bbox - the area to get features from\n * @param {String} bufferType - is this `click` or `tap` event, defaults to click\n */\nModeInterface.prototype.featuresAt = function(event, bbox, bufferType = 'click') {\n  if (bufferType !== 'click' && bufferType !== 'touch') throw new Error('invalid buffer type');\n  return _lib_features_at_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"][bufferType](event, bbox, this._ctx);\n};\n\n/**\n * Create a new [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/main/src/feature_types/feature.js) from geojson\n * @name this.newFeature\n * @param {GeoJSONFeature} geojson\n * @returns {DrawFeature}\n */\nModeInterface.prototype.newFeature = function(geojson) {\n  const type = geojson.geometry.type;\n  if (type === _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.POINT) return new _feature_types_point_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this._ctx, geojson);\n  if (type === _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.LINE_STRING) return new _feature_types_line_string_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this._ctx, geojson);\n  if (type === _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.POLYGON) return new _feature_types_polygon_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this._ctx, geojson);\n  return new _feature_types_multi_feature_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this._ctx, geojson);\n};\n\n/**\n * Check is an object is an instance of a [DrawFeature](https://github.com/mapbox/mapbox-gl-draw/blob/main/src/feature_types/feature.js)\n * @name this.isInstanceOf\n * @param {String} type - `Point`, `LineString`, `Polygon`, `MultiFeature`\n * @param {Object} feature - the object that needs to be checked\n * @returns {Boolean}\n */\nModeInterface.prototype.isInstanceOf = function(type, feature) {\n  if (type === _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.POINT) return feature instanceof _feature_types_point_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n  if (type === _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.LINE_STRING) return feature instanceof _feature_types_line_string_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n  if (type === _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.POLYGON) return feature instanceof _feature_types_polygon_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n  if (type === 'MultiFeature') return feature instanceof _feature_types_multi_feature_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\n  throw new Error(`Unknown feature class: ${type}`);\n};\n\n/**\n * Force draw to rerender the feature of the provided id\n * @name this.doRender\n * @param {String} id - a feature id\n */\nModeInterface.prototype.doRender = function(id) {\n  return this._ctx.store.featureChanged(id);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvbW9kZV9pbnRlcmZhY2VfYWNjZXNzb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBNkM7QUFDRTtBQUNEO0FBQ1c7QUFDUDtBQUNXOztBQUU5QztBQUNmO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVSxxQkFBcUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSw2REFBNkQsZ0JBQWdCO0FBQzdFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixXQUFXLFlBQVk7QUFDdkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkRBQVU7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdURBQXNCLG1CQUFtQiwrREFBSztBQUM3RCxlQUFlLHVEQUFzQix5QkFBeUIscUVBQVU7QUFDeEUsZUFBZSx1REFBc0IscUJBQXFCLGlFQUFPO0FBQ2pFLGFBQWEsdUVBQVk7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBLGVBQWUsdURBQXNCLGtDQUFrQywrREFBSztBQUM1RSxlQUFlLHVEQUFzQix3Q0FBd0MscUVBQVU7QUFDdkYsZUFBZSx1REFBc0Isb0NBQW9DLGlFQUFPO0FBQ2hGLHlEQUF5RCx1RUFBWTtBQUNyRSw0Q0FBNEMsS0FBSztBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL21vZGVzL21vZGVfaW50ZXJmYWNlX2FjY2Vzc29ycy5qcz8yZjk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IGZlYXR1cmVzQXQgZnJvbSAnLi4vbGliL2ZlYXR1cmVzX2F0LmpzJztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9mZWF0dXJlX3R5cGVzL3BvaW50LmpzJztcbmltcG9ydCBMaW5lU3RyaW5nIGZyb20gJy4uL2ZlYXR1cmVfdHlwZXMvbGluZV9zdHJpbmcuanMnO1xuaW1wb3J0IFBvbHlnb24gZnJvbSAnLi4vZmVhdHVyZV90eXBlcy9wb2x5Z29uLmpzJztcbmltcG9ydCBNdWx0aUZlYXR1cmUgZnJvbSAnLi4vZmVhdHVyZV90eXBlcy9tdWx0aV9mZWF0dXJlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZUludGVyZmFjZShjdHgpIHtcbiAgdGhpcy5tYXAgPSBjdHgubWFwO1xuICB0aGlzLmRyYXdDb25maWcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN0eC5vcHRpb25zIHx8IHt9KSk7XG4gIHRoaXMuX2N0eCA9IGN0eDtcbn1cblxuLyoqXG4gKiBTZXRzIERyYXcncyBpbnRlcmFsIHNlbGVjdGVkIHN0YXRlXG4gKiBAbmFtZSB0aGlzLnNldFNlbGVjdGVkXG4gKiBAcGFyYW0ge0RyYXdGZWF0dXJlW119IC0gd2hhdHMgc2VsZWN0ZWQgYXMgYSBbRHJhd0ZlYXR1cmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWRyYXcvYmxvYi9tYWluL3NyYy9mZWF0dXJlX3R5cGVzL2ZlYXR1cmUuanMpXG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLnNldFNlbGVjdGVkID0gZnVuY3Rpb24oZmVhdHVyZXMpIHtcbiAgcmV0dXJuIHRoaXMuX2N0eC5zdG9yZS5zZXRTZWxlY3RlZChmZWF0dXJlcyk7XG59O1xuXG4vKipcbiAqIFNldHMgRHJhdydzIGludGVybmFsIHNlbGVjdGVkIGNvb3JkaW5hdGUgc3RhdGVcbiAqIEBuYW1lIHRoaXMuc2V0U2VsZWN0ZWRDb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3RbXX0gY29vcmRzIC0gYSBhcnJheSBvZiB7Y29vcmRfcGF0aDogJ3N0cmluZycsIGZlYXR1cmVfaWQ6ICdzdHJpbmcnfVxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5zZXRTZWxlY3RlZENvb3JkaW5hdGVzID0gZnVuY3Rpb24oY29vcmRzKSB7XG4gIHRoaXMuX2N0eC5zdG9yZS5zZXRTZWxlY3RlZENvb3JkaW5hdGVzKGNvb3Jkcyk7XG4gIGNvb3Jkcy5yZWR1Y2UoKG0sIGMpID0+IHtcbiAgICBpZiAobVtjLmZlYXR1cmVfaWRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1bYy5mZWF0dXJlX2lkXSA9IHRydWU7XG4gICAgICB0aGlzLl9jdHguc3RvcmUuZ2V0KGMuZmVhdHVyZV9pZCkuY2hhbmdlZCgpO1xuICAgIH1cbiAgICByZXR1cm4gbTtcbiAgfSwge30pO1xufTtcblxuLyoqXG4gKiBHZXQgYWxsIHNlbGVjdGVkIGZlYXR1cmVzIGFzIGEgW0RyYXdGZWF0dXJlXShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1kcmF3L2Jsb2IvbWFpbi9zcmMvZmVhdHVyZV90eXBlcy9mZWF0dXJlLmpzKVxuICogQG5hbWUgdGhpcy5nZXRTZWxlY3RlZFxuICogQHJldHVybnMge0RyYXdGZWF0dXJlW119XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLmdldFNlbGVjdGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9jdHguc3RvcmUuZ2V0U2VsZWN0ZWQoKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBpZHMgb2YgYWxsIGN1cnJlbnRseSBzZWxlY3RlZCBmZWF0dXJlc1xuICogQG5hbWUgdGhpcy5nZXRTZWxlY3RlZElkc1xuICogQHJldHVybnMge1N0cmluZ1tdfVxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5nZXRTZWxlY3RlZElkcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fY3R4LnN0b3JlLmdldFNlbGVjdGVkSWRzKCk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGEgZmVhdHVyZSBpcyBzZWxlY3RlZFxuICogQG5hbWUgdGhpcy5pc1NlbGVjdGVkXG4gKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBhIGZlYXR1cmUgaWRcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5pc1NlbGVjdGVkID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIHRoaXMuX2N0eC5zdG9yZS5pc1NlbGVjdGVkKGlkKTtcbn07XG5cbi8qKlxuICogR2V0IGEgW0RyYXdGZWF0dXJlXShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1kcmF3L2Jsb2IvbWFpbi9zcmMvZmVhdHVyZV90eXBlcy9mZWF0dXJlLmpzKSBieSBpdHMgaWRcbiAqIEBuYW1lIHRoaXMuZ2V0RmVhdHVyZVxuICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gYSBmZWF0dXJlIGlkXG4gKiBAcmV0dXJucyB7RHJhd0ZlYXR1cmV9XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLmdldEZlYXR1cmUgPSBmdW5jdGlvbihpZCkge1xuICByZXR1cm4gdGhpcy5fY3R4LnN0b3JlLmdldChpZCk7XG59O1xuXG4vKipcbiAqIEFkZCBhIGZlYXR1cmUgdG8gZHJhdydzIGludGVybmFsIHNlbGVjdGVkIHN0YXRlXG4gKiBAbmFtZSB0aGlzLnNlbGVjdFxuICogQHBhcmFtIHtTdHJpbmd9IGlkXG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiB0aGlzLl9jdHguc3RvcmUuc2VsZWN0KGlkKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGEgZmVhdHVyZSBmcm9tIGRyYXcncyBpbnRlcm5hbCBzZWxlY3RlZCBzdGF0ZVxuICogQG5hbWUgdGhpcy5kZWxldGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5kZXNlbGVjdCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiB0aGlzLl9jdHguc3RvcmUuZGVzZWxlY3QoaWQpO1xufTtcblxuLyoqXG4gKiBEZWxldGUgYSBmZWF0dXJlIGZyb20gZHJhd1xuICogQG5hbWUgdGhpcy5kZWxldGVGZWF0dXJlXG4gKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBhIGZlYXR1cmUgaWRcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUuZGVsZXRlRmVhdHVyZSA9IGZ1bmN0aW9uKGlkLCBvcHRzID0ge30pIHtcbiAgcmV0dXJuIHRoaXMuX2N0eC5zdG9yZS5kZWxldGUoaWQsIG9wdHMpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBbRHJhd0ZlYXR1cmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWRyYXcvYmxvYi9tYWluL3NyYy9mZWF0dXJlX3R5cGVzL2ZlYXR1cmUuanMpIHRvIGRyYXcuXG4gKiBTZWUgYHRoaXMubmV3RmVhdHVyZWAgZm9yIGNvbnZlcnRpbmcgZ2VvanNvbiBpbnRvIGEgRHJhd0ZlYXR1cmVcbiAqIEBuYW1lIHRoaXMuYWRkRmVhdHVyZVxuICogQHBhcmFtIHtEcmF3RmVhdHVyZX0gZmVhdHVyZSAtIHRoZSBmZWF0dXJlIHRvIGFkZFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5hZGRGZWF0dXJlID0gZnVuY3Rpb24oZmVhdHVyZSwgb3B0cyA9IHt9KSB7XG4gIHJldHVybiB0aGlzLl9jdHguc3RvcmUuYWRkKGZlYXR1cmUsIG9wdHMpO1xufTtcblxuLyoqXG4gKiBDbGVhciBhbGwgc2VsZWN0ZWQgZmVhdHVyZXNcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUuY2xlYXJTZWxlY3RlZEZlYXR1cmVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9jdHguc3RvcmUuY2xlYXJTZWxlY3RlZCgpO1xufTtcblxuLyoqXG4gKiBDbGVhciBhbGwgc2VsZWN0ZWQgY29vcmRpbmF0ZXNcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUuY2xlYXJTZWxlY3RlZENvb3JkaW5hdGVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9jdHguc3RvcmUuY2xlYXJTZWxlY3RlZENvb3JkaW5hdGVzKCk7XG59O1xuXG4vKipcbiAqIEluZGljYXRlIGlmIHRoZSBkaWZmZXJlbnQgYWN0aW9uIGFyZSBjdXJyZW50bHkgcG9zc2libGUgd2l0aCB5b3VyIG1vZGVcbiAqIFNlZSBbZHJhdy5hY3Rpb25hbGJlXShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1kcmF3L2Jsb2IvbWFpbi9BUEkubWQjZHJhd2FjdGlvbmFibGUpIGZvciBhIGxpc3Qgb2YgcG9zc2libGUgYWN0aW9ucy4gQWxsIHVuZGVmaW5lZCBhY3Rpb25zIGFyZSBzZXQgdG8gKipmYWxzZSoqIGJ5IGRlZmF1bHRcbiAqIEBuYW1lIHRoaXMuc2V0QWN0aW9uYWJsZVN0YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uc1xuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5zZXRBY3Rpb25hYmxlU3RhdGUgPSBmdW5jdGlvbihhY3Rpb25zID0ge30pIHtcbiAgY29uc3QgbmV3U2V0ID0ge1xuICAgIHRyYXNoOiBhY3Rpb25zLnRyYXNoIHx8IGZhbHNlLFxuICAgIGNvbWJpbmVGZWF0dXJlczogYWN0aW9ucy5jb21iaW5lRmVhdHVyZXMgfHwgZmFsc2UsXG4gICAgdW5jb21iaW5lRmVhdHVyZXM6IGFjdGlvbnMudW5jb21iaW5lRmVhdHVyZXMgfHwgZmFsc2VcbiAgfTtcbiAgcmV0dXJuIHRoaXMuX2N0eC5ldmVudHMuYWN0aW9uYWJsZShuZXdTZXQpO1xufTtcblxuLyoqXG4gKiBUcmlnZ2VyIGEgbW9kZSBjaGFuZ2VcbiAqIEBuYW1lIHRoaXMuY2hhbmdlTW9kZVxuICogQHBhcmFtIHtTdHJpbmd9IG1vZGUgLSB0aGUgbW9kZSB0byB0cmFuc2l0aW9uIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIHBhc3MgdG8gdGhlIG5ldyBtb2RlXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnRPcHRzIC0gdXNlZCB0byBjb250cm9sIHdoYXQga2luZCBvZiBldmVudHMgYXJlIGVtaXR0ZWQuXG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLmNoYW5nZU1vZGUgPSBmdW5jdGlvbihtb2RlLCBvcHRzID0ge30sIGV2ZW50T3B0cyA9IHt9KSB7XG4gIHJldHVybiB0aGlzLl9jdHguZXZlbnRzLmNoYW5nZU1vZGUobW9kZSwgb3B0cywgZXZlbnRPcHRzKTtcbn07XG5cbi8qKlxuICogRmlyZSBhIG1hcCBldmVudFxuICogQG5hbWUgdGhpcy5maXJlXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIC0gdGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0LlxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24oZXZlbnROYW1lLCBldmVudERhdGEpIHtcbiAgcmV0dXJuIHRoaXMuX2N0eC5ldmVudHMuZmlyZShldmVudE5hbWUsIGV2ZW50RGF0YSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0aGUgc3RhdGUgb2YgZHJhdyBtYXAgY2xhc3Nlc1xuICogQG5hbWUgdGhpcy51cGRhdGVVSUNsYXNzZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLnVwZGF0ZVVJQ2xhc3NlcyA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuX2N0eC51aS5xdWV1ZU1hcENsYXNzZXMob3B0cyk7XG59O1xuXG4vKipcbiAqIElmIGEgbmFtZSBpcyBwcm92aWRlZCBpdCBtYWtlcyB0aGF0IGJ1dHRvbiBhY3RpdmUsIGVsc2UgaWYgbWFrZXMgYWxsIGJ1dHRvbnMgaW5hY3RpdmVcbiAqIEBuYW1lIHRoaXMuYWN0aXZhdGVVSUJ1dHRvblxuICogQHBhcmFtIHtTdHJpbmc/fSBuYW1lIC0gbmFtZSBvZiB0aGUgYnV0dG9uIHRvIG1ha2UgYWN0aXZlLCBsZWF2ZSBhcyB1bmRlZmluZWQgdG8gc2V0IGJ1dHRvbnMgdG8gYmUgaW5hY3RpdmVcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUuYWN0aXZhdGVVSUJ1dHRvbiA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMuX2N0eC51aS5zZXRBY3RpdmVCdXR0b24obmFtZSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZmVhdHVyZXMgYXQgdGhlIGxvY2F0aW9uIG9mIGFuIGV2ZW50IG9iamVjdCBvciBpbiBhIGJib3hcbiAqIEBuYW1lIHRoaXMuZmVhdHVyZXNBdFxuICogQHBhcmFtIHtFdmVudHx8TlVMTH0gZXZlbnQgLSBhIG1hcGJveC1nbCBldmVudCBvYmplY3RcbiAqIEBwYXJhbSB7QkJPWHx8TlVMTH0gYmJveCAtIHRoZSBhcmVhIHRvIGdldCBmZWF0dXJlcyBmcm9tXG4gKiBAcGFyYW0ge1N0cmluZ30gYnVmZmVyVHlwZSAtIGlzIHRoaXMgYGNsaWNrYCBvciBgdGFwYCBldmVudCwgZGVmYXVsdHMgdG8gY2xpY2tcbiAqL1xuTW9kZUludGVyZmFjZS5wcm90b3R5cGUuZmVhdHVyZXNBdCA9IGZ1bmN0aW9uKGV2ZW50LCBiYm94LCBidWZmZXJUeXBlID0gJ2NsaWNrJykge1xuICBpZiAoYnVmZmVyVHlwZSAhPT0gJ2NsaWNrJyAmJiBidWZmZXJUeXBlICE9PSAndG91Y2gnKSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgYnVmZmVyIHR5cGUnKTtcbiAgcmV0dXJuIGZlYXR1cmVzQXRbYnVmZmVyVHlwZV0oZXZlbnQsIGJib3gsIHRoaXMuX2N0eCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBbRHJhd0ZlYXR1cmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWRyYXcvYmxvYi9tYWluL3NyYy9mZWF0dXJlX3R5cGVzL2ZlYXR1cmUuanMpIGZyb20gZ2VvanNvblxuICogQG5hbWUgdGhpcy5uZXdGZWF0dXJlXG4gKiBAcGFyYW0ge0dlb0pTT05GZWF0dXJlfSBnZW9qc29uXG4gKiBAcmV0dXJucyB7RHJhd0ZlYXR1cmV9XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLm5ld0ZlYXR1cmUgPSBmdW5jdGlvbihnZW9qc29uKSB7XG4gIGNvbnN0IHR5cGUgPSBnZW9qc29uLmdlb21ldHJ5LnR5cGU7XG4gIGlmICh0eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPSU5UKSByZXR1cm4gbmV3IFBvaW50KHRoaXMuX2N0eCwgZ2VvanNvbik7XG4gIGlmICh0eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLkxJTkVfU1RSSU5HKSByZXR1cm4gbmV3IExpbmVTdHJpbmcodGhpcy5fY3R4LCBnZW9qc29uKTtcbiAgaWYgKHR5cGUgPT09IENvbnN0YW50cy5nZW9qc29uVHlwZXMuUE9MWUdPTikgcmV0dXJuIG5ldyBQb2x5Z29uKHRoaXMuX2N0eCwgZ2VvanNvbik7XG4gIHJldHVybiBuZXcgTXVsdGlGZWF0dXJlKHRoaXMuX2N0eCwgZ2VvanNvbik7XG59O1xuXG4vKipcbiAqIENoZWNrIGlzIGFuIG9iamVjdCBpcyBhbiBpbnN0YW5jZSBvZiBhIFtEcmF3RmVhdHVyZV0oaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtZHJhdy9ibG9iL21haW4vc3JjL2ZlYXR1cmVfdHlwZXMvZmVhdHVyZS5qcylcbiAqIEBuYW1lIHRoaXMuaXNJbnN0YW5jZU9mXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIGBQb2ludGAsIGBMaW5lU3RyaW5nYCwgYFBvbHlnb25gLCBgTXVsdGlGZWF0dXJlYFxuICogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmUgLSB0aGUgb2JqZWN0IHRoYXQgbmVlZHMgdG8gYmUgY2hlY2tlZFxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbk1vZGVJbnRlcmZhY2UucHJvdG90eXBlLmlzSW5zdGFuY2VPZiA9IGZ1bmN0aW9uKHR5cGUsIGZlYXR1cmUpIHtcbiAgaWYgKHR5cGUgPT09IENvbnN0YW50cy5nZW9qc29uVHlwZXMuUE9JTlQpIHJldHVybiBmZWF0dXJlIGluc3RhbmNlb2YgUG9pbnQ7XG4gIGlmICh0eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLkxJTkVfU1RSSU5HKSByZXR1cm4gZmVhdHVyZSBpbnN0YW5jZW9mIExpbmVTdHJpbmc7XG4gIGlmICh0eXBlID09PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPTFlHT04pIHJldHVybiBmZWF0dXJlIGluc3RhbmNlb2YgUG9seWdvbjtcbiAgaWYgKHR5cGUgPT09ICdNdWx0aUZlYXR1cmUnKSByZXR1cm4gZmVhdHVyZSBpbnN0YW5jZW9mIE11bHRpRmVhdHVyZTtcbiAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZlYXR1cmUgY2xhc3M6ICR7dHlwZX1gKTtcbn07XG5cbi8qKlxuICogRm9yY2UgZHJhdyB0byByZXJlbmRlciB0aGUgZmVhdHVyZSBvZiB0aGUgcHJvdmlkZWQgaWRcbiAqIEBuYW1lIHRoaXMuZG9SZW5kZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIGEgZmVhdHVyZSBpZFxuICovXG5Nb2RlSW50ZXJmYWNlLnByb3RvdHlwZS5kb1JlbmRlciA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiB0aGlzLl9jdHguc3RvcmUuZmVhdHVyZUNoYW5nZWQoaWQpO1xufTtcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface_accessors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/object_to_mode.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/object_to_mode.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mode_interface_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mode_interface.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/mode_interface.js\");\n\n\nconst eventMapper = {\n  drag: 'onDrag',\n  click: 'onClick',\n  mousemove: 'onMouseMove',\n  mousedown: 'onMouseDown',\n  mouseup: 'onMouseUp',\n  mouseout: 'onMouseOut',\n  keyup: 'onKeyUp',\n  keydown: 'onKeyDown',\n  touchstart: 'onTouchStart',\n  touchmove: 'onTouchMove',\n  touchend: 'onTouchEnd',\n  tap: 'onTap'\n};\n\nconst eventKeys = Object.keys(eventMapper);\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(modeObject) {\n  const modeObjectKeys = Object.keys(modeObject);\n\n  return function(ctx, startOpts = {}) {\n    let state = {};\n\n    const mode = modeObjectKeys.reduce((m, k) => {\n      m[k] = modeObject[k];\n      return m;\n    }, new _mode_interface_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](ctx));\n\n    function wrapper(eh) {\n      return e => mode[eh](state, e);\n    }\n\n    return {\n      start() {\n        state = mode.onSetup(startOpts); // this should set ui buttons\n\n        // Adds event handlers for all event options\n        // add sets the selector to false for all\n        // handlers that are not present in the mode\n        // to reduce on render calls for functions that\n        // have no logic\n        eventKeys.forEach((key) => {\n          const modeHandler = eventMapper[key];\n          let selector = () => false;\n          if (modeObject[modeHandler]) {\n            selector = () => true;\n          }\n          this.on(key, selector, wrapper(modeHandler));\n        });\n\n      },\n      stop() {\n        mode.onStop(state);\n      },\n      trash() {\n        mode.onTrash(state);\n      },\n      combineFeatures() {\n        mode.onCombineFeatures(state);\n      },\n      uncombineFeatures() {\n        mode.onUncombineFeatures(state);\n      },\n      render(geojson, push) {\n        mode.toDisplayFeatures(state, geojson, push);\n      }\n    };\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvb2JqZWN0X3RvX21vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkJBQWUsb0NBQVM7QUFDeEI7O0FBRUEscUNBQXFDO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUssTUFBTSwwREFBYTs7QUFFeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9tb2Rlcy9vYmplY3RfdG9fbW9kZS5qcz9jMjk3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb2RlSW50ZXJmYWNlIGZyb20gJy4vbW9kZV9pbnRlcmZhY2UuanMnO1xuXG5jb25zdCBldmVudE1hcHBlciA9IHtcbiAgZHJhZzogJ29uRHJhZycsXG4gIGNsaWNrOiAnb25DbGljaycsXG4gIG1vdXNlbW92ZTogJ29uTW91c2VNb3ZlJyxcbiAgbW91c2Vkb3duOiAnb25Nb3VzZURvd24nLFxuICBtb3VzZXVwOiAnb25Nb3VzZVVwJyxcbiAgbW91c2VvdXQ6ICdvbk1vdXNlT3V0JyxcbiAga2V5dXA6ICdvbktleVVwJyxcbiAga2V5ZG93bjogJ29uS2V5RG93bicsXG4gIHRvdWNoc3RhcnQ6ICdvblRvdWNoU3RhcnQnLFxuICB0b3VjaG1vdmU6ICdvblRvdWNoTW92ZScsXG4gIHRvdWNoZW5kOiAnb25Ub3VjaEVuZCcsXG4gIHRhcDogJ29uVGFwJ1xufTtcblxuY29uc3QgZXZlbnRLZXlzID0gT2JqZWN0LmtleXMoZXZlbnRNYXBwZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtb2RlT2JqZWN0KSB7XG4gIGNvbnN0IG1vZGVPYmplY3RLZXlzID0gT2JqZWN0LmtleXMobW9kZU9iamVjdCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGN0eCwgc3RhcnRPcHRzID0ge30pIHtcbiAgICBsZXQgc3RhdGUgPSB7fTtcblxuICAgIGNvbnN0IG1vZGUgPSBtb2RlT2JqZWN0S2V5cy5yZWR1Y2UoKG0sIGspID0+IHtcbiAgICAgIG1ba10gPSBtb2RlT2JqZWN0W2tdO1xuICAgICAgcmV0dXJuIG07XG4gICAgfSwgbmV3IE1vZGVJbnRlcmZhY2UoY3R4KSk7XG5cbiAgICBmdW5jdGlvbiB3cmFwcGVyKGVoKSB7XG4gICAgICByZXR1cm4gZSA9PiBtb2RlW2VoXShzdGF0ZSwgZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0KCkge1xuICAgICAgICBzdGF0ZSA9IG1vZGUub25TZXR1cChzdGFydE9wdHMpOyAvLyB0aGlzIHNob3VsZCBzZXQgdWkgYnV0dG9uc1xuXG4gICAgICAgIC8vIEFkZHMgZXZlbnQgaGFuZGxlcnMgZm9yIGFsbCBldmVudCBvcHRpb25zXG4gICAgICAgIC8vIGFkZCBzZXRzIHRoZSBzZWxlY3RvciB0byBmYWxzZSBmb3IgYWxsXG4gICAgICAgIC8vIGhhbmRsZXJzIHRoYXQgYXJlIG5vdCBwcmVzZW50IGluIHRoZSBtb2RlXG4gICAgICAgIC8vIHRvIHJlZHVjZSBvbiByZW5kZXIgY2FsbHMgZm9yIGZ1bmN0aW9ucyB0aGF0XG4gICAgICAgIC8vIGhhdmUgbm8gbG9naWNcbiAgICAgICAgZXZlbnRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG1vZGVIYW5kbGVyID0gZXZlbnRNYXBwZXJba2V5XTtcbiAgICAgICAgICBsZXQgc2VsZWN0b3IgPSAoKSA9PiBmYWxzZTtcbiAgICAgICAgICBpZiAobW9kZU9iamVjdFttb2RlSGFuZGxlcl0pIHtcbiAgICAgICAgICAgIHNlbGVjdG9yID0gKCkgPT4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5vbihrZXksIHNlbGVjdG9yLCB3cmFwcGVyKG1vZGVIYW5kbGVyKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICB9LFxuICAgICAgc3RvcCgpIHtcbiAgICAgICAgbW9kZS5vblN0b3Aoc3RhdGUpO1xuICAgICAgfSxcbiAgICAgIHRyYXNoKCkge1xuICAgICAgICBtb2RlLm9uVHJhc2goc3RhdGUpO1xuICAgICAgfSxcbiAgICAgIGNvbWJpbmVGZWF0dXJlcygpIHtcbiAgICAgICAgbW9kZS5vbkNvbWJpbmVGZWF0dXJlcyhzdGF0ZSk7XG4gICAgICB9LFxuICAgICAgdW5jb21iaW5lRmVhdHVyZXMoKSB7XG4gICAgICAgIG1vZGUub25VbmNvbWJpbmVGZWF0dXJlcyhzdGF0ZSk7XG4gICAgICB9LFxuICAgICAgcmVuZGVyKGdlb2pzb24sIHB1c2gpIHtcbiAgICAgICAgbW9kZS50b0Rpc3BsYXlGZWF0dXJlcyhzdGF0ZSwgZ2VvanNvbiwgcHVzaCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/object_to_mode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/simple_select.js":
/*!************************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/modes/simple_select.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/common_selectors.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/common_selectors.js\");\n/* harmony import */ var _lib_mouse_event_point_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mouse_event_point.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/mouse_event_point.js\");\n/* harmony import */ var _lib_create_supplementary_points_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/create_supplementary_points.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/create_supplementary_points.js\");\n/* harmony import */ var _lib_string_set_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/string_set.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js\");\n/* harmony import */ var _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/double_click_zoom.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/double_click_zoom.js\");\n/* harmony import */ var _lib_move_features_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/move_features.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/move_features.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\n\n\n\n\n\nconst SimpleSelect = {};\n\nSimpleSelect.onSetup = function(opts) {\n  // turn the opts into state.\n  const state = {\n    dragMoveLocation: null,\n    boxSelectStartLocation: null,\n    boxSelectElement: undefined,\n    boxSelecting: false,\n    canBoxSelect: false,\n    dragMoving: false,\n    canDragMove: false,\n    initialDragPanState: this.map.dragPan.isEnabled(),\n    initiallySelectedFeatureIds: opts.featureIds || []\n  };\n\n  this.setSelected(state.initiallySelectedFeatureIds.filter(id => this.getFeature(id) !== undefined));\n  this.fireActionable();\n\n  this.setActionableState({\n    combineFeatures: true,\n    uncombineFeatures: true,\n    trash: true\n  });\n\n  return state;\n};\n\nSimpleSelect.fireUpdate = function() {\n  this.fire(_constants_js__WEBPACK_IMPORTED_MODULE_6__.events.UPDATE, {\n    action: _constants_js__WEBPACK_IMPORTED_MODULE_6__.updateActions.MOVE,\n    features: this.getSelected().map(f => f.toGeoJSON())\n  });\n};\n\nSimpleSelect.fireActionable = function() {\n  const selectedFeatures = this.getSelected();\n\n  const multiFeatures = selectedFeatures.filter(\n    feature => this.isInstanceOf('MultiFeature', feature)\n  );\n\n  let combineFeatures = false;\n\n  if (selectedFeatures.length > 1) {\n    combineFeatures = true;\n    const featureType = selectedFeatures[0].type.replace('Multi', '');\n    selectedFeatures.forEach((feature) => {\n      if (feature.type.replace('Multi', '') !== featureType) {\n        combineFeatures = false;\n      }\n    });\n  }\n\n  const uncombineFeatures = multiFeatures.length > 0;\n  const trash = selectedFeatures.length > 0;\n\n  this.setActionableState({\n    combineFeatures, uncombineFeatures, trash\n  });\n};\n\nSimpleSelect.getUniqueIds = function(allFeatures) {\n  if (!allFeatures.length) return [];\n  const ids = allFeatures.map(s => s.properties.id)\n    .filter(id => id !== undefined)\n    .reduce((memo, id) => {\n      memo.add(id);\n      return memo;\n    }, new _lib_string_set_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]());\n\n  return ids.values();\n};\n\nSimpleSelect.stopExtendedInteractions = function(state) {\n  if (state.boxSelectElement) {\n    if (state.boxSelectElement.parentNode) state.boxSelectElement.parentNode.removeChild(state.boxSelectElement);\n    state.boxSelectElement = null;\n  }\n\n  if ((state.canDragMove || state.canBoxSelect) && state.initialDragPanState === true) {\n    this.map.dragPan.enable();\n  }\n\n  state.boxSelecting = false;\n  state.canBoxSelect = false;\n  state.dragMoving = false;\n  state.canDragMove = false;\n};\n\nSimpleSelect.onStop = function() {\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].enable(this);\n};\n\nSimpleSelect.onMouseMove = function(state, e) {\n  const isFeature = _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isFeature(e);\n  if (isFeature && state.dragMoving) this.fireUpdate();\n\n  // On mousemove that is not a drag, stop extended interactions.\n  // This is useful if you drag off the canvas, release the button,\n  // then move the mouse back over the canvas --- we don't allow the\n  // interaction to continue then, but we do let it continue if you held\n  // the mouse button that whole time\n  this.stopExtendedInteractions(state);\n\n  // Skip render\n  return true;\n};\n\nSimpleSelect.onMouseOut = function(state) {\n  // As soon as you mouse leaves the canvas, update the feature\n  if (state.dragMoving) return this.fireUpdate();\n\n  // Skip render\n  return true;\n};\n\nSimpleSelect.onTap = SimpleSelect.onClick = function(state, e) {\n  // Click (with or without shift) on no feature\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.noTarget(e)) return this.clickAnywhere(state, e); // also tap\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isOfMetaType(_constants_js__WEBPACK_IMPORTED_MODULE_6__.meta.VERTEX)(e)) return this.clickOnVertex(state, e); //tap\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isFeature(e)) return this.clickOnFeature(state, e);\n};\n\nSimpleSelect.clickAnywhere = function (state) {\n  // Clear the re-render selection\n  const wasSelected = this.getSelectedIds();\n  if (wasSelected.length) {\n    this.clearSelectedFeatures();\n    wasSelected.forEach(id => this.doRender(id));\n  }\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].enable(this);\n  this.stopExtendedInteractions(state);\n};\n\nSimpleSelect.clickOnVertex = function(state, e) {\n  // Enter direct select mode\n  this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_6__.modes.DIRECT_SELECT, {\n    featureId: e.featureTarget.properties.parent,\n    coordPath: e.featureTarget.properties.coord_path,\n    startPos: e.lngLat\n  });\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_6__.cursors.MOVE });\n};\n\nSimpleSelect.startOnActiveFeature = function(state, e) {\n  // Stop any already-underway extended interactions\n  this.stopExtendedInteractions(state);\n\n  // Disable map.dragPan immediately so it can't start\n  this.map.dragPan.disable();\n\n  // Re-render it and enable drag move\n  this.doRender(e.featureTarget.properties.id);\n\n  // Set up the state for drag moving\n  state.canDragMove = true;\n  state.dragMoveLocation = e.lngLat;\n};\n\nSimpleSelect.clickOnFeature = function(state, e) {\n  // Stop everything\n  _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].disable(this);\n  this.stopExtendedInteractions(state);\n\n  const isShiftClick = _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isShiftDown(e);\n  const selectedFeatureIds = this.getSelectedIds();\n  const featureId = e.featureTarget.properties.id;\n  const isFeatureSelected = this.isSelected(featureId);\n\n  // Click (without shift) on any selected feature but a point\n  if (!isShiftClick && isFeatureSelected && this.getFeature(featureId).type !== _constants_js__WEBPACK_IMPORTED_MODULE_6__.geojsonTypes.POINT) {\n    // Enter direct select mode\n    return this.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_6__.modes.DIRECT_SELECT, {\n      featureId\n    });\n  }\n\n  // Shift-click on a selected feature\n  if (isFeatureSelected && isShiftClick) {\n    // Deselect it\n    this.deselect(featureId);\n    this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_6__.cursors.POINTER });\n    if (selectedFeatureIds.length === 1) {\n      _lib_double_click_zoom_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].enable(this);\n    }\n  // Shift-click on an unselected feature\n  } else if (!isFeatureSelected && isShiftClick) {\n    // Add it to the selection\n    this.select(featureId);\n    this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_6__.cursors.MOVE });\n  // Click (without shift) on an unselected feature\n  } else if (!isFeatureSelected && !isShiftClick) {\n    // Make it the only selected feature\n    selectedFeatureIds.forEach(id => this.doRender(id));\n    this.setSelected(featureId);\n    this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_6__.cursors.MOVE });\n  }\n\n  // No matter what, re-render the clicked feature\n  this.doRender(featureId);\n};\n\nSimpleSelect.onMouseDown = function(state, e) {\n  state.initialDragPanState = this.map.dragPan.isEnabled();\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isActiveFeature(e)) return this.startOnActiveFeature(state, e);\n  if (this.drawConfig.boxSelect && _lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isShiftMousedown(e)) return this.startBoxSelect(state, e);\n};\n\nSimpleSelect.startBoxSelect = function(state, e) {\n  this.stopExtendedInteractions(state);\n  this.map.dragPan.disable();\n  // Enable box select\n  state.boxSelectStartLocation = (0,_lib_mouse_event_point_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.originalEvent, this.map.getContainer());\n  state.canBoxSelect = true;\n};\n\nSimpleSelect.onTouchStart = function(state, e) {\n  if (_lib_common_selectors_js__WEBPACK_IMPORTED_MODULE_0__.isActiveFeature(e)) return this.startOnActiveFeature(state, e);\n};\n\nSimpleSelect.onDrag = function(state, e) {\n  if (state.canDragMove) return this.dragMove(state, e);\n  if (this.drawConfig.boxSelect && state.canBoxSelect) return this.whileBoxSelect(state, e);\n};\n\nSimpleSelect.whileBoxSelect = function(state, e) {\n  state.boxSelecting = true;\n  this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_6__.cursors.ADD });\n\n  // Create the box node if it doesn't exist\n  if (!state.boxSelectElement) {\n    state.boxSelectElement = document.createElement('div');\n    state.boxSelectElement.classList.add(_constants_js__WEBPACK_IMPORTED_MODULE_6__.classes.BOX_SELECT);\n    this.map.getContainer().appendChild(state.boxSelectElement);\n  }\n\n  // Adjust the box node's width and xy position\n  const current = (0,_lib_mouse_event_point_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.originalEvent, this.map.getContainer());\n  const minX = Math.min(state.boxSelectStartLocation.x, current.x);\n  const maxX = Math.max(state.boxSelectStartLocation.x, current.x);\n  const minY = Math.min(state.boxSelectStartLocation.y, current.y);\n  const maxY = Math.max(state.boxSelectStartLocation.y, current.y);\n  const translateValue = `translate(${minX}px, ${minY}px)`;\n  state.boxSelectElement.style.transform = translateValue;\n  state.boxSelectElement.style.WebkitTransform = translateValue;\n  state.boxSelectElement.style.width = `${maxX - minX}px`;\n  state.boxSelectElement.style.height = `${maxY - minY}px`;\n};\n\nSimpleSelect.dragMove = function(state, e) {\n  // Dragging when drag move is enabled\n  state.dragMoving = true;\n  e.originalEvent.stopPropagation();\n\n  const delta = {\n    lng: e.lngLat.lng - state.dragMoveLocation.lng,\n    lat: e.lngLat.lat - state.dragMoveLocation.lat\n  };\n\n  (0,_lib_move_features_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.getSelected(), delta);\n\n  state.dragMoveLocation = e.lngLat;\n};\n\nSimpleSelect.onTouchEnd = SimpleSelect.onMouseUp = function(state, e) {\n  // End any extended interactions\n  if (state.dragMoving) {\n    this.fireUpdate();\n  } else if (state.boxSelecting) {\n    const bbox = [\n      state.boxSelectStartLocation,\n      (0,_lib_mouse_event_point_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e.originalEvent, this.map.getContainer())\n    ];\n    const featuresInBox = this.featuresAt(null, bbox, 'click');\n    const idsToSelect = this.getUniqueIds(featuresInBox)\n      .filter(id => !this.isSelected(id));\n\n    if (idsToSelect.length) {\n      this.select(idsToSelect);\n      idsToSelect.forEach(id => this.doRender(id));\n      this.updateUIClasses({ mouse: _constants_js__WEBPACK_IMPORTED_MODULE_6__.cursors.MOVE });\n    }\n  }\n  this.stopExtendedInteractions(state);\n};\n\nSimpleSelect.toDisplayFeatures = function(state, geojson, display) {\n  geojson.properties.active = (this.isSelected(geojson.properties.id)) ?\n    _constants_js__WEBPACK_IMPORTED_MODULE_6__.activeStates.ACTIVE : _constants_js__WEBPACK_IMPORTED_MODULE_6__.activeStates.INACTIVE;\n  display(geojson);\n  this.fireActionable();\n  if (geojson.properties.active !== _constants_js__WEBPACK_IMPORTED_MODULE_6__.activeStates.ACTIVE ||\n    geojson.geometry.type === _constants_js__WEBPACK_IMPORTED_MODULE_6__.geojsonTypes.POINT) return;\n  (0,_lib_create_supplementary_points_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(geojson).forEach(display);\n};\n\nSimpleSelect.onTrash = function() {\n  this.deleteFeature(this.getSelectedIds());\n  this.fireActionable();\n};\n\nSimpleSelect.onCombineFeatures = function() {\n  const selectedFeatures = this.getSelected();\n\n  if (selectedFeatures.length === 0 || selectedFeatures.length < 2) return;\n\n  const coordinates = [], featuresCombined = [];\n  const featureType = selectedFeatures[0].type.replace('Multi', '');\n\n  for (let i = 0; i < selectedFeatures.length; i++) {\n    const feature = selectedFeatures[i];\n\n    if (feature.type.replace('Multi', '') !== featureType) {\n      return;\n    }\n    if (feature.type.includes('Multi')) {\n      feature.getCoordinates().forEach((subcoords) => {\n        coordinates.push(subcoords);\n      });\n    } else {\n      coordinates.push(feature.getCoordinates());\n    }\n\n    featuresCombined.push(feature.toGeoJSON());\n  }\n\n  if (featuresCombined.length > 1) {\n    const multiFeature = this.newFeature({\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_6__.geojsonTypes.FEATURE,\n      properties: featuresCombined[0].properties,\n      geometry: {\n        type: `Multi${featureType}`,\n        coordinates\n      }\n    });\n\n    this.addFeature(multiFeature);\n    this.deleteFeature(this.getSelectedIds(), { silent: true });\n    this.setSelected([multiFeature.id]);\n\n    this.fire(_constants_js__WEBPACK_IMPORTED_MODULE_6__.events.COMBINE_FEATURES, {\n      createdFeatures: [multiFeature.toGeoJSON()],\n      deletedFeatures: featuresCombined\n    });\n  }\n  this.fireActionable();\n};\n\nSimpleSelect.onUncombineFeatures = function() {\n  const selectedFeatures = this.getSelected();\n  if (selectedFeatures.length === 0) return;\n\n  const createdFeatures = [];\n  const featuresUncombined = [];\n\n  for (let i = 0; i < selectedFeatures.length; i++) {\n    const feature = selectedFeatures[i];\n\n    if (this.isInstanceOf('MultiFeature', feature)) {\n      feature.getFeatures().forEach((subFeature) => {\n        this.addFeature(subFeature);\n        subFeature.properties = feature.properties;\n        createdFeatures.push(subFeature.toGeoJSON());\n        this.select([subFeature.id]);\n      });\n      this.deleteFeature(feature.id, { silent: true });\n      featuresUncombined.push(feature.toGeoJSON());\n    }\n  }\n\n  if (createdFeatures.length > 1) {\n    this.fire(_constants_js__WEBPACK_IMPORTED_MODULE_6__.events.UNCOMBINE_FEATURES, {\n      createdFeatures,\n      deletedFeatures: featuresUncombined\n    });\n  }\n  this.fireActionable();\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SimpleSelect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvc2ltcGxlX3NlbGVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE4RDtBQUNKO0FBQ29CO0FBQ2pDO0FBQ2E7QUFDUDtBQUNOOztBQUU3Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsWUFBWSxpREFBZ0I7QUFDNUIsWUFBWSx3REFBdUI7QUFDbkM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxNQUFNLDBEQUFTOztBQUVwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLGlFQUFlO0FBQ2pCOztBQUVBO0FBQ0Esb0JBQW9CLCtEQUF5QjtBQUM3Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sOERBQXdCLDBDQUEwQztBQUN4RSxNQUFNLGtFQUE0QixDQUFDLCtDQUFjLGtEQUFrRDtBQUNuRyxNQUFNLCtEQUF5QjtBQUMvQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsaUVBQWU7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLGdEQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx5QkFBeUIsT0FBTyxrREFBaUIsT0FBTztBQUN4RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFLGlFQUFlO0FBQ2pCOztBQUVBLHVCQUF1QixpRUFBMkI7QUFDbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0ZBQWdGLHVEQUFzQjtBQUN0RztBQUNBLDJCQUEyQixnREFBZTtBQUMxQztBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixPQUFPLGtEQUFpQixVQUFVO0FBQzdEO0FBQ0EsTUFBTSxpRUFBZTtBQUNyQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSwyQkFBMkIsT0FBTyxrREFBaUIsT0FBTztBQUMxRDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsT0FBTyxrREFBaUIsT0FBTztBQUMxRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0scUVBQStCO0FBQ3JDLG1DQUFtQyxzRUFBZ0M7QUFDbkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscUVBQWU7QUFDaEQ7QUFDQTs7QUFFQTtBQUNBLE1BQU0scUVBQStCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUIsT0FBTyxrREFBaUIsTUFBTTs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGtEQUFpQjtBQUMxRDtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHFFQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLEtBQUssTUFBTSxLQUFLO0FBQ3REO0FBQ0E7QUFDQSwwQ0FBMEMsWUFBWTtBQUN0RCwyQ0FBMkMsWUFBWTtBQUN2RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGlFQUFZOztBQUVkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU0scUVBQWU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLE9BQU8sa0RBQWlCLE9BQU87QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksdURBQXNCLFVBQVUsdURBQXNCO0FBQzFEO0FBQ0E7QUFDQSxvQ0FBb0MsdURBQXNCO0FBQzFELDhCQUE4Qix1REFBc0I7QUFDcEQsRUFBRSwrRUFBeUI7QUFDM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQiw2QkFBNkI7QUFDL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksdURBQXNCO0FBQ2xDO0FBQ0E7QUFDQSxzQkFBc0IsWUFBWTtBQUNsQztBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLGdEQUFnRCxjQUFjO0FBQzlEOztBQUVBLGNBQWMsaURBQWdCO0FBQzlCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQiw2QkFBNkI7QUFDL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLHVDQUF1QyxjQUFjO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsaURBQWdCO0FBQzlCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLGlFQUFlLFlBQVksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGJhc2UtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvbW9kZXMvc2ltcGxlX3NlbGVjdC5qcz85YTRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbW1vblNlbGVjdG9ycyBmcm9tICcuLi9saWIvY29tbW9uX3NlbGVjdG9ycy5qcyc7XG5pbXBvcnQgbW91c2VFdmVudFBvaW50IGZyb20gJy4uL2xpYi9tb3VzZV9ldmVudF9wb2ludC5qcyc7XG5pbXBvcnQgY3JlYXRlU3VwcGxlbWVudGFyeVBvaW50cyBmcm9tICcuLi9saWIvY3JlYXRlX3N1cHBsZW1lbnRhcnlfcG9pbnRzLmpzJztcbmltcG9ydCBTdHJpbmdTZXQgZnJvbSAnLi4vbGliL3N0cmluZ19zZXQuanMnO1xuaW1wb3J0IGRvdWJsZUNsaWNrWm9vbSBmcm9tICcuLi9saWIvZG91YmxlX2NsaWNrX3pvb20uanMnO1xuaW1wb3J0IG1vdmVGZWF0dXJlcyBmcm9tICcuLi9saWIvbW92ZV9mZWF0dXJlcy5qcyc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcblxuY29uc3QgU2ltcGxlU2VsZWN0ID0ge307XG5cblNpbXBsZVNlbGVjdC5vblNldHVwID0gZnVuY3Rpb24ob3B0cykge1xuICAvLyB0dXJuIHRoZSBvcHRzIGludG8gc3RhdGUuXG4gIGNvbnN0IHN0YXRlID0ge1xuICAgIGRyYWdNb3ZlTG9jYXRpb246IG51bGwsXG4gICAgYm94U2VsZWN0U3RhcnRMb2NhdGlvbjogbnVsbCxcbiAgICBib3hTZWxlY3RFbGVtZW50OiB1bmRlZmluZWQsXG4gICAgYm94U2VsZWN0aW5nOiBmYWxzZSxcbiAgICBjYW5Cb3hTZWxlY3Q6IGZhbHNlLFxuICAgIGRyYWdNb3Zpbmc6IGZhbHNlLFxuICAgIGNhbkRyYWdNb3ZlOiBmYWxzZSxcbiAgICBpbml0aWFsRHJhZ1BhblN0YXRlOiB0aGlzLm1hcC5kcmFnUGFuLmlzRW5hYmxlZCgpLFxuICAgIGluaXRpYWxseVNlbGVjdGVkRmVhdHVyZUlkczogb3B0cy5mZWF0dXJlSWRzIHx8IFtdXG4gIH07XG5cbiAgdGhpcy5zZXRTZWxlY3RlZChzdGF0ZS5pbml0aWFsbHlTZWxlY3RlZEZlYXR1cmVJZHMuZmlsdGVyKGlkID0+IHRoaXMuZ2V0RmVhdHVyZShpZCkgIT09IHVuZGVmaW5lZCkpO1xuICB0aGlzLmZpcmVBY3Rpb25hYmxlKCk7XG5cbiAgdGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe1xuICAgIGNvbWJpbmVGZWF0dXJlczogdHJ1ZSxcbiAgICB1bmNvbWJpbmVGZWF0dXJlczogdHJ1ZSxcbiAgICB0cmFzaDogdHJ1ZVxuICB9KTtcblxuICByZXR1cm4gc3RhdGU7XG59O1xuXG5TaW1wbGVTZWxlY3QuZmlyZVVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5VUERBVEUsIHtcbiAgICBhY3Rpb246IENvbnN0YW50cy51cGRhdGVBY3Rpb25zLk1PVkUsXG4gICAgZmVhdHVyZXM6IHRoaXMuZ2V0U2VsZWN0ZWQoKS5tYXAoZiA9PiBmLnRvR2VvSlNPTigpKVxuICB9KTtcbn07XG5cblNpbXBsZVNlbGVjdC5maXJlQWN0aW9uYWJsZSA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBzZWxlY3RlZEZlYXR1cmVzID0gdGhpcy5nZXRTZWxlY3RlZCgpO1xuXG4gIGNvbnN0IG11bHRpRmVhdHVyZXMgPSBzZWxlY3RlZEZlYXR1cmVzLmZpbHRlcihcbiAgICBmZWF0dXJlID0+IHRoaXMuaXNJbnN0YW5jZU9mKCdNdWx0aUZlYXR1cmUnLCBmZWF0dXJlKVxuICApO1xuXG4gIGxldCBjb21iaW5lRmVhdHVyZXMgPSBmYWxzZTtcblxuICBpZiAoc2VsZWN0ZWRGZWF0dXJlcy5sZW5ndGggPiAxKSB7XG4gICAgY29tYmluZUZlYXR1cmVzID0gdHJ1ZTtcbiAgICBjb25zdCBmZWF0dXJlVHlwZSA9IHNlbGVjdGVkRmVhdHVyZXNbMF0udHlwZS5yZXBsYWNlKCdNdWx0aScsICcnKTtcbiAgICBzZWxlY3RlZEZlYXR1cmVzLmZvckVhY2goKGZlYXR1cmUpID0+IHtcbiAgICAgIGlmIChmZWF0dXJlLnR5cGUucmVwbGFjZSgnTXVsdGknLCAnJykgIT09IGZlYXR1cmVUeXBlKSB7XG4gICAgICAgIGNvbWJpbmVGZWF0dXJlcyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdW5jb21iaW5lRmVhdHVyZXMgPSBtdWx0aUZlYXR1cmVzLmxlbmd0aCA+IDA7XG4gIGNvbnN0IHRyYXNoID0gc2VsZWN0ZWRGZWF0dXJlcy5sZW5ndGggPiAwO1xuXG4gIHRoaXMuc2V0QWN0aW9uYWJsZVN0YXRlKHtcbiAgICBjb21iaW5lRmVhdHVyZXMsIHVuY29tYmluZUZlYXR1cmVzLCB0cmFzaFxuICB9KTtcbn07XG5cblNpbXBsZVNlbGVjdC5nZXRVbmlxdWVJZHMgPSBmdW5jdGlvbihhbGxGZWF0dXJlcykge1xuICBpZiAoIWFsbEZlYXR1cmVzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICBjb25zdCBpZHMgPSBhbGxGZWF0dXJlcy5tYXAocyA9PiBzLnByb3BlcnRpZXMuaWQpXG4gICAgLmZpbHRlcihpZCA9PiBpZCAhPT0gdW5kZWZpbmVkKVxuICAgIC5yZWR1Y2UoKG1lbW8sIGlkKSA9PiB7XG4gICAgICBtZW1vLmFkZChpZCk7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LCBuZXcgU3RyaW5nU2V0KCkpO1xuXG4gIHJldHVybiBpZHMudmFsdWVzKCk7XG59O1xuXG5TaW1wbGVTZWxlY3Quc3RvcEV4dGVuZGVkSW50ZXJhY3Rpb25zID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmJveFNlbGVjdEVsZW1lbnQpIHtcbiAgICBpZiAoc3RhdGUuYm94U2VsZWN0RWxlbWVudC5wYXJlbnROb2RlKSBzdGF0ZS5ib3hTZWxlY3RFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3RhdGUuYm94U2VsZWN0RWxlbWVudCk7XG4gICAgc3RhdGUuYm94U2VsZWN0RWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBpZiAoKHN0YXRlLmNhbkRyYWdNb3ZlIHx8IHN0YXRlLmNhbkJveFNlbGVjdCkgJiYgc3RhdGUuaW5pdGlhbERyYWdQYW5TdGF0ZSA9PT0gdHJ1ZSkge1xuICAgIHRoaXMubWFwLmRyYWdQYW4uZW5hYmxlKCk7XG4gIH1cblxuICBzdGF0ZS5ib3hTZWxlY3RpbmcgPSBmYWxzZTtcbiAgc3RhdGUuY2FuQm94U2VsZWN0ID0gZmFsc2U7XG4gIHN0YXRlLmRyYWdNb3ZpbmcgPSBmYWxzZTtcbiAgc3RhdGUuY2FuRHJhZ01vdmUgPSBmYWxzZTtcbn07XG5cblNpbXBsZVNlbGVjdC5vblN0b3AgPSBmdW5jdGlvbigpIHtcbiAgZG91YmxlQ2xpY2tab29tLmVuYWJsZSh0aGlzKTtcbn07XG5cblNpbXBsZVNlbGVjdC5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIGNvbnN0IGlzRmVhdHVyZSA9IENvbW1vblNlbGVjdG9ycy5pc0ZlYXR1cmUoZSk7XG4gIGlmIChpc0ZlYXR1cmUgJiYgc3RhdGUuZHJhZ01vdmluZykgdGhpcy5maXJlVXBkYXRlKCk7XG5cbiAgLy8gT24gbW91c2Vtb3ZlIHRoYXQgaXMgbm90IGEgZHJhZywgc3RvcCBleHRlbmRlZCBpbnRlcmFjdGlvbnMuXG4gIC8vIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSBkcmFnIG9mZiB0aGUgY2FudmFzLCByZWxlYXNlIHRoZSBidXR0b24sXG4gIC8vIHRoZW4gbW92ZSB0aGUgbW91c2UgYmFjayBvdmVyIHRoZSBjYW52YXMgLS0tIHdlIGRvbid0IGFsbG93IHRoZVxuICAvLyBpbnRlcmFjdGlvbiB0byBjb250aW51ZSB0aGVuLCBidXQgd2UgZG8gbGV0IGl0IGNvbnRpbnVlIGlmIHlvdSBoZWxkXG4gIC8vIHRoZSBtb3VzZSBidXR0b24gdGhhdCB3aG9sZSB0aW1lXG4gIHRoaXMuc3RvcEV4dGVuZGVkSW50ZXJhY3Rpb25zKHN0YXRlKTtcblxuICAvLyBTa2lwIHJlbmRlclxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblNpbXBsZVNlbGVjdC5vbk1vdXNlT3V0ID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgLy8gQXMgc29vbiBhcyB5b3UgbW91c2UgbGVhdmVzIHRoZSBjYW52YXMsIHVwZGF0ZSB0aGUgZmVhdHVyZVxuICBpZiAoc3RhdGUuZHJhZ01vdmluZykgcmV0dXJuIHRoaXMuZmlyZVVwZGF0ZSgpO1xuXG4gIC8vIFNraXAgcmVuZGVyXG4gIHJldHVybiB0cnVlO1xufTtcblxuU2ltcGxlU2VsZWN0Lm9uVGFwID0gU2ltcGxlU2VsZWN0Lm9uQ2xpY2sgPSBmdW5jdGlvbihzdGF0ZSwgZSkge1xuICAvLyBDbGljayAod2l0aCBvciB3aXRob3V0IHNoaWZ0KSBvbiBubyBmZWF0dXJlXG4gIGlmIChDb21tb25TZWxlY3RvcnMubm9UYXJnZXQoZSkpIHJldHVybiB0aGlzLmNsaWNrQW55d2hlcmUoc3RhdGUsIGUpOyAvLyBhbHNvIHRhcFxuICBpZiAoQ29tbW9uU2VsZWN0b3JzLmlzT2ZNZXRhVHlwZShDb25zdGFudHMubWV0YS5WRVJURVgpKGUpKSByZXR1cm4gdGhpcy5jbGlja09uVmVydGV4KHN0YXRlLCBlKTsgLy90YXBcbiAgaWYgKENvbW1vblNlbGVjdG9ycy5pc0ZlYXR1cmUoZSkpIHJldHVybiB0aGlzLmNsaWNrT25GZWF0dXJlKHN0YXRlLCBlKTtcbn07XG5cblNpbXBsZVNlbGVjdC5jbGlja0FueXdoZXJlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIC8vIENsZWFyIHRoZSByZS1yZW5kZXIgc2VsZWN0aW9uXG4gIGNvbnN0IHdhc1NlbGVjdGVkID0gdGhpcy5nZXRTZWxlY3RlZElkcygpO1xuICBpZiAod2FzU2VsZWN0ZWQubGVuZ3RoKSB7XG4gICAgdGhpcy5jbGVhclNlbGVjdGVkRmVhdHVyZXMoKTtcbiAgICB3YXNTZWxlY3RlZC5mb3JFYWNoKGlkID0+IHRoaXMuZG9SZW5kZXIoaWQpKTtcbiAgfVxuICBkb3VibGVDbGlja1pvb20uZW5hYmxlKHRoaXMpO1xuICB0aGlzLnN0b3BFeHRlbmRlZEludGVyYWN0aW9ucyhzdGF0ZSk7XG59O1xuXG5TaW1wbGVTZWxlY3QuY2xpY2tPblZlcnRleCA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIC8vIEVudGVyIGRpcmVjdCBzZWxlY3QgbW9kZVxuICB0aGlzLmNoYW5nZU1vZGUoQ29uc3RhbnRzLm1vZGVzLkRJUkVDVF9TRUxFQ1QsIHtcbiAgICBmZWF0dXJlSWQ6IGUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzLnBhcmVudCxcbiAgICBjb29yZFBhdGg6IGUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzLmNvb3JkX3BhdGgsXG4gICAgc3RhcnRQb3M6IGUubG5nTGF0XG4gIH0pO1xuICB0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7IG1vdXNlOiBDb25zdGFudHMuY3Vyc29ycy5NT1ZFIH0pO1xufTtcblxuU2ltcGxlU2VsZWN0LnN0YXJ0T25BY3RpdmVGZWF0dXJlID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgLy8gU3RvcCBhbnkgYWxyZWFkeS11bmRlcndheSBleHRlbmRlZCBpbnRlcmFjdGlvbnNcbiAgdGhpcy5zdG9wRXh0ZW5kZWRJbnRlcmFjdGlvbnMoc3RhdGUpO1xuXG4gIC8vIERpc2FibGUgbWFwLmRyYWdQYW4gaW1tZWRpYXRlbHkgc28gaXQgY2FuJ3Qgc3RhcnRcbiAgdGhpcy5tYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XG5cbiAgLy8gUmUtcmVuZGVyIGl0IGFuZCBlbmFibGUgZHJhZyBtb3ZlXG4gIHRoaXMuZG9SZW5kZXIoZS5mZWF0dXJlVGFyZ2V0LnByb3BlcnRpZXMuaWQpO1xuXG4gIC8vIFNldCB1cCB0aGUgc3RhdGUgZm9yIGRyYWcgbW92aW5nXG4gIHN0YXRlLmNhbkRyYWdNb3ZlID0gdHJ1ZTtcbiAgc3RhdGUuZHJhZ01vdmVMb2NhdGlvbiA9IGUubG5nTGF0O1xufTtcblxuU2ltcGxlU2VsZWN0LmNsaWNrT25GZWF0dXJlID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgLy8gU3RvcCBldmVyeXRoaW5nXG4gIGRvdWJsZUNsaWNrWm9vbS5kaXNhYmxlKHRoaXMpO1xuICB0aGlzLnN0b3BFeHRlbmRlZEludGVyYWN0aW9ucyhzdGF0ZSk7XG5cbiAgY29uc3QgaXNTaGlmdENsaWNrID0gQ29tbW9uU2VsZWN0b3JzLmlzU2hpZnREb3duKGUpO1xuICBjb25zdCBzZWxlY3RlZEZlYXR1cmVJZHMgPSB0aGlzLmdldFNlbGVjdGVkSWRzKCk7XG4gIGNvbnN0IGZlYXR1cmVJZCA9IGUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzLmlkO1xuICBjb25zdCBpc0ZlYXR1cmVTZWxlY3RlZCA9IHRoaXMuaXNTZWxlY3RlZChmZWF0dXJlSWQpO1xuXG4gIC8vIENsaWNrICh3aXRob3V0IHNoaWZ0KSBvbiBhbnkgc2VsZWN0ZWQgZmVhdHVyZSBidXQgYSBwb2ludFxuICBpZiAoIWlzU2hpZnRDbGljayAmJiBpc0ZlYXR1cmVTZWxlY3RlZCAmJiB0aGlzLmdldEZlYXR1cmUoZmVhdHVyZUlkKS50eXBlICE9PSBDb25zdGFudHMuZ2VvanNvblR5cGVzLlBPSU5UKSB7XG4gICAgLy8gRW50ZXIgZGlyZWN0IHNlbGVjdCBtb2RlXG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlTW9kZShDb25zdGFudHMubW9kZXMuRElSRUNUX1NFTEVDVCwge1xuICAgICAgZmVhdHVyZUlkXG4gICAgfSk7XG4gIH1cblxuICAvLyBTaGlmdC1jbGljayBvbiBhIHNlbGVjdGVkIGZlYXR1cmVcbiAgaWYgKGlzRmVhdHVyZVNlbGVjdGVkICYmIGlzU2hpZnRDbGljaykge1xuICAgIC8vIERlc2VsZWN0IGl0XG4gICAgdGhpcy5kZXNlbGVjdChmZWF0dXJlSWQpO1xuICAgIHRoaXMudXBkYXRlVUlDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLlBPSU5URVIgfSk7XG4gICAgaWYgKHNlbGVjdGVkRmVhdHVyZUlkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGRvdWJsZUNsaWNrWm9vbS5lbmFibGUodGhpcyk7XG4gICAgfVxuICAvLyBTaGlmdC1jbGljayBvbiBhbiB1bnNlbGVjdGVkIGZlYXR1cmVcbiAgfSBlbHNlIGlmICghaXNGZWF0dXJlU2VsZWN0ZWQgJiYgaXNTaGlmdENsaWNrKSB7XG4gICAgLy8gQWRkIGl0IHRvIHRoZSBzZWxlY3Rpb25cbiAgICB0aGlzLnNlbGVjdChmZWF0dXJlSWQpO1xuICAgIHRoaXMudXBkYXRlVUlDbGFzc2VzKHsgbW91c2U6IENvbnN0YW50cy5jdXJzb3JzLk1PVkUgfSk7XG4gIC8vIENsaWNrICh3aXRob3V0IHNoaWZ0KSBvbiBhbiB1bnNlbGVjdGVkIGZlYXR1cmVcbiAgfSBlbHNlIGlmICghaXNGZWF0dXJlU2VsZWN0ZWQgJiYgIWlzU2hpZnRDbGljaykge1xuICAgIC8vIE1ha2UgaXQgdGhlIG9ubHkgc2VsZWN0ZWQgZmVhdHVyZVxuICAgIHNlbGVjdGVkRmVhdHVyZUlkcy5mb3JFYWNoKGlkID0+IHRoaXMuZG9SZW5kZXIoaWQpKTtcbiAgICB0aGlzLnNldFNlbGVjdGVkKGZlYXR1cmVJZCk7XG4gICAgdGhpcy51cGRhdGVVSUNsYXNzZXMoeyBtb3VzZTogQ29uc3RhbnRzLmN1cnNvcnMuTU9WRSB9KTtcbiAgfVxuXG4gIC8vIE5vIG1hdHRlciB3aGF0LCByZS1yZW5kZXIgdGhlIGNsaWNrZWQgZmVhdHVyZVxuICB0aGlzLmRvUmVuZGVyKGZlYXR1cmVJZCk7XG59O1xuXG5TaW1wbGVTZWxlY3Qub25Nb3VzZURvd24gPSBmdW5jdGlvbihzdGF0ZSwgZSkge1xuICBzdGF0ZS5pbml0aWFsRHJhZ1BhblN0YXRlID0gdGhpcy5tYXAuZHJhZ1Bhbi5pc0VuYWJsZWQoKTtcbiAgaWYgKENvbW1vblNlbGVjdG9ycy5pc0FjdGl2ZUZlYXR1cmUoZSkpIHJldHVybiB0aGlzLnN0YXJ0T25BY3RpdmVGZWF0dXJlKHN0YXRlLCBlKTtcbiAgaWYgKHRoaXMuZHJhd0NvbmZpZy5ib3hTZWxlY3QgJiYgQ29tbW9uU2VsZWN0b3JzLmlzU2hpZnRNb3VzZWRvd24oZSkpIHJldHVybiB0aGlzLnN0YXJ0Qm94U2VsZWN0KHN0YXRlLCBlKTtcbn07XG5cblNpbXBsZVNlbGVjdC5zdGFydEJveFNlbGVjdCA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIHRoaXMuc3RvcEV4dGVuZGVkSW50ZXJhY3Rpb25zKHN0YXRlKTtcbiAgdGhpcy5tYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XG4gIC8vIEVuYWJsZSBib3ggc2VsZWN0XG4gIHN0YXRlLmJveFNlbGVjdFN0YXJ0TG9jYXRpb24gPSBtb3VzZUV2ZW50UG9pbnQoZS5vcmlnaW5hbEV2ZW50LCB0aGlzLm1hcC5nZXRDb250YWluZXIoKSk7XG4gIHN0YXRlLmNhbkJveFNlbGVjdCA9IHRydWU7XG59O1xuXG5TaW1wbGVTZWxlY3Qub25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgaWYgKENvbW1vblNlbGVjdG9ycy5pc0FjdGl2ZUZlYXR1cmUoZSkpIHJldHVybiB0aGlzLnN0YXJ0T25BY3RpdmVGZWF0dXJlKHN0YXRlLCBlKTtcbn07XG5cblNpbXBsZVNlbGVjdC5vbkRyYWcgPSBmdW5jdGlvbihzdGF0ZSwgZSkge1xuICBpZiAoc3RhdGUuY2FuRHJhZ01vdmUpIHJldHVybiB0aGlzLmRyYWdNb3ZlKHN0YXRlLCBlKTtcbiAgaWYgKHRoaXMuZHJhd0NvbmZpZy5ib3hTZWxlY3QgJiYgc3RhdGUuY2FuQm94U2VsZWN0KSByZXR1cm4gdGhpcy53aGlsZUJveFNlbGVjdChzdGF0ZSwgZSk7XG59O1xuXG5TaW1wbGVTZWxlY3Qud2hpbGVCb3hTZWxlY3QgPSBmdW5jdGlvbihzdGF0ZSwgZSkge1xuICBzdGF0ZS5ib3hTZWxlY3RpbmcgPSB0cnVlO1xuICB0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7IG1vdXNlOiBDb25zdGFudHMuY3Vyc29ycy5BREQgfSk7XG5cbiAgLy8gQ3JlYXRlIHRoZSBib3ggbm9kZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gIGlmICghc3RhdGUuYm94U2VsZWN0RWxlbWVudCkge1xuICAgIHN0YXRlLmJveFNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzdGF0ZS5ib3hTZWxlY3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoQ29uc3RhbnRzLmNsYXNzZXMuQk9YX1NFTEVDVCk7XG4gICAgdGhpcy5tYXAuZ2V0Q29udGFpbmVyKCkuYXBwZW5kQ2hpbGQoc3RhdGUuYm94U2VsZWN0RWxlbWVudCk7XG4gIH1cblxuICAvLyBBZGp1c3QgdGhlIGJveCBub2RlJ3Mgd2lkdGggYW5kIHh5IHBvc2l0aW9uXG4gIGNvbnN0IGN1cnJlbnQgPSBtb3VzZUV2ZW50UG9pbnQoZS5vcmlnaW5hbEV2ZW50LCB0aGlzLm1hcC5nZXRDb250YWluZXIoKSk7XG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbihzdGF0ZS5ib3hTZWxlY3RTdGFydExvY2F0aW9uLngsIGN1cnJlbnQueCk7XG4gIGNvbnN0IG1heFggPSBNYXRoLm1heChzdGF0ZS5ib3hTZWxlY3RTdGFydExvY2F0aW9uLngsIGN1cnJlbnQueCk7XG4gIGNvbnN0IG1pblkgPSBNYXRoLm1pbihzdGF0ZS5ib3hTZWxlY3RTdGFydExvY2F0aW9uLnksIGN1cnJlbnQueSk7XG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heChzdGF0ZS5ib3hTZWxlY3RTdGFydExvY2F0aW9uLnksIGN1cnJlbnQueSk7XG4gIGNvbnN0IHRyYW5zbGF0ZVZhbHVlID0gYHRyYW5zbGF0ZSgke21pblh9cHgsICR7bWluWX1weClgO1xuICBzdGF0ZS5ib3hTZWxlY3RFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zbGF0ZVZhbHVlO1xuICBzdGF0ZS5ib3hTZWxlY3RFbGVtZW50LnN0eWxlLldlYmtpdFRyYW5zZm9ybSA9IHRyYW5zbGF0ZVZhbHVlO1xuICBzdGF0ZS5ib3hTZWxlY3RFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7bWF4WCAtIG1pblh9cHhgO1xuICBzdGF0ZS5ib3hTZWxlY3RFbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke21heFkgLSBtaW5ZfXB4YDtcbn07XG5cblNpbXBsZVNlbGVjdC5kcmFnTW92ZSA9IGZ1bmN0aW9uKHN0YXRlLCBlKSB7XG4gIC8vIERyYWdnaW5nIHdoZW4gZHJhZyBtb3ZlIGlzIGVuYWJsZWRcbiAgc3RhdGUuZHJhZ01vdmluZyA9IHRydWU7XG4gIGUub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICBjb25zdCBkZWx0YSA9IHtcbiAgICBsbmc6IGUubG5nTGF0LmxuZyAtIHN0YXRlLmRyYWdNb3ZlTG9jYXRpb24ubG5nLFxuICAgIGxhdDogZS5sbmdMYXQubGF0IC0gc3RhdGUuZHJhZ01vdmVMb2NhdGlvbi5sYXRcbiAgfTtcblxuICBtb3ZlRmVhdHVyZXModGhpcy5nZXRTZWxlY3RlZCgpLCBkZWx0YSk7XG5cbiAgc3RhdGUuZHJhZ01vdmVMb2NhdGlvbiA9IGUubG5nTGF0O1xufTtcblxuU2ltcGxlU2VsZWN0Lm9uVG91Y2hFbmQgPSBTaW1wbGVTZWxlY3Qub25Nb3VzZVVwID0gZnVuY3Rpb24oc3RhdGUsIGUpIHtcbiAgLy8gRW5kIGFueSBleHRlbmRlZCBpbnRlcmFjdGlvbnNcbiAgaWYgKHN0YXRlLmRyYWdNb3ZpbmcpIHtcbiAgICB0aGlzLmZpcmVVcGRhdGUoKTtcbiAgfSBlbHNlIGlmIChzdGF0ZS5ib3hTZWxlY3RpbmcpIHtcbiAgICBjb25zdCBiYm94ID0gW1xuICAgICAgc3RhdGUuYm94U2VsZWN0U3RhcnRMb2NhdGlvbixcbiAgICAgIG1vdXNlRXZlbnRQb2ludChlLm9yaWdpbmFsRXZlbnQsIHRoaXMubWFwLmdldENvbnRhaW5lcigpKVxuICAgIF07XG4gICAgY29uc3QgZmVhdHVyZXNJbkJveCA9IHRoaXMuZmVhdHVyZXNBdChudWxsLCBiYm94LCAnY2xpY2snKTtcbiAgICBjb25zdCBpZHNUb1NlbGVjdCA9IHRoaXMuZ2V0VW5pcXVlSWRzKGZlYXR1cmVzSW5Cb3gpXG4gICAgICAuZmlsdGVyKGlkID0+ICF0aGlzLmlzU2VsZWN0ZWQoaWQpKTtcblxuICAgIGlmIChpZHNUb1NlbGVjdC5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc2VsZWN0KGlkc1RvU2VsZWN0KTtcbiAgICAgIGlkc1RvU2VsZWN0LmZvckVhY2goaWQgPT4gdGhpcy5kb1JlbmRlcihpZCkpO1xuICAgICAgdGhpcy51cGRhdGVVSUNsYXNzZXMoeyBtb3VzZTogQ29uc3RhbnRzLmN1cnNvcnMuTU9WRSB9KTtcbiAgICB9XG4gIH1cbiAgdGhpcy5zdG9wRXh0ZW5kZWRJbnRlcmFjdGlvbnMoc3RhdGUpO1xufTtcblxuU2ltcGxlU2VsZWN0LnRvRGlzcGxheUZlYXR1cmVzID0gZnVuY3Rpb24oc3RhdGUsIGdlb2pzb24sIGRpc3BsYXkpIHtcbiAgZ2VvanNvbi5wcm9wZXJ0aWVzLmFjdGl2ZSA9ICh0aGlzLmlzU2VsZWN0ZWQoZ2VvanNvbi5wcm9wZXJ0aWVzLmlkKSkgP1xuICAgIENvbnN0YW50cy5hY3RpdmVTdGF0ZXMuQUNUSVZFIDogQ29uc3RhbnRzLmFjdGl2ZVN0YXRlcy5JTkFDVElWRTtcbiAgZGlzcGxheShnZW9qc29uKTtcbiAgdGhpcy5maXJlQWN0aW9uYWJsZSgpO1xuICBpZiAoZ2VvanNvbi5wcm9wZXJ0aWVzLmFjdGl2ZSAhPT0gQ29uc3RhbnRzLmFjdGl2ZVN0YXRlcy5BQ1RJVkUgfHxcbiAgICBnZW9qc29uLmdlb21ldHJ5LnR5cGUgPT09IENvbnN0YW50cy5nZW9qc29uVHlwZXMuUE9JTlQpIHJldHVybjtcbiAgY3JlYXRlU3VwcGxlbWVudGFyeVBvaW50cyhnZW9qc29uKS5mb3JFYWNoKGRpc3BsYXkpO1xufTtcblxuU2ltcGxlU2VsZWN0Lm9uVHJhc2ggPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kZWxldGVGZWF0dXJlKHRoaXMuZ2V0U2VsZWN0ZWRJZHMoKSk7XG4gIHRoaXMuZmlyZUFjdGlvbmFibGUoKTtcbn07XG5cblNpbXBsZVNlbGVjdC5vbkNvbWJpbmVGZWF0dXJlcyA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBzZWxlY3RlZEZlYXR1cmVzID0gdGhpcy5nZXRTZWxlY3RlZCgpO1xuXG4gIGlmIChzZWxlY3RlZEZlYXR1cmVzLmxlbmd0aCA9PT0gMCB8fCBzZWxlY3RlZEZlYXR1cmVzLmxlbmd0aCA8IDIpIHJldHVybjtcblxuICBjb25zdCBjb29yZGluYXRlcyA9IFtdLCBmZWF0dXJlc0NvbWJpbmVkID0gW107XG4gIGNvbnN0IGZlYXR1cmVUeXBlID0gc2VsZWN0ZWRGZWF0dXJlc1swXS50eXBlLnJlcGxhY2UoJ011bHRpJywgJycpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRGZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGZlYXR1cmUgPSBzZWxlY3RlZEZlYXR1cmVzW2ldO1xuXG4gICAgaWYgKGZlYXR1cmUudHlwZS5yZXBsYWNlKCdNdWx0aScsICcnKSAhPT0gZmVhdHVyZVR5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZlYXR1cmUudHlwZS5pbmNsdWRlcygnTXVsdGknKSkge1xuICAgICAgZmVhdHVyZS5nZXRDb29yZGluYXRlcygpLmZvckVhY2goKHN1YmNvb3JkcykgPT4ge1xuICAgICAgICBjb29yZGluYXRlcy5wdXNoKHN1YmNvb3Jkcyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29vcmRpbmF0ZXMucHVzaChmZWF0dXJlLmdldENvb3JkaW5hdGVzKCkpO1xuICAgIH1cblxuICAgIGZlYXR1cmVzQ29tYmluZWQucHVzaChmZWF0dXJlLnRvR2VvSlNPTigpKTtcbiAgfVxuXG4gIGlmIChmZWF0dXJlc0NvbWJpbmVkLmxlbmd0aCA+IDEpIHtcbiAgICBjb25zdCBtdWx0aUZlYXR1cmUgPSB0aGlzLm5ld0ZlYXR1cmUoe1xuICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFLFxuICAgICAgcHJvcGVydGllczogZmVhdHVyZXNDb21iaW5lZFswXS5wcm9wZXJ0aWVzLFxuICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgdHlwZTogYE11bHRpJHtmZWF0dXJlVHlwZX1gLFxuICAgICAgICBjb29yZGluYXRlc1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRGZWF0dXJlKG11bHRpRmVhdHVyZSk7XG4gICAgdGhpcy5kZWxldGVGZWF0dXJlKHRoaXMuZ2V0U2VsZWN0ZWRJZHMoKSwgeyBzaWxlbnQ6IHRydWUgfSk7XG4gICAgdGhpcy5zZXRTZWxlY3RlZChbbXVsdGlGZWF0dXJlLmlkXSk7XG5cbiAgICB0aGlzLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5DT01CSU5FX0ZFQVRVUkVTLCB7XG4gICAgICBjcmVhdGVkRmVhdHVyZXM6IFttdWx0aUZlYXR1cmUudG9HZW9KU09OKCldLFxuICAgICAgZGVsZXRlZEZlYXR1cmVzOiBmZWF0dXJlc0NvbWJpbmVkXG4gICAgfSk7XG4gIH1cbiAgdGhpcy5maXJlQWN0aW9uYWJsZSgpO1xufTtcblxuU2ltcGxlU2VsZWN0Lm9uVW5jb21iaW5lRmVhdHVyZXMgPSBmdW5jdGlvbigpIHtcbiAgY29uc3Qgc2VsZWN0ZWRGZWF0dXJlcyA9IHRoaXMuZ2V0U2VsZWN0ZWQoKTtcbiAgaWYgKHNlbGVjdGVkRmVhdHVyZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgY29uc3QgY3JlYXRlZEZlYXR1cmVzID0gW107XG4gIGNvbnN0IGZlYXR1cmVzVW5jb21iaW5lZCA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRGZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGZlYXR1cmUgPSBzZWxlY3RlZEZlYXR1cmVzW2ldO1xuXG4gICAgaWYgKHRoaXMuaXNJbnN0YW5jZU9mKCdNdWx0aUZlYXR1cmUnLCBmZWF0dXJlKSkge1xuICAgICAgZmVhdHVyZS5nZXRGZWF0dXJlcygpLmZvckVhY2goKHN1YkZlYXR1cmUpID0+IHtcbiAgICAgICAgdGhpcy5hZGRGZWF0dXJlKHN1YkZlYXR1cmUpO1xuICAgICAgICBzdWJGZWF0dXJlLnByb3BlcnRpZXMgPSBmZWF0dXJlLnByb3BlcnRpZXM7XG4gICAgICAgIGNyZWF0ZWRGZWF0dXJlcy5wdXNoKHN1YkZlYXR1cmUudG9HZW9KU09OKCkpO1xuICAgICAgICB0aGlzLnNlbGVjdChbc3ViRmVhdHVyZS5pZF0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlbGV0ZUZlYXR1cmUoZmVhdHVyZS5pZCwgeyBzaWxlbnQ6IHRydWUgfSk7XG4gICAgICBmZWF0dXJlc1VuY29tYmluZWQucHVzaChmZWF0dXJlLnRvR2VvSlNPTigpKTtcbiAgICB9XG4gIH1cblxuICBpZiAoY3JlYXRlZEZlYXR1cmVzLmxlbmd0aCA+IDEpIHtcbiAgICB0aGlzLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5VTkNPTUJJTkVfRkVBVFVSRVMsIHtcbiAgICAgIGNyZWF0ZWRGZWF0dXJlcyxcbiAgICAgIGRlbGV0ZWRGZWF0dXJlczogZmVhdHVyZXNVbmNvbWJpbmVkXG4gICAgfSk7XG4gIH1cbiAgdGhpcy5maXJlQWN0aW9uYWJsZSgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2ltcGxlU2VsZWN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/simple_select.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/options.js":
/*!************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/options.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n/* harmony import */ var _lib_theme_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/theme.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/theme.js\");\n/* harmony import */ var _modes_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modes/index.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/modes/index.js\");\n\n\n\n\n\nconst defaultOptions = {\n  defaultMode: _constants_js__WEBPACK_IMPORTED_MODULE_0__.modes.SIMPLE_SELECT,\n  keybindings: true,\n  touchEnabled: true,\n  clickBuffer: 2,\n  touchBuffer: 25,\n  boxSelect: true,\n  displayControlsDefault: true,\n  styles: _lib_theme_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  modes: _modes_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  controls: {},\n  userProperties: false,\n  suppressAPIEvents: true\n};\n\nconst showControls = {\n  point: true,\n  line_string: true,\n  polygon: true,\n  trash: true,\n  combine_features: true,\n  uncombine_features: true\n};\n\nconst hideControls = {\n  point: false,\n  line_string: false,\n  polygon: false,\n  trash: false,\n  combine_features: false,\n  uncombine_features: false\n};\n\nfunction addSources(styles, sourceBucket) {\n  return styles.map((style) => {\n    if (style.source) return style;\n    return Object.assign({}, style, {\n      id: `${style.id}.${sourceBucket}`,\n      source: (sourceBucket === 'hot') ? _constants_js__WEBPACK_IMPORTED_MODULE_0__.sources.HOT : _constants_js__WEBPACK_IMPORTED_MODULE_0__.sources.COLD\n    });\n  });\n}\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(options = {}) {\n  let withDefaults = Object.assign({}, options);\n\n  if (!options.controls) {\n    withDefaults.controls = {};\n  }\n\n  if (options.displayControlsDefault === false) {\n    withDefaults.controls = Object.assign({}, hideControls, options.controls);\n  } else {\n    withDefaults.controls = Object.assign({}, showControls, options.controls);\n  }\n\n  withDefaults = Object.assign({}, defaultOptions, withDefaults);\n\n  // Layers with a shared source should be adjacent for performance reasons\n  withDefaults.styles = addSources(withDefaults.styles, 'cold').concat(addSources(withDefaults.styles, 'hot'));\n\n  return withDefaults;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvb3B0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRDOztBQUVSO0FBQ0M7O0FBRXJDO0FBQ0EsZUFBZSxnREFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsT0FBTztBQUNQLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQixhQUFhLFNBQVMsR0FBRyxhQUFhO0FBQ3RDLHlDQUF5QyxrREFBaUIsT0FBTyxrREFBaUI7QUFDbEYsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQSw2QkFBZSxvQ0FBUyxZQUFZO0FBQ3BDLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDO0FBQzVDLElBQUk7QUFDSiw0Q0FBNEM7QUFDNUM7O0FBRUEsaUNBQWlDOztBQUVqQztBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL29wdGlvbnMuanM/ZGI1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vbGliL3RoZW1lLmpzJztcbmltcG9ydCBtb2RlcyBmcm9tICcuL21vZGVzL2luZGV4LmpzJztcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGRlZmF1bHRNb2RlOiBDb25zdGFudHMubW9kZXMuU0lNUExFX1NFTEVDVCxcbiAga2V5YmluZGluZ3M6IHRydWUsXG4gIHRvdWNoRW5hYmxlZDogdHJ1ZSxcbiAgY2xpY2tCdWZmZXI6IDIsXG4gIHRvdWNoQnVmZmVyOiAyNSxcbiAgYm94U2VsZWN0OiB0cnVlLFxuICBkaXNwbGF5Q29udHJvbHNEZWZhdWx0OiB0cnVlLFxuICBzdHlsZXMsXG4gIG1vZGVzLFxuICBjb250cm9sczoge30sXG4gIHVzZXJQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgc3VwcHJlc3NBUElFdmVudHM6IHRydWVcbn07XG5cbmNvbnN0IHNob3dDb250cm9scyA9IHtcbiAgcG9pbnQ6IHRydWUsXG4gIGxpbmVfc3RyaW5nOiB0cnVlLFxuICBwb2x5Z29uOiB0cnVlLFxuICB0cmFzaDogdHJ1ZSxcbiAgY29tYmluZV9mZWF0dXJlczogdHJ1ZSxcbiAgdW5jb21iaW5lX2ZlYXR1cmVzOiB0cnVlXG59O1xuXG5jb25zdCBoaWRlQ29udHJvbHMgPSB7XG4gIHBvaW50OiBmYWxzZSxcbiAgbGluZV9zdHJpbmc6IGZhbHNlLFxuICBwb2x5Z29uOiBmYWxzZSxcbiAgdHJhc2g6IGZhbHNlLFxuICBjb21iaW5lX2ZlYXR1cmVzOiBmYWxzZSxcbiAgdW5jb21iaW5lX2ZlYXR1cmVzOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gYWRkU291cmNlcyhzdHlsZXMsIHNvdXJjZUJ1Y2tldCkge1xuICByZXR1cm4gc3R5bGVzLm1hcCgoc3R5bGUpID0+IHtcbiAgICBpZiAoc3R5bGUuc291cmNlKSByZXR1cm4gc3R5bGU7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0eWxlLCB7XG4gICAgICBpZDogYCR7c3R5bGUuaWR9LiR7c291cmNlQnVja2V0fWAsXG4gICAgICBzb3VyY2U6IChzb3VyY2VCdWNrZXQgPT09ICdob3QnKSA/IENvbnN0YW50cy5zb3VyY2VzLkhPVCA6IENvbnN0YW50cy5zb3VyY2VzLkNPTERcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBsZXQgd2l0aERlZmF1bHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG5cbiAgaWYgKCFvcHRpb25zLmNvbnRyb2xzKSB7XG4gICAgd2l0aERlZmF1bHRzLmNvbnRyb2xzID0ge307XG4gIH1cblxuICBpZiAob3B0aW9ucy5kaXNwbGF5Q29udHJvbHNEZWZhdWx0ID09PSBmYWxzZSkge1xuICAgIHdpdGhEZWZhdWx0cy5jb250cm9scyA9IE9iamVjdC5hc3NpZ24oe30sIGhpZGVDb250cm9scywgb3B0aW9ucy5jb250cm9scyk7XG4gIH0gZWxzZSB7XG4gICAgd2l0aERlZmF1bHRzLmNvbnRyb2xzID0gT2JqZWN0LmFzc2lnbih7fSwgc2hvd0NvbnRyb2xzLCBvcHRpb25zLmNvbnRyb2xzKTtcbiAgfVxuXG4gIHdpdGhEZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCB3aXRoRGVmYXVsdHMpO1xuXG4gIC8vIExheWVycyB3aXRoIGEgc2hhcmVkIHNvdXJjZSBzaG91bGQgYmUgYWRqYWNlbnQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgd2l0aERlZmF1bHRzLnN0eWxlcyA9IGFkZFNvdXJjZXMod2l0aERlZmF1bHRzLnN0eWxlcywgJ2NvbGQnKS5jb25jYXQoYWRkU291cmNlcyh3aXRoRGVmYXVsdHMuc3R5bGVzLCAnaG90JykpO1xuXG4gIHJldHVybiB3aXRoRGVmYXVsdHM7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/render.js":
/*!***********************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/render.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\nfunction render() {\n  // eslint-disable-next-line no-invalid-this\n  const store = this;\n  const mapExists = store.ctx.map && store.ctx.map.getSource(_constants_js__WEBPACK_IMPORTED_MODULE_0__.sources.HOT) !== undefined;\n  if (!mapExists) return cleanup();\n\n  const mode = store.ctx.events.currentModeName();\n\n  store.ctx.ui.queueMapClasses({ mode });\n\n  let newHotIds = [];\n  let newColdIds = [];\n\n  if (store.isDirty) {\n    newColdIds = store.getAllIds();\n  } else {\n    newHotIds = store.getChangedIds().filter(id => store.get(id) !== undefined);\n    newColdIds = store.sources.hot.filter(geojson => geojson.properties.id && newHotIds.indexOf(geojson.properties.id) === -1 && store.get(geojson.properties.id) !== undefined).map(geojson => geojson.properties.id);\n  }\n\n  store.sources.hot = [];\n  const lastColdCount = store.sources.cold.length;\n  store.sources.cold = store.isDirty ? [] : store.sources.cold.filter((geojson) => {\n    const id = geojson.properties.id || geojson.properties.parent;\n    return newHotIds.indexOf(id) === -1;\n  });\n\n  const coldChanged = lastColdCount !== store.sources.cold.length || newColdIds.length > 0;\n  newHotIds.forEach(id => renderFeature(id, 'hot'));\n  newColdIds.forEach(id => renderFeature(id, 'cold'));\n\n  function renderFeature(id, source) {\n    const feature = store.get(id);\n    const featureInternal = feature.internal(mode);\n    store.ctx.events.currentModeRender(featureInternal, (geojson) => {\n      geojson.properties.mode = mode;\n      store.sources[source].push(geojson);\n    });\n  }\n\n  if (coldChanged) {\n    store.ctx.map.getSource(_constants_js__WEBPACK_IMPORTED_MODULE_0__.sources.COLD).setData({\n      type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.FEATURE_COLLECTION,\n      features: store.sources.cold\n    });\n  }\n\n  store.ctx.map.getSource(_constants_js__WEBPACK_IMPORTED_MODULE_0__.sources.HOT).setData({\n    type: _constants_js__WEBPACK_IMPORTED_MODULE_0__.geojsonTypes.FEATURE_COLLECTION,\n    features: store.sources.hot\n  });\n\n  cleanup();\n\n  function cleanup() {\n    store.isDirty = false;\n    store.clearChangedIds();\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvcmVuZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDOztBQUU3QjtBQUNmO0FBQ0E7QUFDQSw2REFBNkQsa0RBQWlCO0FBQzlFOztBQUVBOztBQUVBLGlDQUFpQyxNQUFNOztBQUV2QztBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSw0QkFBNEIsa0RBQWlCO0FBQzdDLFlBQVksdURBQXNCO0FBQ2xDO0FBQ0EsS0FBSztBQUNMOztBQUVBLDBCQUEwQixrREFBaUI7QUFDM0MsVUFBVSx1REFBc0I7QUFDaEM7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL3JlbmRlci5qcz9kZGM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWludmFsaWQtdGhpc1xuICBjb25zdCBzdG9yZSA9IHRoaXM7XG4gIGNvbnN0IG1hcEV4aXN0cyA9IHN0b3JlLmN0eC5tYXAgJiYgc3RvcmUuY3R4Lm1hcC5nZXRTb3VyY2UoQ29uc3RhbnRzLnNvdXJjZXMuSE9UKSAhPT0gdW5kZWZpbmVkO1xuICBpZiAoIW1hcEV4aXN0cykgcmV0dXJuIGNsZWFudXAoKTtcblxuICBjb25zdCBtb2RlID0gc3RvcmUuY3R4LmV2ZW50cy5jdXJyZW50TW9kZU5hbWUoKTtcblxuICBzdG9yZS5jdHgudWkucXVldWVNYXBDbGFzc2VzKHsgbW9kZSB9KTtcblxuICBsZXQgbmV3SG90SWRzID0gW107XG4gIGxldCBuZXdDb2xkSWRzID0gW107XG5cbiAgaWYgKHN0b3JlLmlzRGlydHkpIHtcbiAgICBuZXdDb2xkSWRzID0gc3RvcmUuZ2V0QWxsSWRzKCk7XG4gIH0gZWxzZSB7XG4gICAgbmV3SG90SWRzID0gc3RvcmUuZ2V0Q2hhbmdlZElkcygpLmZpbHRlcihpZCA9PiBzdG9yZS5nZXQoaWQpICE9PSB1bmRlZmluZWQpO1xuICAgIG5ld0NvbGRJZHMgPSBzdG9yZS5zb3VyY2VzLmhvdC5maWx0ZXIoZ2VvanNvbiA9PiBnZW9qc29uLnByb3BlcnRpZXMuaWQgJiYgbmV3SG90SWRzLmluZGV4T2YoZ2VvanNvbi5wcm9wZXJ0aWVzLmlkKSA9PT0gLTEgJiYgc3RvcmUuZ2V0KGdlb2pzb24ucHJvcGVydGllcy5pZCkgIT09IHVuZGVmaW5lZCkubWFwKGdlb2pzb24gPT4gZ2VvanNvbi5wcm9wZXJ0aWVzLmlkKTtcbiAgfVxuXG4gIHN0b3JlLnNvdXJjZXMuaG90ID0gW107XG4gIGNvbnN0IGxhc3RDb2xkQ291bnQgPSBzdG9yZS5zb3VyY2VzLmNvbGQubGVuZ3RoO1xuICBzdG9yZS5zb3VyY2VzLmNvbGQgPSBzdG9yZS5pc0RpcnR5ID8gW10gOiBzdG9yZS5zb3VyY2VzLmNvbGQuZmlsdGVyKChnZW9qc29uKSA9PiB7XG4gICAgY29uc3QgaWQgPSBnZW9qc29uLnByb3BlcnRpZXMuaWQgfHwgZ2VvanNvbi5wcm9wZXJ0aWVzLnBhcmVudDtcbiAgICByZXR1cm4gbmV3SG90SWRzLmluZGV4T2YoaWQpID09PSAtMTtcbiAgfSk7XG5cbiAgY29uc3QgY29sZENoYW5nZWQgPSBsYXN0Q29sZENvdW50ICE9PSBzdG9yZS5zb3VyY2VzLmNvbGQubGVuZ3RoIHx8IG5ld0NvbGRJZHMubGVuZ3RoID4gMDtcbiAgbmV3SG90SWRzLmZvckVhY2goaWQgPT4gcmVuZGVyRmVhdHVyZShpZCwgJ2hvdCcpKTtcbiAgbmV3Q29sZElkcy5mb3JFYWNoKGlkID0+IHJlbmRlckZlYXR1cmUoaWQsICdjb2xkJykpO1xuXG4gIGZ1bmN0aW9uIHJlbmRlckZlYXR1cmUoaWQsIHNvdXJjZSkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSBzdG9yZS5nZXQoaWQpO1xuICAgIGNvbnN0IGZlYXR1cmVJbnRlcm5hbCA9IGZlYXR1cmUuaW50ZXJuYWwobW9kZSk7XG4gICAgc3RvcmUuY3R4LmV2ZW50cy5jdXJyZW50TW9kZVJlbmRlcihmZWF0dXJlSW50ZXJuYWwsIChnZW9qc29uKSA9PiB7XG4gICAgICBnZW9qc29uLnByb3BlcnRpZXMubW9kZSA9IG1vZGU7XG4gICAgICBzdG9yZS5zb3VyY2VzW3NvdXJjZV0ucHVzaChnZW9qc29uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChjb2xkQ2hhbmdlZCkge1xuICAgIHN0b3JlLmN0eC5tYXAuZ2V0U291cmNlKENvbnN0YW50cy5zb3VyY2VzLkNPTEQpLnNldERhdGEoe1xuICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFX0NPTExFQ1RJT04sXG4gICAgICBmZWF0dXJlczogc3RvcmUuc291cmNlcy5jb2xkXG4gICAgfSk7XG4gIH1cblxuICBzdG9yZS5jdHgubWFwLmdldFNvdXJjZShDb25zdGFudHMuc291cmNlcy5IT1QpLnNldERhdGEoe1xuICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuRkVBVFVSRV9DT0xMRUNUSU9OLFxuICAgIGZlYXR1cmVzOiBzdG9yZS5zb3VyY2VzLmhvdFxuICB9KTtcblxuICBjbGVhbnVwKCk7XG5cbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBzdG9yZS5pc0RpcnR5ID0gZmFsc2U7XG4gICAgc3RvcmUuY2xlYXJDaGFuZ2VkSWRzKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/render.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/setup.js":
/*!**********************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/setup.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/events.js\");\n/* harmony import */ var _store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/store.js\");\n/* harmony import */ var _ui_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/ui.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\n\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(ctx) {\n\n  let controlContainer = null;\n  let mapLoadedInterval = null;\n\n  const setup = {\n    onRemove() {\n      // Stop connect attempt in the event that control is removed before map is loaded\n      ctx.map.off('load', setup.connect);\n      clearInterval(mapLoadedInterval);\n\n      setup.removeLayers();\n      ctx.store.restoreMapConfig();\n      ctx.ui.removeButtons();\n      ctx.events.removeEventListeners();\n      ctx.ui.clearMapClasses();\n      if (ctx.boxZoomInitial) ctx.map.boxZoom.enable();\n      ctx.map = null;\n      ctx.container = null;\n      ctx.store = null;\n\n      if (controlContainer && controlContainer.parentNode) controlContainer.parentNode.removeChild(controlContainer);\n      controlContainer = null;\n\n      return this;\n    },\n    connect() {\n      ctx.map.off('load', setup.connect);\n      clearInterval(mapLoadedInterval);\n      setup.addLayers();\n      ctx.store.storeMapConfig();\n      ctx.events.addEventListeners();\n    },\n    onAdd(map) {\n      ctx.map = map;\n      ctx.events = (0,_events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ctx);\n      ctx.ui = (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ctx);\n      ctx.container = map.getContainer();\n      ctx.store = new _store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](ctx);\n\n\n      controlContainer = ctx.ui.addButtons();\n\n      if (ctx.options.boxSelect) {\n        ctx.boxZoomInitial = map.boxZoom.isEnabled();\n        map.boxZoom.disable();\n        const dragPanIsEnabled = map.dragPan.isEnabled();\n        // Need to toggle dragPan on and off or else first\n        // dragPan disable attempt in simple_select doesn't work\n        map.dragPan.disable();\n        map.dragPan.enable();\n        if (!dragPanIsEnabled) {\n          map.dragPan.disable();\n        }\n      }\n\n      if (map.loaded()) {\n        setup.connect();\n      } else {\n        map.on('load', setup.connect);\n        mapLoadedInterval = setInterval(() => { if (map.loaded()) setup.connect(); }, 16);\n      }\n\n      ctx.events.start();\n      return controlContainer;\n    },\n    addLayers() {\n      // drawn features style\n      ctx.map.addSource(_constants_js__WEBPACK_IMPORTED_MODULE_3__.sources.COLD, {\n        data: {\n          type: _constants_js__WEBPACK_IMPORTED_MODULE_3__.geojsonTypes.FEATURE_COLLECTION,\n          features: []\n        },\n        type: 'geojson'\n      });\n\n      // hot features style\n      ctx.map.addSource(_constants_js__WEBPACK_IMPORTED_MODULE_3__.sources.HOT, {\n        data: {\n          type: _constants_js__WEBPACK_IMPORTED_MODULE_3__.geojsonTypes.FEATURE_COLLECTION,\n          features: []\n        },\n        type: 'geojson'\n      });\n\n      ctx.options.styles.forEach((style) => {\n        ctx.map.addLayer(style);\n      });\n\n      ctx.store.setDirty(true);\n      ctx.store.render();\n    },\n    // Check for layers and sources before attempting to remove\n    // If user adds draw control and removes it before the map is loaded, layers and sources will be missing\n    removeLayers() {\n      ctx.options.styles.forEach((style) => {\n        if (ctx.map.getLayer(style.id)) {\n          ctx.map.removeLayer(style.id);\n        }\n      });\n\n      if (ctx.map.getSource(_constants_js__WEBPACK_IMPORTED_MODULE_3__.sources.COLD)) {\n        ctx.map.removeSource(_constants_js__WEBPACK_IMPORTED_MODULE_3__.sources.COLD);\n      }\n\n      if (ctx.map.getSource(_constants_js__WEBPACK_IMPORTED_MODULE_3__.sources.HOT)) {\n        ctx.map.removeSource(_constants_js__WEBPACK_IMPORTED_MODULE_3__.sources.HOT);\n      }\n    }\n  };\n\n  ctx.setup = setup;\n\n  return setup;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvc2V0dXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUM7QUFDRjtBQUNOO0FBQ21COztBQUU1Qyw2QkFBZSxvQ0FBUzs7QUFFeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFNO0FBQ3pCLGVBQWUsa0RBQUU7QUFDakI7QUFDQSxzQkFBc0IsaURBQUs7OztBQUczQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGdEQUFnRCxvQ0FBb0M7QUFDcEY7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0JBQXdCLGtEQUFpQjtBQUN6QztBQUNBLGdCQUFnQix1REFBc0I7QUFDdEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPOztBQUVQO0FBQ0Esd0JBQXdCLGtEQUFpQjtBQUN6QztBQUNBLGdCQUFnQix1REFBc0I7QUFDdEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQLDRCQUE0QixrREFBaUI7QUFDN0MsNkJBQTZCLGtEQUFpQjtBQUM5Qzs7QUFFQSw0QkFBNEIsa0RBQWlCO0FBQzdDLDZCQUE2QixrREFBaUI7QUFDOUM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvc3JjL3NldHVwLmpzPzFlNmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV2ZW50cyBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi9zdG9yZS5qcyc7XG5pbXBvcnQgdWkgZnJvbSAnLi91aS5qcyc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjdHgpIHtcblxuICBsZXQgY29udHJvbENvbnRhaW5lciA9IG51bGw7XG4gIGxldCBtYXBMb2FkZWRJbnRlcnZhbCA9IG51bGw7XG5cbiAgY29uc3Qgc2V0dXAgPSB7XG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAvLyBTdG9wIGNvbm5lY3QgYXR0ZW1wdCBpbiB0aGUgZXZlbnQgdGhhdCBjb250cm9sIGlzIHJlbW92ZWQgYmVmb3JlIG1hcCBpcyBsb2FkZWRcbiAgICAgIGN0eC5tYXAub2ZmKCdsb2FkJywgc2V0dXAuY29ubmVjdCk7XG4gICAgICBjbGVhckludGVydmFsKG1hcExvYWRlZEludGVydmFsKTtcblxuICAgICAgc2V0dXAucmVtb3ZlTGF5ZXJzKCk7XG4gICAgICBjdHguc3RvcmUucmVzdG9yZU1hcENvbmZpZygpO1xuICAgICAgY3R4LnVpLnJlbW92ZUJ1dHRvbnMoKTtcbiAgICAgIGN0eC5ldmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIGN0eC51aS5jbGVhck1hcENsYXNzZXMoKTtcbiAgICAgIGlmIChjdHguYm94Wm9vbUluaXRpYWwpIGN0eC5tYXAuYm94Wm9vbS5lbmFibGUoKTtcbiAgICAgIGN0eC5tYXAgPSBudWxsO1xuICAgICAgY3R4LmNvbnRhaW5lciA9IG51bGw7XG4gICAgICBjdHguc3RvcmUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udHJvbENvbnRhaW5lciAmJiBjb250cm9sQ29udGFpbmVyLnBhcmVudE5vZGUpIGNvbnRyb2xDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb250cm9sQ29udGFpbmVyKTtcbiAgICAgIGNvbnRyb2xDb250YWluZXIgPSBudWxsO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGNvbm5lY3QoKSB7XG4gICAgICBjdHgubWFwLm9mZignbG9hZCcsIHNldHVwLmNvbm5lY3QpO1xuICAgICAgY2xlYXJJbnRlcnZhbChtYXBMb2FkZWRJbnRlcnZhbCk7XG4gICAgICBzZXR1cC5hZGRMYXllcnMoKTtcbiAgICAgIGN0eC5zdG9yZS5zdG9yZU1hcENvbmZpZygpO1xuICAgICAgY3R4LmV2ZW50cy5hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH0sXG4gICAgb25BZGQobWFwKSB7XG4gICAgICBjdHgubWFwID0gbWFwO1xuICAgICAgY3R4LmV2ZW50cyA9IGV2ZW50cyhjdHgpO1xuICAgICAgY3R4LnVpID0gdWkoY3R4KTtcbiAgICAgIGN0eC5jb250YWluZXIgPSBtYXAuZ2V0Q29udGFpbmVyKCk7XG4gICAgICBjdHguc3RvcmUgPSBuZXcgU3RvcmUoY3R4KTtcblxuXG4gICAgICBjb250cm9sQ29udGFpbmVyID0gY3R4LnVpLmFkZEJ1dHRvbnMoKTtcblxuICAgICAgaWYgKGN0eC5vcHRpb25zLmJveFNlbGVjdCkge1xuICAgICAgICBjdHguYm94Wm9vbUluaXRpYWwgPSBtYXAuYm94Wm9vbS5pc0VuYWJsZWQoKTtcbiAgICAgICAgbWFwLmJveFpvb20uZGlzYWJsZSgpO1xuICAgICAgICBjb25zdCBkcmFnUGFuSXNFbmFibGVkID0gbWFwLmRyYWdQYW4uaXNFbmFibGVkKCk7XG4gICAgICAgIC8vIE5lZWQgdG8gdG9nZ2xlIGRyYWdQYW4gb24gYW5kIG9mZiBvciBlbHNlIGZpcnN0XG4gICAgICAgIC8vIGRyYWdQYW4gZGlzYWJsZSBhdHRlbXB0IGluIHNpbXBsZV9zZWxlY3QgZG9lc24ndCB3b3JrXG4gICAgICAgIG1hcC5kcmFnUGFuLmRpc2FibGUoKTtcbiAgICAgICAgbWFwLmRyYWdQYW4uZW5hYmxlKCk7XG4gICAgICAgIGlmICghZHJhZ1BhbklzRW5hYmxlZCkge1xuICAgICAgICAgIG1hcC5kcmFnUGFuLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWFwLmxvYWRlZCgpKSB7XG4gICAgICAgIHNldHVwLmNvbm5lY3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcC5vbignbG9hZCcsIHNldHVwLmNvbm5lY3QpO1xuICAgICAgICBtYXBMb2FkZWRJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsgaWYgKG1hcC5sb2FkZWQoKSkgc2V0dXAuY29ubmVjdCgpOyB9LCAxNik7XG4gICAgICB9XG5cbiAgICAgIGN0eC5ldmVudHMuc3RhcnQoKTtcbiAgICAgIHJldHVybiBjb250cm9sQ29udGFpbmVyO1xuICAgIH0sXG4gICAgYWRkTGF5ZXJzKCkge1xuICAgICAgLy8gZHJhd24gZmVhdHVyZXMgc3R5bGVcbiAgICAgIGN0eC5tYXAuYWRkU291cmNlKENvbnN0YW50cy5zb3VyY2VzLkNPTEQsIHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuRkVBVFVSRV9DT0xMRUNUSU9OLFxuICAgICAgICAgIGZlYXR1cmVzOiBbXVxuICAgICAgICB9LFxuICAgICAgICB0eXBlOiAnZ2VvanNvbidcbiAgICAgIH0pO1xuXG4gICAgICAvLyBob3QgZmVhdHVyZXMgc3R5bGVcbiAgICAgIGN0eC5tYXAuYWRkU291cmNlKENvbnN0YW50cy5zb3VyY2VzLkhPVCwge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdHlwZTogQ29uc3RhbnRzLmdlb2pzb25UeXBlcy5GRUFUVVJFX0NPTExFQ1RJT04sXG4gICAgICAgICAgZmVhdHVyZXM6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICdnZW9qc29uJ1xuICAgICAgfSk7XG5cbiAgICAgIGN0eC5vcHRpb25zLnN0eWxlcy5mb3JFYWNoKChzdHlsZSkgPT4ge1xuICAgICAgICBjdHgubWFwLmFkZExheWVyKHN0eWxlKTtcbiAgICAgIH0pO1xuXG4gICAgICBjdHguc3RvcmUuc2V0RGlydHkodHJ1ZSk7XG4gICAgICBjdHguc3RvcmUucmVuZGVyKCk7XG4gICAgfSxcbiAgICAvLyBDaGVjayBmb3IgbGF5ZXJzIGFuZCBzb3VyY2VzIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlbW92ZVxuICAgIC8vIElmIHVzZXIgYWRkcyBkcmF3IGNvbnRyb2wgYW5kIHJlbW92ZXMgaXQgYmVmb3JlIHRoZSBtYXAgaXMgbG9hZGVkLCBsYXllcnMgYW5kIHNvdXJjZXMgd2lsbCBiZSBtaXNzaW5nXG4gICAgcmVtb3ZlTGF5ZXJzKCkge1xuICAgICAgY3R4Lm9wdGlvbnMuc3R5bGVzLmZvckVhY2goKHN0eWxlKSA9PiB7XG4gICAgICAgIGlmIChjdHgubWFwLmdldExheWVyKHN0eWxlLmlkKSkge1xuICAgICAgICAgIGN0eC5tYXAucmVtb3ZlTGF5ZXIoc3R5bGUuaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGN0eC5tYXAuZ2V0U291cmNlKENvbnN0YW50cy5zb3VyY2VzLkNPTEQpKSB7XG4gICAgICAgIGN0eC5tYXAucmVtb3ZlU291cmNlKENvbnN0YW50cy5zb3VyY2VzLkNPTEQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3R4Lm1hcC5nZXRTb3VyY2UoQ29uc3RhbnRzLnNvdXJjZXMuSE9UKSkge1xuICAgICAgICBjdHgubWFwLnJlbW92ZVNvdXJjZShDb25zdGFudHMuc291cmNlcy5IT1QpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjdHguc2V0dXAgPSBzZXR1cDtcblxuICByZXR1cm4gc2V0dXA7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/setup.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/store.js":
/*!**********************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/store.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Store)\n/* harmony export */ });\n/* harmony import */ var _lib_to_dense_array_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/to_dense_array.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/to_dense_array.js\");\n/* harmony import */ var _lib_string_set_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/string_set.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/lib/string_set.js\");\n/* harmony import */ var _render_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./render.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/render.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\n\n\n\nfunction Store(ctx) {\n  this._features = {};\n  this._featureIds = new _lib_string_set_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  this._selectedFeatureIds = new _lib_string_set_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  this._selectedCoordinates = [];\n  this._changedFeatureIds = new _lib_string_set_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  this._emitSelectionChange = false;\n  this._mapInitialConfig = {};\n  this.ctx = ctx;\n  this.sources = {\n    hot: [],\n    cold: []\n  };\n\n  // Deduplicate requests to render and tie them to animation frames.\n  let renderRequest;\n  this.render = () => {\n    if (!renderRequest) {\n      renderRequest = requestAnimationFrame(() => {\n        renderRequest = null;\n        _render_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].call(this);\n\n        // Fire deduplicated selection change event\n        if (this._emitSelectionChange) {\n          this.ctx.events.fire(_constants_js__WEBPACK_IMPORTED_MODULE_3__.events.SELECTION_CHANGE, {\n            features: this.getSelected().map(feature => feature.toGeoJSON()),\n            points: this.getSelectedCoordinates().map(coordinate => ({\n              type: _constants_js__WEBPACK_IMPORTED_MODULE_3__.geojsonTypes.FEATURE,\n              properties: {},\n              geometry: {\n                type: _constants_js__WEBPACK_IMPORTED_MODULE_3__.geojsonTypes.POINT,\n                coordinates: coordinate.coordinates\n              }\n            }))\n          });\n\n          this._emitSelectionChange = false;\n        }\n\n        // Fire render event\n        this.ctx.events.fire(_constants_js__WEBPACK_IMPORTED_MODULE_3__.events.RENDER, {});\n      });\n    }\n  };\n\n  this.isDirty = false;\n}\n\n/**\n * Delays all rendering until the returned function is invoked\n * @return {Function} renderBatch\n */\nStore.prototype.createRenderBatch = function() {\n  const holdRender = this.render;\n  let numRenders = 0;\n  this.render = function() {\n    numRenders++;\n  };\n\n  return () => {\n    this.render = holdRender;\n    if (numRenders > 0) {\n      this.render();\n    }\n  };\n};\n\n/**\n * Sets the store's state to dirty.\n * @return {Store} this\n */\nStore.prototype.setDirty = function() {\n  this.isDirty = true;\n  return this;\n};\n\n/**\n * Sets a feature's state to changed.\n * @param {string} featureId\n * @return {Store} this\n */\nStore.prototype.featureCreated = function(featureId, options = {}) {\n  this._changedFeatureIds.add(featureId);\n\n  const silent = options.silent != null ? options.silent : this.ctx.options.suppressAPIEvents;\n  if (silent !== true) {\n    const feature = this.get(featureId);\n    this.ctx.events.fire(_constants_js__WEBPACK_IMPORTED_MODULE_3__.events.CREATE, {\n      features: [feature.toGeoJSON()]\n    });\n  }\n\n  return this;\n};\n\n/**\n * Sets a feature's state to changed.\n * @param {string} featureId\n * @return {Store} this\n */\nStore.prototype.featureChanged = function(featureId, options = {}) {\n  this._changedFeatureIds.add(featureId);\n\n  const silent = options.silent != null ? options.silent : this.ctx.options.suppressAPIEvents;\n  if (silent !== true) {\n    this.ctx.events.fire(_constants_js__WEBPACK_IMPORTED_MODULE_3__.events.UPDATE, {\n      action: options.action ? options.action : _constants_js__WEBPACK_IMPORTED_MODULE_3__.updateActions.CHANGE_COORDINATES,\n      features: [this.get(featureId).toGeoJSON()]\n    });\n  }\n\n  return this;\n};\n\n/**\n * Gets the ids of all features currently in changed state.\n * @return {Store} this\n */\nStore.prototype.getChangedIds = function() {\n  return this._changedFeatureIds.values();\n};\n\n/**\n * Sets all features to unchanged state.\n * @return {Store} this\n */\nStore.prototype.clearChangedIds = function() {\n  this._changedFeatureIds.clear();\n  return this;\n};\n\n/**\n * Gets the ids of all features in the store.\n * @return {Store} this\n */\nStore.prototype.getAllIds = function() {\n  return this._featureIds.values();\n};\n\n/**\n * Adds a feature to the store.\n * @param {Object} feature\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n *\n * @return {Store} this\n */\nStore.prototype.add = function(feature, options = {}) {\n  this._features[feature.id] = feature;\n  this._featureIds.add(feature.id);\n  this.featureCreated(feature.id, {silent: options.silent});\n  return this;\n};\n\n/**\n * Deletes a feature or array of features from the store.\n * Cleans up after the deletion by deselecting the features.\n * If changes were made, sets the state to the dirty\n * and fires an event.\n * @param {string | Array<string>} featureIds\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\nStore.prototype.delete = function(featureIds, options = {}) {\n  const deletedFeaturesToEmit = [];\n  (0,_lib_to_dense_array_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(featureIds).forEach((id) => {\n    if (!this._featureIds.has(id)) return;\n    this._featureIds.delete(id);\n    this._selectedFeatureIds.delete(id);\n    if (!options.silent) {\n      if (deletedFeaturesToEmit.indexOf(this._features[id]) === -1) {\n        deletedFeaturesToEmit.push(this._features[id].toGeoJSON());\n      }\n    }\n    delete this._features[id];\n    this.isDirty = true;\n  });\n\n  if (deletedFeaturesToEmit.length) {\n    this.ctx.events.fire(_constants_js__WEBPACK_IMPORTED_MODULE_3__.events.DELETE, {features: deletedFeaturesToEmit});\n  }\n\n  refreshSelectedCoordinates(this, options);\n  return this;\n};\n\n/**\n * Returns a feature in the store matching the specified value.\n * @return {Object | undefined} feature\n */\nStore.prototype.get = function(id) {\n  return this._features[id];\n};\n\n/**\n * Returns all features in the store.\n * @return {Array<Object>}\n */\nStore.prototype.getAll = function() {\n  return Object.keys(this._features).map(id => this._features[id]);\n};\n\n/**\n * Adds features to the current selection.\n * @param {string | Array<string>} featureIds\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\nStore.prototype.select = function(featureIds, options = {}) {\n  (0,_lib_to_dense_array_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(featureIds).forEach((id) => {\n    if (this._selectedFeatureIds.has(id)) return;\n    this._selectedFeatureIds.add(id);\n    this._changedFeatureIds.add(id);\n    if (!options.silent) {\n      this._emitSelectionChange = true;\n    }\n  });\n  return this;\n};\n\n/**\n * Deletes features from the current selection.\n * @param {string | Array<string>} featureIds\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\nStore.prototype.deselect = function(featureIds, options = {}) {\n  (0,_lib_to_dense_array_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(featureIds).forEach((id) => {\n    if (!this._selectedFeatureIds.has(id)) return;\n    this._selectedFeatureIds.delete(id);\n    this._changedFeatureIds.add(id);\n    if (!options.silent) {\n      this._emitSelectionChange = true;\n    }\n  });\n  refreshSelectedCoordinates(this, options);\n  return this;\n};\n\n/**\n * Clears the current selection.\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\nStore.prototype.clearSelected = function(options = {}) {\n  this.deselect(this._selectedFeatureIds.values(), { silent: options.silent });\n  return this;\n};\n\n/**\n * Sets the store's selection, clearing any prior values.\n * If no feature ids are passed, the store is just cleared.\n * @param {string | Array<string> | undefined} featureIds\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n * @return {Store} this\n */\nStore.prototype.setSelected = function(featureIds, options = {}) {\n  featureIds = (0,_lib_to_dense_array_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(featureIds);\n\n  // Deselect any features not in the new selection\n  this.deselect(this._selectedFeatureIds.values().filter(id => featureIds.indexOf(id) === -1), { silent: options.silent });\n\n  // Select any features in the new selection that were not already selected\n  this.select(featureIds.filter(id => !this._selectedFeatureIds.has(id)), { silent: options.silent });\n\n  return this;\n};\n\n/**\n * Sets the store's coordinates selection, clearing any prior values.\n * @param {Array<Array<string>>} coordinates\n * @return {Store} this\n */\nStore.prototype.setSelectedCoordinates = function(coordinates) {\n  this._selectedCoordinates = coordinates;\n  this._emitSelectionChange = true;\n  return this;\n};\n\n/**\n * Clears the current coordinates selection.\n * @param {Object} [options]\n * @return {Store} this\n */\nStore.prototype.clearSelectedCoordinates = function() {\n  this._selectedCoordinates = [];\n  this._emitSelectionChange = true;\n  return this;\n};\n\n/**\n * Returns the ids of features in the current selection.\n * @return {Array<string>} Selected feature ids.\n */\nStore.prototype.getSelectedIds = function() {\n  return this._selectedFeatureIds.values();\n};\n\n/**\n * Returns features in the current selection.\n * @return {Array<Object>} Selected features.\n */\nStore.prototype.getSelected = function() {\n  return this.getSelectedIds().map(id => this.get(id));\n};\n\n/**\n * Returns selected coordinates in the currently selected feature.\n * @return {Array<Object>} Selected coordinates.\n */\nStore.prototype.getSelectedCoordinates = function() {\n  const selected = this._selectedCoordinates.map((coordinate) => {\n    const feature = this.get(coordinate.feature_id);\n    return {\n      coordinates: feature.getCoordinate(coordinate.coord_path)\n    };\n  });\n  return selected;\n};\n\n/**\n * Indicates whether a feature is selected.\n * @param {string} featureId\n * @return {boolean} `true` if the feature is selected, `false` if not.\n */\nStore.prototype.isSelected = function(featureId) {\n  return this._selectedFeatureIds.has(featureId);\n};\n\n/**\n * Sets a property on the given feature\n * @param {string} featureId\n * @param {string} property property\n * @param {string} property value\n * @param {Object} [options]\n * @param {Object} [options.silent] - If `true`, this invocation will not fire an event.\n*/\nStore.prototype.setFeatureProperty = function(featureId, property, value, options = {}) {\n  this.get(featureId).setProperty(property, value);\n\n  this.featureChanged(featureId, {\n    silent: options.silent,\n    action: _constants_js__WEBPACK_IMPORTED_MODULE_3__.updateActions.CHANGE_PROPERTIES\n  });\n};\n\nfunction refreshSelectedCoordinates(store, options = {}) {\n  const newSelectedCoordinates = store._selectedCoordinates.filter(point => store._selectedFeatureIds.has(point.feature_id));\n  if (store._selectedCoordinates.length !== newSelectedCoordinates.length && !options.silent) {\n    store._emitSelectionChange = true;\n  }\n  store._selectedCoordinates = newSelectedCoordinates;\n}\n\n/**\n * Stores the initial config for a map, so that we can set it again after we're done.\n*/\nStore.prototype.storeMapConfig = function() {\n  _constants_js__WEBPACK_IMPORTED_MODULE_3__.interactions.forEach((interaction) => {\n    const interactionSet = this.ctx.map[interaction];\n    if (interactionSet) {\n      this._mapInitialConfig[interaction] = this.ctx.map[interaction].isEnabled();\n    }\n  });\n};\n\n/**\n * Restores the initial config for a map, ensuring all is well.\n*/\nStore.prototype.restoreMapConfig = function() {\n  Object.keys(this._mapInitialConfig).forEach((key) => {\n    const value = this._mapInitialConfig[key];\n    if (value) {\n      this.ctx.map[key].enable();\n    } else {\n      this.ctx.map[key].disable();\n    }\n  });\n};\n\n/**\n * Returns the initial state of an interaction setting.\n * @param {string} interaction\n * @return {boolean} `true` if the interaction is enabled, `false` if not.\n * Defaults to `true`. (Todo: include defaults.)\n*/\nStore.prototype.getInitialConfigValue = function(interaction) {\n  if (this._mapInitialConfig[interaction] !== undefined) {\n    return this._mapInitialConfig[interaction];\n  } else {\n    // This needs to be set to whatever the default is for that interaction\n    // It seems to be true for all cases currently, so let's send back `true`.\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvc3RvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUQ7QUFDUDtBQUNYO0FBQ1c7O0FBRTdCO0FBQ2Y7QUFDQSx5QkFBeUIsMERBQVM7QUFDbEMsaUNBQWlDLDBEQUFTO0FBQzFDO0FBQ0EsZ0NBQWdDLDBEQUFTO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQU07O0FBRWQ7QUFDQTtBQUNBLCtCQUErQixpREFBZ0I7QUFDL0M7QUFDQTtBQUNBLG9CQUFvQix1REFBc0I7QUFDMUMsNEJBQTRCO0FBQzVCO0FBQ0Esc0JBQXNCLHVEQUFzQjtBQUM1QztBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7O0FBRVg7QUFDQTs7QUFFQTtBQUNBLDZCQUE2QixpREFBZ0IsV0FBVztBQUN4RCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0EsaUVBQWlFO0FBQ2pFOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixpREFBZ0I7QUFDekM7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBLGlFQUFpRTtBQUNqRTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCLGlEQUFnQjtBQUN6QyxnREFBZ0Qsd0RBQXVCO0FBQ3ZFO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBLG1DQUFtQyx1QkFBdUI7QUFDMUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3QkFBd0I7QUFDbkMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQSxFQUFFLGtFQUFZO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EseUJBQXlCLGlEQUFnQixVQUFVLGdDQUFnQztBQUNuRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsd0JBQXdCO0FBQ25DLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0EsMERBQTBEO0FBQzFELEVBQUUsa0VBQVk7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyx3QkFBd0I7QUFDbkMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQSw0REFBNEQ7QUFDNUQsRUFBRSxrRUFBWTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0EscURBQXFEO0FBQ3JELHFEQUFxRCx3QkFBd0I7QUFDN0U7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9DQUFvQztBQUMvQyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBLCtEQUErRDtBQUMvRCxlQUFlLGtFQUFZOztBQUUzQjtBQUNBLGlHQUFpRyx3QkFBd0I7O0FBRXpIO0FBQ0EsNEVBQTRFLHdCQUF3Qjs7QUFFcEc7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxzQkFBc0I7QUFDakMsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLHNGQUFzRjtBQUN0Rjs7QUFFQTtBQUNBO0FBQ0EsWUFBWSx3REFBdUI7QUFDbkMsR0FBRztBQUNIOztBQUVBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLHVEQUFzQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy9zdG9yZS5qcz83MjYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b0RlbnNlQXJyYXkgZnJvbSAnLi9saWIvdG9fZGVuc2VfYXJyYXkuanMnO1xuaW1wb3J0IFN0cmluZ1NldCBmcm9tICcuL2xpYi9zdHJpbmdfc2V0LmpzJztcbmltcG9ydCByZW5kZXIgZnJvbSAnLi9yZW5kZXIuanMnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RvcmUoY3R4KSB7XG4gIHRoaXMuX2ZlYXR1cmVzID0ge307XG4gIHRoaXMuX2ZlYXR1cmVJZHMgPSBuZXcgU3RyaW5nU2V0KCk7XG4gIHRoaXMuX3NlbGVjdGVkRmVhdHVyZUlkcyA9IG5ldyBTdHJpbmdTZXQoKTtcbiAgdGhpcy5fc2VsZWN0ZWRDb29yZGluYXRlcyA9IFtdO1xuICB0aGlzLl9jaGFuZ2VkRmVhdHVyZUlkcyA9IG5ldyBTdHJpbmdTZXQoKTtcbiAgdGhpcy5fZW1pdFNlbGVjdGlvbkNoYW5nZSA9IGZhbHNlO1xuICB0aGlzLl9tYXBJbml0aWFsQ29uZmlnID0ge307XG4gIHRoaXMuY3R4ID0gY3R4O1xuICB0aGlzLnNvdXJjZXMgPSB7XG4gICAgaG90OiBbXSxcbiAgICBjb2xkOiBbXVxuICB9O1xuXG4gIC8vIERlZHVwbGljYXRlIHJlcXVlc3RzIHRvIHJlbmRlciBhbmQgdGllIHRoZW0gdG8gYW5pbWF0aW9uIGZyYW1lcy5cbiAgbGV0IHJlbmRlclJlcXVlc3Q7XG4gIHRoaXMucmVuZGVyID0gKCkgPT4ge1xuICAgIGlmICghcmVuZGVyUmVxdWVzdCkge1xuICAgICAgcmVuZGVyUmVxdWVzdCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlbmRlclJlcXVlc3QgPSBudWxsO1xuICAgICAgICByZW5kZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBGaXJlIGRlZHVwbGljYXRlZCBzZWxlY3Rpb24gY2hhbmdlIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLl9lbWl0U2VsZWN0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgdGhpcy5jdHguZXZlbnRzLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5TRUxFQ1RJT05fQ0hBTkdFLCB7XG4gICAgICAgICAgICBmZWF0dXJlczogdGhpcy5nZXRTZWxlY3RlZCgpLm1hcChmZWF0dXJlID0+IGZlYXR1cmUudG9HZW9KU09OKCkpLFxuICAgICAgICAgICAgcG9pbnRzOiB0aGlzLmdldFNlbGVjdGVkQ29vcmRpbmF0ZXMoKS5tYXAoY29vcmRpbmF0ZSA9PiAoe1xuICAgICAgICAgICAgICB0eXBlOiBDb25zdGFudHMuZ2VvanNvblR5cGVzLkZFQVRVUkUsXG4gICAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgICAgIHR5cGU6IENvbnN0YW50cy5nZW9qc29uVHlwZXMuUE9JTlQsXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGUuY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLl9lbWl0U2VsZWN0aW9uQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHJlbmRlciBldmVudFxuICAgICAgICB0aGlzLmN0eC5ldmVudHMuZmlyZShDb25zdGFudHMuZXZlbnRzLlJFTkRFUiwge30pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuaXNEaXJ0eSA9IGZhbHNlO1xufVxuXG4vKipcbiAqIERlbGF5cyBhbGwgcmVuZGVyaW5nIHVudGlsIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBpcyBpbnZva2VkXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gcmVuZGVyQmF0Y2hcbiAqL1xuU3RvcmUucHJvdG90eXBlLmNyZWF0ZVJlbmRlckJhdGNoID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGhvbGRSZW5kZXIgPSB0aGlzLnJlbmRlcjtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIG51bVJlbmRlcnMrKztcbiAgfTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIHRoaXMucmVuZGVyID0gaG9sZFJlbmRlcjtcbiAgICBpZiAobnVtUmVuZGVycyA+IDApIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBzdG9yZSdzIHN0YXRlIHRvIGRpcnR5LlxuICogQHJldHVybiB7U3RvcmV9IHRoaXNcbiAqL1xuU3RvcmUucHJvdG90eXBlLnNldERpcnR5ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaXNEaXJ0eSA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIGEgZmVhdHVyZSdzIHN0YXRlIHRvIGNoYW5nZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZUlkXG4gKiBAcmV0dXJuIHtTdG9yZX0gdGhpc1xuICovXG5TdG9yZS5wcm90b3R5cGUuZmVhdHVyZUNyZWF0ZWQgPSBmdW5jdGlvbihmZWF0dXJlSWQsIG9wdGlvbnMgPSB7fSkge1xuICB0aGlzLl9jaGFuZ2VkRmVhdHVyZUlkcy5hZGQoZmVhdHVyZUlkKTtcblxuICBjb25zdCBzaWxlbnQgPSBvcHRpb25zLnNpbGVudCAhPSBudWxsID8gb3B0aW9ucy5zaWxlbnQgOiB0aGlzLmN0eC5vcHRpb25zLnN1cHByZXNzQVBJRXZlbnRzO1xuICBpZiAoc2lsZW50ICE9PSB0cnVlKSB7XG4gICAgY29uc3QgZmVhdHVyZSA9IHRoaXMuZ2V0KGZlYXR1cmVJZCk7XG4gICAgdGhpcy5jdHguZXZlbnRzLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5DUkVBVEUsIHtcbiAgICAgIGZlYXR1cmVzOiBbZmVhdHVyZS50b0dlb0pTT04oKV1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIGEgZmVhdHVyZSdzIHN0YXRlIHRvIGNoYW5nZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZUlkXG4gKiBAcmV0dXJuIHtTdG9yZX0gdGhpc1xuICovXG5TdG9yZS5wcm90b3R5cGUuZmVhdHVyZUNoYW5nZWQgPSBmdW5jdGlvbihmZWF0dXJlSWQsIG9wdGlvbnMgPSB7fSkge1xuICB0aGlzLl9jaGFuZ2VkRmVhdHVyZUlkcy5hZGQoZmVhdHVyZUlkKTtcblxuICBjb25zdCBzaWxlbnQgPSBvcHRpb25zLnNpbGVudCAhPSBudWxsID8gb3B0aW9ucy5zaWxlbnQgOiB0aGlzLmN0eC5vcHRpb25zLnN1cHByZXNzQVBJRXZlbnRzO1xuICBpZiAoc2lsZW50ICE9PSB0cnVlKSB7XG4gICAgdGhpcy5jdHguZXZlbnRzLmZpcmUoQ29uc3RhbnRzLmV2ZW50cy5VUERBVEUsIHtcbiAgICAgIGFjdGlvbjogb3B0aW9ucy5hY3Rpb24gPyBvcHRpb25zLmFjdGlvbiA6IENvbnN0YW50cy51cGRhdGVBY3Rpb25zLkNIQU5HRV9DT09SRElOQVRFUyxcbiAgICAgIGZlYXR1cmVzOiBbdGhpcy5nZXQoZmVhdHVyZUlkKS50b0dlb0pTT04oKV1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBpZHMgb2YgYWxsIGZlYXR1cmVzIGN1cnJlbnRseSBpbiBjaGFuZ2VkIHN0YXRlLlxuICogQHJldHVybiB7U3RvcmV9IHRoaXNcbiAqL1xuU3RvcmUucHJvdG90eXBlLmdldENoYW5nZWRJZHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2NoYW5nZWRGZWF0dXJlSWRzLnZhbHVlcygpO1xufTtcblxuLyoqXG4gKiBTZXRzIGFsbCBmZWF0dXJlcyB0byB1bmNoYW5nZWQgc3RhdGUuXG4gKiBAcmV0dXJuIHtTdG9yZX0gdGhpc1xuICovXG5TdG9yZS5wcm90b3R5cGUuY2xlYXJDaGFuZ2VkSWRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NoYW5nZWRGZWF0dXJlSWRzLmNsZWFyKCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBpZHMgb2YgYWxsIGZlYXR1cmVzIGluIHRoZSBzdG9yZS5cbiAqIEByZXR1cm4ge1N0b3JlfSB0aGlzXG4gKi9cblN0b3JlLnByb3RvdHlwZS5nZXRBbGxJZHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2ZlYXR1cmVJZHMudmFsdWVzKCk7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBmZWF0dXJlIHRvIHRoZSBzdG9yZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2lsZW50XSAtIElmIGB0cnVlYCwgdGhpcyBpbnZvY2F0aW9uIHdpbGwgbm90IGZpcmUgYW4gZXZlbnQuXG4gKlxuICogQHJldHVybiB7U3RvcmV9IHRoaXNcbiAqL1xuU3RvcmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGZlYXR1cmUsIG9wdGlvbnMgPSB7fSkge1xuICB0aGlzLl9mZWF0dXJlc1tmZWF0dXJlLmlkXSA9IGZlYXR1cmU7XG4gIHRoaXMuX2ZlYXR1cmVJZHMuYWRkKGZlYXR1cmUuaWQpO1xuICB0aGlzLmZlYXR1cmVDcmVhdGVkKGZlYXR1cmUuaWQsIHtzaWxlbnQ6IG9wdGlvbnMuc2lsZW50fSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZWxldGVzIGEgZmVhdHVyZSBvciBhcnJheSBvZiBmZWF0dXJlcyBmcm9tIHRoZSBzdG9yZS5cbiAqIENsZWFucyB1cCBhZnRlciB0aGUgZGVsZXRpb24gYnkgZGVzZWxlY3RpbmcgdGhlIGZlYXR1cmVzLlxuICogSWYgY2hhbmdlcyB3ZXJlIG1hZGUsIHNldHMgdGhlIHN0YXRlIHRvIHRoZSBkaXJ0eVxuICogYW5kIGZpcmVzIGFuIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmcgfCBBcnJheTxzdHJpbmc+fSBmZWF0dXJlSWRzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2lsZW50XSAtIElmIGB0cnVlYCwgdGhpcyBpbnZvY2F0aW9uIHdpbGwgbm90IGZpcmUgYW4gZXZlbnQuXG4gKiBAcmV0dXJuIHtTdG9yZX0gdGhpc1xuICovXG5TdG9yZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24oZmVhdHVyZUlkcywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGRlbGV0ZWRGZWF0dXJlc1RvRW1pdCA9IFtdO1xuICB0b0RlbnNlQXJyYXkoZmVhdHVyZUlkcykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBpZiAoIXRoaXMuX2ZlYXR1cmVJZHMuaGFzKGlkKSkgcmV0dXJuO1xuICAgIHRoaXMuX2ZlYXR1cmVJZHMuZGVsZXRlKGlkKTtcbiAgICB0aGlzLl9zZWxlY3RlZEZlYXR1cmVJZHMuZGVsZXRlKGlkKTtcbiAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB7XG4gICAgICBpZiAoZGVsZXRlZEZlYXR1cmVzVG9FbWl0LmluZGV4T2YodGhpcy5fZmVhdHVyZXNbaWRdKSA9PT0gLTEpIHtcbiAgICAgICAgZGVsZXRlZEZlYXR1cmVzVG9FbWl0LnB1c2godGhpcy5fZmVhdHVyZXNbaWRdLnRvR2VvSlNPTigpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuX2ZlYXR1cmVzW2lkXTtcbiAgICB0aGlzLmlzRGlydHkgPSB0cnVlO1xuICB9KTtcblxuICBpZiAoZGVsZXRlZEZlYXR1cmVzVG9FbWl0Lmxlbmd0aCkge1xuICAgIHRoaXMuY3R4LmV2ZW50cy5maXJlKENvbnN0YW50cy5ldmVudHMuREVMRVRFLCB7ZmVhdHVyZXM6IGRlbGV0ZWRGZWF0dXJlc1RvRW1pdH0pO1xuICB9XG5cbiAgcmVmcmVzaFNlbGVjdGVkQ29vcmRpbmF0ZXModGhpcywgb3B0aW9ucyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgZmVhdHVyZSBpbiB0aGUgc3RvcmUgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAqIEByZXR1cm4ge09iamVjdCB8IHVuZGVmaW5lZH0gZmVhdHVyZVxuICovXG5TdG9yZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIHRoaXMuX2ZlYXR1cmVzW2lkXTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbGwgZmVhdHVyZXMgaW4gdGhlIHN0b3JlLlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn1cbiAqL1xuU3RvcmUucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fZmVhdHVyZXMpLm1hcChpZCA9PiB0aGlzLl9mZWF0dXJlc1tpZF0pO1xufTtcblxuLyoqXG4gKiBBZGRzIGZlYXR1cmVzIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgQXJyYXk8c3RyaW5nPn0gZmVhdHVyZUlkc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNpbGVudF0gLSBJZiBgdHJ1ZWAsIHRoaXMgaW52b2NhdGlvbiB3aWxsIG5vdCBmaXJlIGFuIGV2ZW50LlxuICogQHJldHVybiB7U3RvcmV9IHRoaXNcbiAqL1xuU3RvcmUucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uKGZlYXR1cmVJZHMsIG9wdGlvbnMgPSB7fSkge1xuICB0b0RlbnNlQXJyYXkoZmVhdHVyZUlkcykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBpZiAodGhpcy5fc2VsZWN0ZWRGZWF0dXJlSWRzLmhhcyhpZCkpIHJldHVybjtcbiAgICB0aGlzLl9zZWxlY3RlZEZlYXR1cmVJZHMuYWRkKGlkKTtcbiAgICB0aGlzLl9jaGFuZ2VkRmVhdHVyZUlkcy5hZGQoaWQpO1xuICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgIHRoaXMuX2VtaXRTZWxlY3Rpb25DaGFuZ2UgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZWxldGVzIGZlYXR1cmVzIGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmcgfCBBcnJheTxzdHJpbmc+fSBmZWF0dXJlSWRzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2lsZW50XSAtIElmIGB0cnVlYCwgdGhpcyBpbnZvY2F0aW9uIHdpbGwgbm90IGZpcmUgYW4gZXZlbnQuXG4gKiBAcmV0dXJuIHtTdG9yZX0gdGhpc1xuICovXG5TdG9yZS5wcm90b3R5cGUuZGVzZWxlY3QgPSBmdW5jdGlvbihmZWF0dXJlSWRzLCBvcHRpb25zID0ge30pIHtcbiAgdG9EZW5zZUFycmF5KGZlYXR1cmVJZHMpLmZvckVhY2goKGlkKSA9PiB7XG4gICAgaWYgKCF0aGlzLl9zZWxlY3RlZEZlYXR1cmVJZHMuaGFzKGlkKSkgcmV0dXJuO1xuICAgIHRoaXMuX3NlbGVjdGVkRmVhdHVyZUlkcy5kZWxldGUoaWQpO1xuICAgIHRoaXMuX2NoYW5nZWRGZWF0dXJlSWRzLmFkZChpZCk7XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkge1xuICAgICAgdGhpcy5fZW1pdFNlbGVjdGlvbkNoYW5nZSA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmVmcmVzaFNlbGVjdGVkQ29vcmRpbmF0ZXModGhpcywgb3B0aW9ucyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNpbGVudF0gLSBJZiBgdHJ1ZWAsIHRoaXMgaW52b2NhdGlvbiB3aWxsIG5vdCBmaXJlIGFuIGV2ZW50LlxuICogQHJldHVybiB7U3RvcmV9IHRoaXNcbiAqL1xuU3RvcmUucHJvdG90eXBlLmNsZWFyU2VsZWN0ZWQgPSBmdW5jdGlvbihvcHRpb25zID0ge30pIHtcbiAgdGhpcy5kZXNlbGVjdCh0aGlzLl9zZWxlY3RlZEZlYXR1cmVJZHMudmFsdWVzKCksIHsgc2lsZW50OiBvcHRpb25zLnNpbGVudCB9KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHN0b3JlJ3Mgc2VsZWN0aW9uLCBjbGVhcmluZyBhbnkgcHJpb3IgdmFsdWVzLlxuICogSWYgbm8gZmVhdHVyZSBpZHMgYXJlIHBhc3NlZCwgdGhlIHN0b3JlIGlzIGp1c3QgY2xlYXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgQXJyYXk8c3RyaW5nPiB8IHVuZGVmaW5lZH0gZmVhdHVyZUlkc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNpbGVudF0gLSBJZiBgdHJ1ZWAsIHRoaXMgaW52b2NhdGlvbiB3aWxsIG5vdCBmaXJlIGFuIGV2ZW50LlxuICogQHJldHVybiB7U3RvcmV9IHRoaXNcbiAqL1xuU3RvcmUucHJvdG90eXBlLnNldFNlbGVjdGVkID0gZnVuY3Rpb24oZmVhdHVyZUlkcywgb3B0aW9ucyA9IHt9KSB7XG4gIGZlYXR1cmVJZHMgPSB0b0RlbnNlQXJyYXkoZmVhdHVyZUlkcyk7XG5cbiAgLy8gRGVzZWxlY3QgYW55IGZlYXR1cmVzIG5vdCBpbiB0aGUgbmV3IHNlbGVjdGlvblxuICB0aGlzLmRlc2VsZWN0KHRoaXMuX3NlbGVjdGVkRmVhdHVyZUlkcy52YWx1ZXMoKS5maWx0ZXIoaWQgPT4gZmVhdHVyZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpLCB7IHNpbGVudDogb3B0aW9ucy5zaWxlbnQgfSk7XG5cbiAgLy8gU2VsZWN0IGFueSBmZWF0dXJlcyBpbiB0aGUgbmV3IHNlbGVjdGlvbiB0aGF0IHdlcmUgbm90IGFscmVhZHkgc2VsZWN0ZWRcbiAgdGhpcy5zZWxlY3QoZmVhdHVyZUlkcy5maWx0ZXIoaWQgPT4gIXRoaXMuX3NlbGVjdGVkRmVhdHVyZUlkcy5oYXMoaWQpKSwgeyBzaWxlbnQ6IG9wdGlvbnMuc2lsZW50IH0pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBzdG9yZSdzIGNvb3JkaW5hdGVzIHNlbGVjdGlvbiwgY2xlYXJpbmcgYW55IHByaW9yIHZhbHVlcy5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8c3RyaW5nPj59IGNvb3JkaW5hdGVzXG4gKiBAcmV0dXJuIHtTdG9yZX0gdGhpc1xuICovXG5TdG9yZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWRDb29yZGluYXRlcyA9IGZ1bmN0aW9uKGNvb3JkaW5hdGVzKSB7XG4gIHRoaXMuX3NlbGVjdGVkQ29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcztcbiAgdGhpcy5fZW1pdFNlbGVjdGlvbkNoYW5nZSA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIGN1cnJlbnQgY29vcmRpbmF0ZXMgc2VsZWN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHJldHVybiB7U3RvcmV9IHRoaXNcbiAqL1xuU3RvcmUucHJvdG90eXBlLmNsZWFyU2VsZWN0ZWRDb29yZGluYXRlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9zZWxlY3RlZENvb3JkaW5hdGVzID0gW107XG4gIHRoaXMuX2VtaXRTZWxlY3Rpb25DaGFuZ2UgPSB0cnVlO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaWRzIG9mIGZlYXR1cmVzIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IFNlbGVjdGVkIGZlYXR1cmUgaWRzLlxuICovXG5TdG9yZS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJZHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRmVhdHVyZUlkcy52YWx1ZXMoKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBmZWF0dXJlcyBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxPYmplY3Q+fSBTZWxlY3RlZCBmZWF0dXJlcy5cbiAqL1xuU3RvcmUucHJvdG90eXBlLmdldFNlbGVjdGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldFNlbGVjdGVkSWRzKCkubWFwKGlkID0+IHRoaXMuZ2V0KGlkKSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgc2VsZWN0ZWQgY29vcmRpbmF0ZXMgaW4gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBmZWF0dXJlLlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn0gU2VsZWN0ZWQgY29vcmRpbmF0ZXMuXG4gKi9cblN0b3JlLnByb3RvdHlwZS5nZXRTZWxlY3RlZENvb3JkaW5hdGVzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5fc2VsZWN0ZWRDb29yZGluYXRlcy5tYXAoKGNvb3JkaW5hdGUpID0+IHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5nZXQoY29vcmRpbmF0ZS5mZWF0dXJlX2lkKTtcbiAgICByZXR1cm4ge1xuICAgICAgY29vcmRpbmF0ZXM6IGZlYXR1cmUuZ2V0Q29vcmRpbmF0ZShjb29yZGluYXRlLmNvb3JkX3BhdGgpXG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBzZWxlY3RlZDtcbn07XG5cbi8qKlxuICogSW5kaWNhdGVzIHdoZXRoZXIgYSBmZWF0dXJlIGlzIHNlbGVjdGVkLlxuICogQHBhcmFtIHtzdHJpbmd9IGZlYXR1cmVJZFxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBmZWF0dXJlIGlzIHNlbGVjdGVkLCBgZmFsc2VgIGlmIG5vdC5cbiAqL1xuU3RvcmUucHJvdG90eXBlLmlzU2VsZWN0ZWQgPSBmdW5jdGlvbihmZWF0dXJlSWQpIHtcbiAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRmVhdHVyZUlkcy5oYXMoZmVhdHVyZUlkKTtcbn07XG5cbi8qKlxuICogU2V0cyBhIHByb3BlcnR5IG9uIHRoZSBnaXZlbiBmZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZUlkXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNpbGVudF0gLSBJZiBgdHJ1ZWAsIHRoaXMgaW52b2NhdGlvbiB3aWxsIG5vdCBmaXJlIGFuIGV2ZW50LlxuKi9cblN0b3JlLnByb3RvdHlwZS5zZXRGZWF0dXJlUHJvcGVydHkgPSBmdW5jdGlvbihmZWF0dXJlSWQsIHByb3BlcnR5LCB2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gIHRoaXMuZ2V0KGZlYXR1cmVJZCkuc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcblxuICB0aGlzLmZlYXR1cmVDaGFuZ2VkKGZlYXR1cmVJZCwge1xuICAgIHNpbGVudDogb3B0aW9ucy5zaWxlbnQsXG4gICAgYWN0aW9uOiBDb25zdGFudHMudXBkYXRlQWN0aW9ucy5DSEFOR0VfUFJPUEVSVElFU1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIHJlZnJlc2hTZWxlY3RlZENvb3JkaW5hdGVzKHN0b3JlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgbmV3U2VsZWN0ZWRDb29yZGluYXRlcyA9IHN0b3JlLl9zZWxlY3RlZENvb3JkaW5hdGVzLmZpbHRlcihwb2ludCA9PiBzdG9yZS5fc2VsZWN0ZWRGZWF0dXJlSWRzLmhhcyhwb2ludC5mZWF0dXJlX2lkKSk7XG4gIGlmIChzdG9yZS5fc2VsZWN0ZWRDb29yZGluYXRlcy5sZW5ndGggIT09IG5ld1NlbGVjdGVkQ29vcmRpbmF0ZXMubGVuZ3RoICYmICFvcHRpb25zLnNpbGVudCkge1xuICAgIHN0b3JlLl9lbWl0U2VsZWN0aW9uQ2hhbmdlID0gdHJ1ZTtcbiAgfVxuICBzdG9yZS5fc2VsZWN0ZWRDb29yZGluYXRlcyA9IG5ld1NlbGVjdGVkQ29vcmRpbmF0ZXM7XG59XG5cbi8qKlxuICogU3RvcmVzIHRoZSBpbml0aWFsIGNvbmZpZyBmb3IgYSBtYXAsIHNvIHRoYXQgd2UgY2FuIHNldCBpdCBhZ2FpbiBhZnRlciB3ZSdyZSBkb25lLlxuKi9cblN0b3JlLnByb3RvdHlwZS5zdG9yZU1hcENvbmZpZyA9IGZ1bmN0aW9uKCkge1xuICBDb25zdGFudHMuaW50ZXJhY3Rpb25zLmZvckVhY2goKGludGVyYWN0aW9uKSA9PiB7XG4gICAgY29uc3QgaW50ZXJhY3Rpb25TZXQgPSB0aGlzLmN0eC5tYXBbaW50ZXJhY3Rpb25dO1xuICAgIGlmIChpbnRlcmFjdGlvblNldCkge1xuICAgICAgdGhpcy5fbWFwSW5pdGlhbENvbmZpZ1tpbnRlcmFjdGlvbl0gPSB0aGlzLmN0eC5tYXBbaW50ZXJhY3Rpb25dLmlzRW5hYmxlZCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFJlc3RvcmVzIHRoZSBpbml0aWFsIGNvbmZpZyBmb3IgYSBtYXAsIGVuc3VyaW5nIGFsbCBpcyB3ZWxsLlxuKi9cblN0b3JlLnByb3RvdHlwZS5yZXN0b3JlTWFwQ29uZmlnID0gZnVuY3Rpb24oKSB7XG4gIE9iamVjdC5rZXlzKHRoaXMuX21hcEluaXRpYWxDb25maWcpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fbWFwSW5pdGlhbENvbmZpZ1trZXldO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5jdHgubWFwW2tleV0uZW5hYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3R4Lm1hcFtrZXldLmRpc2FibGUoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbml0aWFsIHN0YXRlIG9mIGFuIGludGVyYWN0aW9uIHNldHRpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJhY3Rpb25cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZCwgYGZhbHNlYCBpZiBub3QuXG4gKiBEZWZhdWx0cyB0byBgdHJ1ZWAuIChUb2RvOiBpbmNsdWRlIGRlZmF1bHRzLilcbiovXG5TdG9yZS5wcm90b3R5cGUuZ2V0SW5pdGlhbENvbmZpZ1ZhbHVlID0gZnVuY3Rpb24oaW50ZXJhY3Rpb24pIHtcbiAgaWYgKHRoaXMuX21hcEluaXRpYWxDb25maWdbaW50ZXJhY3Rpb25dICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwSW5pdGlhbENvbmZpZ1tpbnRlcmFjdGlvbl07XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhpcyBuZWVkcyB0byBiZSBzZXQgdG8gd2hhdGV2ZXIgdGhlIGRlZmF1bHQgaXMgZm9yIHRoYXQgaW50ZXJhY3Rpb25cbiAgICAvLyBJdCBzZWVtcyB0byBiZSB0cnVlIGZvciBhbGwgY2FzZXMgY3VycmVudGx5LCBzbyBsZXQncyBzZW5kIGJhY2sgYHRydWVgLlxuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/store.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/ui.js":
/*!*******************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/src/ui.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/constants.js\");\n\n\nconst classTypes = ['mode', 'feature', 'mouse'];\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(ctx) {\n\n\n  const buttonElements = {};\n  let activeButton = null;\n\n  let currentMapClasses = {\n    mode: null, // e.g. mode-direct_select\n    feature: null, // e.g. feature-vertex\n    mouse: null // e.g. mouse-move\n  };\n\n  let nextMapClasses = {\n    mode: null,\n    feature: null,\n    mouse: null\n  };\n\n  function clearMapClasses() {\n    queueMapClasses({mode:null, feature:null, mouse:null});\n    updateMapClasses();\n  }\n\n  function queueMapClasses(options) {\n    nextMapClasses = Object.assign(nextMapClasses, options);\n  }\n\n  function updateMapClasses() {\n    if (!ctx.container) return;\n\n    const classesToRemove = [];\n    const classesToAdd = [];\n\n    classTypes.forEach((type) => {\n      if (nextMapClasses[type] === currentMapClasses[type]) return;\n\n      classesToRemove.push(`${type}-${currentMapClasses[type]}`);\n      if (nextMapClasses[type] !== null) {\n        classesToAdd.push(`${type}-${nextMapClasses[type]}`);\n      }\n    });\n\n    if (classesToRemove.length > 0) {\n      ctx.container.classList.remove(...classesToRemove);\n    }\n\n    if (classesToAdd.length > 0) {\n      ctx.container.classList.add(...classesToAdd);\n    }\n\n    currentMapClasses = Object.assign(currentMapClasses, nextMapClasses);\n  }\n\n  function createControlButton(id, options = {}) {\n    const button = document.createElement('button');\n    button.className = `${_constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_BUTTON} ${options.className}`;\n    button.setAttribute('title', options.title);\n    options.container.appendChild(button);\n\n    button.addEventListener('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      const clickedButton = e.target;\n      if (clickedButton === activeButton) {\n        deactivateButtons();\n        options.onDeactivate();\n        return;\n      }\n\n      setActiveButton(id);\n      options.onActivate();\n    }, true);\n\n    return button;\n  }\n\n  function deactivateButtons() {\n    if (!activeButton) return;\n    activeButton.classList.remove(_constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.ACTIVE_BUTTON);\n    activeButton = null;\n  }\n\n  function setActiveButton(id) {\n    deactivateButtons();\n\n    const button = buttonElements[id];\n    if (!button) return;\n\n    if (button && id !== 'trash') {\n      button.classList.add(_constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.ACTIVE_BUTTON);\n      activeButton = button;\n    }\n  }\n\n  function addButtons() {\n    const controls = ctx.options.controls;\n    const controlGroup = document.createElement('div');\n    controlGroup.className = `${_constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_GROUP} ${_constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_BASE}`;\n\n    if (!controls) return controlGroup;\n\n    if (controls[_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.LINE]) {\n      buttonElements[_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.LINE] = createControlButton(_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.LINE, {\n        container: controlGroup,\n        className: _constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_BUTTON_LINE,\n        title: `LineString tool ${ctx.options.keybindings ? '(l)' : ''}`,\n        onActivate: () => ctx.events.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_0__.modes.DRAW_LINE_STRING),\n        onDeactivate: () => ctx.events.trash()\n      });\n    }\n\n    if (controls[_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.POLYGON]) {\n      buttonElements[_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.POLYGON] = createControlButton(_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.POLYGON, {\n        container: controlGroup,\n        className: _constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_BUTTON_POLYGON,\n        title: `Polygon tool ${ctx.options.keybindings ? '(p)' : ''}`,\n        onActivate: () => ctx.events.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_0__.modes.DRAW_POLYGON),\n        onDeactivate: () => ctx.events.trash()\n      });\n    }\n\n    if (controls[_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.POINT]) {\n      buttonElements[_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.POINT] = createControlButton(_constants_js__WEBPACK_IMPORTED_MODULE_0__.types.POINT, {\n        container: controlGroup,\n        className: _constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_BUTTON_POINT,\n        title: `Marker tool ${ctx.options.keybindings ? '(m)' : ''}`,\n        onActivate: () => ctx.events.changeMode(_constants_js__WEBPACK_IMPORTED_MODULE_0__.modes.DRAW_POINT),\n        onDeactivate: () => ctx.events.trash()\n      });\n    }\n\n    if (controls.trash) {\n      buttonElements.trash = createControlButton('trash', {\n        container: controlGroup,\n        className: _constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_BUTTON_TRASH,\n        title: 'Delete',\n        onActivate: () => {\n          ctx.events.trash();\n        }\n      });\n    }\n\n    if (controls.combine_features) {\n      buttonElements.combine_features = createControlButton('combineFeatures', {\n        container: controlGroup,\n        className: _constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_BUTTON_COMBINE_FEATURES,\n        title: 'Combine',\n        onActivate: () => {\n          ctx.events.combineFeatures();\n        }\n      });\n    }\n\n    if (controls.uncombine_features) {\n      buttonElements.uncombine_features = createControlButton('uncombineFeatures', {\n        container: controlGroup,\n        className: _constants_js__WEBPACK_IMPORTED_MODULE_0__.classes.CONTROL_BUTTON_UNCOMBINE_FEATURES,\n        title: 'Uncombine',\n        onActivate: () => {\n          ctx.events.uncombineFeatures();\n        }\n      });\n    }\n\n    return controlGroup;\n  }\n\n  function removeButtons() {\n    Object.keys(buttonElements).forEach((buttonId) => {\n      const button = buttonElements[buttonId];\n      if (button.parentNode) {\n        button.parentNode.removeChild(button);\n      }\n      delete buttonElements[buttonId];\n    });\n  }\n\n  return {\n    setActiveButton,\n    queueMapClasses,\n    updateMapClasses,\n    clearMapClasses,\n    addButtons,\n    removeButtons\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9zcmMvdWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7O0FBRTVDOztBQUVBLDZCQUFlLG9DQUFTOzs7QUFHeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsb0NBQW9DO0FBQ3pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDhCQUE4QixLQUFLLEdBQUcsd0JBQXdCO0FBQzlEO0FBQ0EsNkJBQTZCLEtBQUssR0FBRyxxQkFBcUI7QUFDMUQ7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwrQ0FBK0M7QUFDL0M7QUFDQSwwQkFBMEIsa0RBQWlCLGlCQUFpQixFQUFFLGtCQUFrQjtBQUNoRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0NBQWtDLGtEQUFpQjtBQUNuRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQixrREFBaUI7QUFDNUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxrREFBaUIsZ0JBQWdCLEVBQUUsa0RBQWlCLGNBQWM7O0FBRWxHOztBQUVBLGlCQUFpQixnREFBZTtBQUNoQyxxQkFBcUIsZ0RBQWUsNkJBQTZCLGdEQUFlO0FBQ2hGO0FBQ0EsbUJBQW1CLGtEQUFpQjtBQUNwQyxrQ0FBa0MscUNBQXFDO0FBQ3ZFLGdEQUFnRCxnREFBZTtBQUMvRDtBQUNBLE9BQU87QUFDUDs7QUFFQSxpQkFBaUIsZ0RBQWU7QUFDaEMscUJBQXFCLGdEQUFlLGdDQUFnQyxnREFBZTtBQUNuRjtBQUNBLG1CQUFtQixrREFBaUI7QUFDcEMsK0JBQStCLHFDQUFxQztBQUNwRSxnREFBZ0QsZ0RBQWU7QUFDL0Q7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsaUJBQWlCLGdEQUFlO0FBQ2hDLHFCQUFxQixnREFBZSw4QkFBOEIsZ0RBQWU7QUFDakY7QUFDQSxtQkFBbUIsa0RBQWlCO0FBQ3BDLDhCQUE4QixxQ0FBcUM7QUFDbkUsZ0RBQWdELGdEQUFlO0FBQy9EO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrREFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0RBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkYmFzZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1kcmF3L3NyYy91aS5qcz82ZmZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbmNvbnN0IGNsYXNzVHlwZXMgPSBbJ21vZGUnLCAnZmVhdHVyZScsICdtb3VzZSddO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjdHgpIHtcblxuXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnRzID0ge307XG4gIGxldCBhY3RpdmVCdXR0b24gPSBudWxsO1xuXG4gIGxldCBjdXJyZW50TWFwQ2xhc3NlcyA9IHtcbiAgICBtb2RlOiBudWxsLCAvLyBlLmcuIG1vZGUtZGlyZWN0X3NlbGVjdFxuICAgIGZlYXR1cmU6IG51bGwsIC8vIGUuZy4gZmVhdHVyZS12ZXJ0ZXhcbiAgICBtb3VzZTogbnVsbCAvLyBlLmcuIG1vdXNlLW1vdmVcbiAgfTtcblxuICBsZXQgbmV4dE1hcENsYXNzZXMgPSB7XG4gICAgbW9kZTogbnVsbCxcbiAgICBmZWF0dXJlOiBudWxsLFxuICAgIG1vdXNlOiBudWxsXG4gIH07XG5cbiAgZnVuY3Rpb24gY2xlYXJNYXBDbGFzc2VzKCkge1xuICAgIHF1ZXVlTWFwQ2xhc3Nlcyh7bW9kZTpudWxsLCBmZWF0dXJlOm51bGwsIG1vdXNlOm51bGx9KTtcbiAgICB1cGRhdGVNYXBDbGFzc2VzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWV1ZU1hcENsYXNzZXMob3B0aW9ucykge1xuICAgIG5leHRNYXBDbGFzc2VzID0gT2JqZWN0LmFzc2lnbihuZXh0TWFwQ2xhc3Nlcywgb3B0aW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNYXBDbGFzc2VzKCkge1xuICAgIGlmICghY3R4LmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgY29uc3QgY2xhc3Nlc1RvUmVtb3ZlID0gW107XG4gICAgY29uc3QgY2xhc3Nlc1RvQWRkID0gW107XG5cbiAgICBjbGFzc1R5cGVzLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgIGlmIChuZXh0TWFwQ2xhc3Nlc1t0eXBlXSA9PT0gY3VycmVudE1hcENsYXNzZXNbdHlwZV0pIHJldHVybjtcblxuICAgICAgY2xhc3Nlc1RvUmVtb3ZlLnB1c2goYCR7dHlwZX0tJHtjdXJyZW50TWFwQ2xhc3Nlc1t0eXBlXX1gKTtcbiAgICAgIGlmIChuZXh0TWFwQ2xhc3Nlc1t0eXBlXSAhPT0gbnVsbCkge1xuICAgICAgICBjbGFzc2VzVG9BZGQucHVzaChgJHt0eXBlfS0ke25leHRNYXBDbGFzc2VzW3R5cGVdfWApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGNsYXNzZXNUb1JlbW92ZS5sZW5ndGggPiAwKSB7XG4gICAgICBjdHguY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3Nlc1RvUmVtb3ZlKTtcbiAgICB9XG5cbiAgICBpZiAoY2xhc3Nlc1RvQWRkLmxlbmd0aCA+IDApIHtcbiAgICAgIGN0eC5jb250YWluZXIuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzVG9BZGQpO1xuICAgIH1cblxuICAgIGN1cnJlbnRNYXBDbGFzc2VzID0gT2JqZWN0LmFzc2lnbihjdXJyZW50TWFwQ2xhc3NlcywgbmV4dE1hcENsYXNzZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29udHJvbEJ1dHRvbihpZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9IGAke0NvbnN0YW50cy5jbGFzc2VzLkNPTlRST0xfQlVUVE9OfSAke29wdGlvbnMuY2xhc3NOYW1lfWA7XG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBvcHRpb25zLnRpdGxlKTtcbiAgICBvcHRpb25zLmNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGNvbnN0IGNsaWNrZWRCdXR0b24gPSBlLnRhcmdldDtcbiAgICAgIGlmIChjbGlja2VkQnV0dG9uID09PSBhY3RpdmVCdXR0b24pIHtcbiAgICAgICAgZGVhY3RpdmF0ZUJ1dHRvbnMoKTtcbiAgICAgICAgb3B0aW9ucy5vbkRlYWN0aXZhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRBY3RpdmVCdXR0b24oaWQpO1xuICAgICAgb3B0aW9ucy5vbkFjdGl2YXRlKCk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVhY3RpdmF0ZUJ1dHRvbnMoKSB7XG4gICAgaWYgKCFhY3RpdmVCdXR0b24pIHJldHVybjtcbiAgICBhY3RpdmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShDb25zdGFudHMuY2xhc3Nlcy5BQ1RJVkVfQlVUVE9OKTtcbiAgICBhY3RpdmVCdXR0b24gPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWN0aXZlQnV0dG9uKGlkKSB7XG4gICAgZGVhY3RpdmF0ZUJ1dHRvbnMoKTtcblxuICAgIGNvbnN0IGJ1dHRvbiA9IGJ1dHRvbkVsZW1lbnRzW2lkXTtcbiAgICBpZiAoIWJ1dHRvbikgcmV0dXJuO1xuXG4gICAgaWYgKGJ1dHRvbiAmJiBpZCAhPT0gJ3RyYXNoJykge1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoQ29uc3RhbnRzLmNsYXNzZXMuQUNUSVZFX0JVVFRPTik7XG4gICAgICBhY3RpdmVCdXR0b24gPSBidXR0b247XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkQnV0dG9ucygpIHtcbiAgICBjb25zdCBjb250cm9scyA9IGN0eC5vcHRpb25zLmNvbnRyb2xzO1xuICAgIGNvbnN0IGNvbnRyb2xHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRyb2xHcm91cC5jbGFzc05hbWUgPSBgJHtDb25zdGFudHMuY2xhc3Nlcy5DT05UUk9MX0dST1VQfSAke0NvbnN0YW50cy5jbGFzc2VzLkNPTlRST0xfQkFTRX1gO1xuXG4gICAgaWYgKCFjb250cm9scykgcmV0dXJuIGNvbnRyb2xHcm91cDtcblxuICAgIGlmIChjb250cm9sc1tDb25zdGFudHMudHlwZXMuTElORV0pIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnRzW0NvbnN0YW50cy50eXBlcy5MSU5FXSA9IGNyZWF0ZUNvbnRyb2xCdXR0b24oQ29uc3RhbnRzLnR5cGVzLkxJTkUsIHtcbiAgICAgICAgY29udGFpbmVyOiBjb250cm9sR3JvdXAsXG4gICAgICAgIGNsYXNzTmFtZTogQ29uc3RhbnRzLmNsYXNzZXMuQ09OVFJPTF9CVVRUT05fTElORSxcbiAgICAgICAgdGl0bGU6IGBMaW5lU3RyaW5nIHRvb2wgJHtjdHgub3B0aW9ucy5rZXliaW5kaW5ncyA/ICcobCknIDogJyd9YCxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4gY3R4LmV2ZW50cy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5EUkFXX0xJTkVfU1RSSU5HKSxcbiAgICAgICAgb25EZWFjdGl2YXRlOiAoKSA9PiBjdHguZXZlbnRzLnRyYXNoKClcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjb250cm9sc1tDb25zdGFudHMudHlwZXMuUE9MWUdPTl0pIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnRzW0NvbnN0YW50cy50eXBlcy5QT0xZR09OXSA9IGNyZWF0ZUNvbnRyb2xCdXR0b24oQ29uc3RhbnRzLnR5cGVzLlBPTFlHT04sIHtcbiAgICAgICAgY29udGFpbmVyOiBjb250cm9sR3JvdXAsXG4gICAgICAgIGNsYXNzTmFtZTogQ29uc3RhbnRzLmNsYXNzZXMuQ09OVFJPTF9CVVRUT05fUE9MWUdPTixcbiAgICAgICAgdGl0bGU6IGBQb2x5Z29uIHRvb2wgJHtjdHgub3B0aW9ucy5rZXliaW5kaW5ncyA/ICcocCknIDogJyd9YCxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4gY3R4LmV2ZW50cy5jaGFuZ2VNb2RlKENvbnN0YW50cy5tb2Rlcy5EUkFXX1BPTFlHT04pLFxuICAgICAgICBvbkRlYWN0aXZhdGU6ICgpID0+IGN0eC5ldmVudHMudHJhc2goKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRyb2xzW0NvbnN0YW50cy50eXBlcy5QT0lOVF0pIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnRzW0NvbnN0YW50cy50eXBlcy5QT0lOVF0gPSBjcmVhdGVDb250cm9sQnV0dG9uKENvbnN0YW50cy50eXBlcy5QT0lOVCwge1xuICAgICAgICBjb250YWluZXI6IGNvbnRyb2xHcm91cCxcbiAgICAgICAgY2xhc3NOYW1lOiBDb25zdGFudHMuY2xhc3Nlcy5DT05UUk9MX0JVVFRPTl9QT0lOVCxcbiAgICAgICAgdGl0bGU6IGBNYXJrZXIgdG9vbCAke2N0eC5vcHRpb25zLmtleWJpbmRpbmdzID8gJyhtKScgOiAnJ31gLFxuICAgICAgICBvbkFjdGl2YXRlOiAoKSA9PiBjdHguZXZlbnRzLmNoYW5nZU1vZGUoQ29uc3RhbnRzLm1vZGVzLkRSQVdfUE9JTlQpLFxuICAgICAgICBvbkRlYWN0aXZhdGU6ICgpID0+IGN0eC5ldmVudHMudHJhc2goKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRyb2xzLnRyYXNoKSB7XG4gICAgICBidXR0b25FbGVtZW50cy50cmFzaCA9IGNyZWF0ZUNvbnRyb2xCdXR0b24oJ3RyYXNoJywge1xuICAgICAgICBjb250YWluZXI6IGNvbnRyb2xHcm91cCxcbiAgICAgICAgY2xhc3NOYW1lOiBDb25zdGFudHMuY2xhc3Nlcy5DT05UUk9MX0JVVFRPTl9UUkFTSCxcbiAgICAgICAgdGl0bGU6ICdEZWxldGUnLFxuICAgICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgICAgY3R4LmV2ZW50cy50cmFzaCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udHJvbHMuY29tYmluZV9mZWF0dXJlcykge1xuICAgICAgYnV0dG9uRWxlbWVudHMuY29tYmluZV9mZWF0dXJlcyA9IGNyZWF0ZUNvbnRyb2xCdXR0b24oJ2NvbWJpbmVGZWF0dXJlcycsIHtcbiAgICAgICAgY29udGFpbmVyOiBjb250cm9sR3JvdXAsXG4gICAgICAgIGNsYXNzTmFtZTogQ29uc3RhbnRzLmNsYXNzZXMuQ09OVFJPTF9CVVRUT05fQ09NQklORV9GRUFUVVJFUyxcbiAgICAgICAgdGl0bGU6ICdDb21iaW5lJyxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4ge1xuICAgICAgICAgIGN0eC5ldmVudHMuY29tYmluZUZlYXR1cmVzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjb250cm9scy51bmNvbWJpbmVfZmVhdHVyZXMpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnRzLnVuY29tYmluZV9mZWF0dXJlcyA9IGNyZWF0ZUNvbnRyb2xCdXR0b24oJ3VuY29tYmluZUZlYXR1cmVzJywge1xuICAgICAgICBjb250YWluZXI6IGNvbnRyb2xHcm91cCxcbiAgICAgICAgY2xhc3NOYW1lOiBDb25zdGFudHMuY2xhc3Nlcy5DT05UUk9MX0JVVFRPTl9VTkNPTUJJTkVfRkVBVFVSRVMsXG4gICAgICAgIHRpdGxlOiAnVW5jb21iaW5lJyxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4ge1xuICAgICAgICAgIGN0eC5ldmVudHMudW5jb21iaW5lRmVhdHVyZXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRyb2xHcm91cDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUJ1dHRvbnMoKSB7XG4gICAgT2JqZWN0LmtleXMoYnV0dG9uRWxlbWVudHMpLmZvckVhY2goKGJ1dHRvbklkKSA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBidXR0b25FbGVtZW50c1tidXR0b25JZF07XG4gICAgICBpZiAoYnV0dG9uLnBhcmVudE5vZGUpIHtcbiAgICAgICAgYnV0dG9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYnV0dG9uKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBidXR0b25FbGVtZW50c1tidXR0b25JZF07XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldEFjdGl2ZUJ1dHRvbixcbiAgICBxdWV1ZU1hcENsYXNzZXMsXG4gICAgdXBkYXRlTWFwQ2xhc3NlcyxcbiAgICBjbGVhck1hcENsYXNzZXMsXG4gICAgYWRkQnV0dG9ucyxcbiAgICByZW1vdmVCdXR0b25zXG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/src/ui.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/point-geometry/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@mapbox/point-geometry/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Point)\n/* harmony export */ });\n/**\n * A standalone point geometry with useful accessor, comparison, and\n * modification methods.\n *\n * @class\n * @param {number} x the x-coordinate. This could be longitude or screen pixels, or any other sort of unit.\n * @param {number} y the y-coordinate. This could be latitude or screen pixels, or any other sort of unit.\n *\n * @example\n * const point = new Point(-77, 38);\n */\nfunction Point(x, y) {\n    this.x = x;\n    this.y = y;\n}\n\nPoint.prototype = {\n    /**\n     * Clone this point, returning a new point that can be modified\n     * without affecting the old one.\n     * @return {Point} the clone\n     */\n    clone() { return new Point(this.x, this.y); },\n\n    /**\n     * Add this point's x & y coordinates to another point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    add(p) { return this.clone()._add(p); },\n\n    /**\n     * Subtract this point's x & y coordinates to from point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    sub(p) { return this.clone()._sub(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    multByPoint(p) { return this.clone()._multByPoint(p); },\n\n    /**\n     * Divide this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    divByPoint(p) { return this.clone()._divByPoint(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {number} k factor\n     * @return {Point} output point\n     */\n    mult(k) { return this.clone()._mult(k); },\n\n    /**\n     * Divide this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {number} k factor\n     * @return {Point} output point\n     */\n    div(k) { return this.clone()._div(k); },\n\n    /**\n     * Rotate this point around the 0, 0 origin by an angle a,\n     * given in radians\n     * @param {number} a angle to rotate around, in radians\n     * @return {Point} output point\n     */\n    rotate(a) { return this.clone()._rotate(a); },\n\n    /**\n     * Rotate this point around p point by an angle a,\n     * given in radians\n     * @param {number} a angle to rotate around, in radians\n     * @param {Point} p Point to rotate around\n     * @return {Point} output point\n     */\n    rotateAround(a, p) { return this.clone()._rotateAround(a, p); },\n\n    /**\n     * Multiply this point by a 4x1 transformation matrix\n     * @param {[number, number, number, number]} m transformation matrix\n     * @return {Point} output point\n     */\n    matMult(m) { return this.clone()._matMult(m); },\n\n    /**\n     * Calculate this point but as a unit vector from 0, 0, meaning\n     * that the distance from the resulting point to the 0, 0\n     * coordinate will be equal to 1 and the angle from the resulting\n     * point to the 0, 0 coordinate will be the same as before.\n     * @return {Point} unit vector point\n     */\n    unit() { return this.clone()._unit(); },\n\n    /**\n     * Compute a perpendicular point, where the new y coordinate\n     * is the old x coordinate and the new x coordinate is the old y\n     * coordinate multiplied by -1\n     * @return {Point} perpendicular point\n     */\n    perp() { return this.clone()._perp(); },\n\n    /**\n     * Return a version of this point with the x & y coordinates\n     * rounded to integers.\n     * @return {Point} rounded point\n     */\n    round() { return this.clone()._round(); },\n\n    /**\n     * Return the magnitude of this point: this is the Euclidean\n     * distance from the 0, 0 coordinate to this point's x and y\n     * coordinates.\n     * @return {number} magnitude\n     */\n    mag() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n\n    /**\n     * Judge whether this point is equal to another point, returning\n     * true or false.\n     * @param {Point} other the other point\n     * @return {boolean} whether the points are equal\n     */\n    equals(other) {\n        return this.x === other.x &&\n               this.y === other.y;\n    },\n\n    /**\n     * Calculate the distance from this point to another point\n     * @param {Point} p the other point\n     * @return {number} distance\n     */\n    dist(p) {\n        return Math.sqrt(this.distSqr(p));\n    },\n\n    /**\n     * Calculate the distance from this point to another point,\n     * without the square root step. Useful if you're comparing\n     * relative distances.\n     * @param {Point} p the other point\n     * @return {number} distance\n     */\n    distSqr(p) {\n        const dx = p.x - this.x,\n            dy = p.y - this.y;\n        return dx * dx + dy * dy;\n    },\n\n    /**\n     * Get the angle from the 0, 0 coordinate to this point, in radians\n     * coordinates.\n     * @return {number} angle\n     */\n    angle() {\n        return Math.atan2(this.y, this.x);\n    },\n\n    /**\n     * Get the angle from this point to another point, in radians\n     * @param {Point} b the other point\n     * @return {number} angle\n     */\n    angleTo(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n    },\n\n    /**\n     * Get the angle between this point and another point, in radians\n     * @param {Point} b the other point\n     * @return {number} angle\n     */\n    angleWith(b) {\n        return this.angleWithSep(b.x, b.y);\n    },\n\n    /**\n     * Find the angle of the two vectors, solving the formula for\n     * the cross product a x b = |a||b|sin(θ) for θ.\n     * @param {number} x the x-coordinate\n     * @param {number} y the y-coordinate\n     * @return {number} the angle in radians\n     */\n    angleWithSep(x, y) {\n        return Math.atan2(\n            this.x * y - this.y * x,\n            this.x * x + this.y * y);\n    },\n\n    /** @param {[number, number, number, number]} m */\n    _matMult(m) {\n        const x = m[0] * this.x + m[1] * this.y,\n            y = m[2] * this.x + m[3] * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    /** @param {Point} p */\n    _add(p) {\n        this.x += p.x;\n        this.y += p.y;\n        return this;\n    },\n\n    /** @param {Point} p */\n    _sub(p) {\n        this.x -= p.x;\n        this.y -= p.y;\n        return this;\n    },\n\n    /** @param {number} k */\n    _mult(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n    },\n\n    /** @param {number} k */\n    _div(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n    },\n\n    /** @param {Point} p */\n    _multByPoint(p) {\n        this.x *= p.x;\n        this.y *= p.y;\n        return this;\n    },\n\n    /** @param {Point} p */\n    _divByPoint(p) {\n        this.x /= p.x;\n        this.y /= p.y;\n        return this;\n    },\n\n    _unit() {\n        this._div(this.mag());\n        return this;\n    },\n\n    _perp() {\n        const y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n    },\n\n    /** @param {number} angle */\n    _rotate(angle) {\n        const cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = cos * this.x - sin * this.y,\n            y = sin * this.x + cos * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    /**\n     * @param {number} angle\n     * @param {Point} p\n     */\n    _rotateAround(angle, p) {\n        const cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = p.x + cos * (this.x - p.x) - sin * (this.y - p.y),\n            y = p.y + sin * (this.x - p.x) + cos * (this.y - p.y);\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _round() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n    },\n\n    constructor: Point\n};\n\n/**\n * Construct a point from an array if necessary, otherwise if the input\n * is already a Point, return it unchanged.\n * @param {Point | [number, number] | {x: number, y: number}} p input value\n * @return {Point} constructed point.\n * @example\n * // this\n * var point = Point.convert([0, 1]);\n * // is equivalent to\n * var point = new Point(0, 1);\n */\nPoint.convert = function (p) {\n    if (p instanceof Point) {\n        return /** @type {Point} */ (p);\n    }\n    if (Array.isArray(p)) {\n        return new Point(+p[0], +p[1]);\n    }\n    if (p.x !== undefined && p.y !== undefined) {\n        return new Point(+p.x, +p.y);\n    }\n    throw new Error('Expected [x, y] or {x, y} point format');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9wb2ludC1nZW9tZXRyeS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsY0FBYyxtQ0FBbUM7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBLGFBQWEsOEJBQThCOztBQUUzQztBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxhQUFhLDhCQUE4Qjs7QUFFM0M7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EscUJBQXFCLHNDQUFzQzs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0Esb0JBQW9CLHFDQUFxQzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsY0FBYywrQkFBK0I7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBLGFBQWEsOEJBQThCOztBQUUzQztBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxnQkFBZ0IsaUNBQWlDOztBQUVqRDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EseUJBQXlCLDBDQUEwQzs7QUFFbkU7QUFDQTtBQUNBLGVBQWUsa0NBQWtDO0FBQ2pELGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsaUJBQWlCLGtDQUFrQzs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsYUFBYSw4QkFBOEI7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxhQUFhLDhCQUE4Qjs7QUFFM0M7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxjQUFjLCtCQUErQjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGdCQUFnQixrQ0FBa0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNEJBQTRCLHVCQUF1QjtBQUM5RCxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixPQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLE1BQU07QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRiYXNlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvcG9pbnQtZ2VvbWV0cnkvaW5kZXguanM/Y2MyMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgc3RhbmRhbG9uZSBwb2ludCBnZW9tZXRyeSB3aXRoIHVzZWZ1bCBhY2Nlc3NvciwgY29tcGFyaXNvbiwgYW5kXG4gKiBtb2RpZmljYXRpb24gbWV0aG9kcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IHRoZSB4LWNvb3JkaW5hdGUuIFRoaXMgY291bGQgYmUgbG9uZ2l0dWRlIG9yIHNjcmVlbiBwaXhlbHMsIG9yIGFueSBvdGhlciBzb3J0IG9mIHVuaXQuXG4gKiBAcGFyYW0ge251bWJlcn0geSB0aGUgeS1jb29yZGluYXRlLiBUaGlzIGNvdWxkIGJlIGxhdGl0dWRlIG9yIHNjcmVlbiBwaXhlbHMsIG9yIGFueSBvdGhlciBzb3J0IG9mIHVuaXQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KC03NywgMzgpO1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb2ludCh4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufVxuXG5Qb2ludC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhpcyBwb2ludCwgcmV0dXJuaW5nIGEgbmV3IHBvaW50IHRoYXQgY2FuIGJlIG1vZGlmaWVkXG4gICAgICogd2l0aG91dCBhZmZlY3RpbmcgdGhlIG9sZCBvbmUuXG4gICAgICogQHJldHVybiB7UG9pbnR9IHRoZSBjbG9uZVxuICAgICAqL1xuICAgIGNsb25lKCkgeyByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTsgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgdG8gYW5vdGhlciBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBhZGQocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9hZGQocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdCB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgdG8gZnJvbSBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBzdWIocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWIocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgcG9pbnQsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgbXVsdEJ5UG9pbnQocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludChwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgcG9pbnQsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgZGl2QnlQb2ludChwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2RpdkJ5UG9pbnQocCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgYSBmYWN0b3IsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGsgZmFjdG9yXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG11bHQoaykgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KGspOyB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBhIGZhY3RvcixcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gayBmYWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgZGl2KGspIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KGspOyB9LFxuXG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoaXMgcG9pbnQgYXJvdW5kIHRoZSAwLCAwIG9yaWdpbiBieSBhbiBhbmdsZSBhLFxuICAgICAqIGdpdmVuIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSBhbmdsZSB0byByb3RhdGUgYXJvdW5kLCBpbiByYWRpYW5zXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZShhKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZShhKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGlzIHBvaW50IGFyb3VuZCBwIHBvaW50IGJ5IGFuIGFuZ2xlIGEsXG4gICAgICogZ2l2ZW4gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIFBvaW50IHRvIHJvdGF0ZSBhcm91bmRcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgcm90YXRlQXJvdW5kKGEsIHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlQXJvdW5kKGEsIHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCBieSBhIDR4MSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdfSBtIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBtYXRNdWx0KG0pIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbWF0TXVsdChtKTsgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGlzIHBvaW50IGJ1dCBhcyBhIHVuaXQgdmVjdG9yIGZyb20gMCwgMCwgbWVhbmluZ1xuICAgICAqIHRoYXQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHJlc3VsdGluZyBwb2ludCB0byB0aGUgMCwgMFxuICAgICAqIGNvb3JkaW5hdGUgd2lsbCBiZSBlcXVhbCB0byAxIGFuZCB0aGUgYW5nbGUgZnJvbSB0aGUgcmVzdWx0aW5nXG4gICAgICogcG9pbnQgdG8gdGhlIDAsIDAgY29vcmRpbmF0ZSB3aWxsIGJlIHRoZSBzYW1lIGFzIGJlZm9yZS5cbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gdW5pdCB2ZWN0b3IgcG9pbnRcbiAgICAgKi9cbiAgICB1bml0KCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGEgcGVycGVuZGljdWxhciBwb2ludCwgd2hlcmUgdGhlIG5ldyB5IGNvb3JkaW5hdGVcbiAgICAgKiBpcyB0aGUgb2xkIHggY29vcmRpbmF0ZSBhbmQgdGhlIG5ldyB4IGNvb3JkaW5hdGUgaXMgdGhlIG9sZCB5XG4gICAgICogY29vcmRpbmF0ZSBtdWx0aXBsaWVkIGJ5IC0xXG4gICAgICogQHJldHVybiB7UG9pbnR9IHBlcnBlbmRpY3VsYXIgcG9pbnRcbiAgICAgKi9cbiAgICBwZXJwKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoaXMgcG9pbnQgd2l0aCB0aGUgeCAmIHkgY29vcmRpbmF0ZXNcbiAgICAgKiByb3VuZGVkIHRvIGludGVnZXJzLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSByb3VuZGVkIHBvaW50XG4gICAgICovXG4gICAgcm91bmQoKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1hZ25pdHVkZSBvZiB0aGlzIHBvaW50OiB0aGlzIGlzIHRoZSBFdWNsaWRlYW5cbiAgICAgKiBkaXN0YW5jZSBmcm9tIHRoZSAwLCAwIGNvb3JkaW5hdGUgdG8gdGhpcyBwb2ludCdzIHggYW5kIHlcbiAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IG1hZ25pdHVkZVxuICAgICAqL1xuICAgIG1hZygpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBKdWRnZSB3aGV0aGVyIHRoaXMgcG9pbnQgaXMgZXF1YWwgdG8gYW5vdGhlciBwb2ludCwgcmV0dXJuaW5nXG4gICAgICogdHJ1ZSBvciBmYWxzZS5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBvdGhlciB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBwb2ludHMgYXJlIGVxdWFsXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyLnggJiZcbiAgICAgICAgICAgICAgIHRoaXMueSA9PT0gb3RoZXIueTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBkaXN0YW5jZVxuICAgICAqL1xuICAgIGRpc3QocCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcihwKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQsXG4gICAgICogd2l0aG91dCB0aGUgc3F1YXJlIHJvb3Qgc3RlcC4gVXNlZnVsIGlmIHlvdSdyZSBjb21wYXJpbmdcbiAgICAgKiByZWxhdGl2ZSBkaXN0YW5jZXMuXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGRpc3RhbmNlXG4gICAgICovXG4gICAgZGlzdFNxcihwKSB7XG4gICAgICAgIGNvbnN0IGR4ID0gcC54IC0gdGhpcy54LFxuICAgICAgICAgICAgZHkgPSBwLnkgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBmcm9tIHRoZSAwLCAwIGNvb3JkaW5hdGUgdG8gdGhpcyBwb2ludCwgaW4gcmFkaWFuc1xuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55LCB0aGlzLngpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuZ2xlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50LCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtQb2ludH0gYiB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgYW5nbGVUbyhiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSAtIGIueSwgdGhpcy54IC0gYi54KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZVdpdGgoYikge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmdsZVdpdGhTZXAoYi54LCBiLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBhbmdsZSBvZiB0aGUgdHdvIHZlY3RvcnMsIHNvbHZpbmcgdGhlIGZvcm11bGEgZm9yXG4gICAgICogdGhlIGNyb3NzIHByb2R1Y3QgYSB4IGIgPSB8YXx8YnxzaW4ozrgpIGZvciDOuC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCB0aGUgeC1jb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgdGhlIHktY29vcmRpbmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAgICAgKi9cbiAgICBhbmdsZVdpdGhTZXAoeCwgeSkge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMihcbiAgICAgICAgICAgIHRoaXMueCAqIHkgLSB0aGlzLnkgKiB4LFxuICAgICAgICAgICAgdGhpcy54ICogeCArIHRoaXMueSAqIHkpO1xuICAgIH0sXG5cbiAgICAvKiogQHBhcmFtIHtbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXX0gbSAqL1xuICAgIF9tYXRNdWx0KG0pIHtcbiAgICAgICAgY29uc3QgeCA9IG1bMF0gKiB0aGlzLnggKyBtWzFdICogdGhpcy55LFxuICAgICAgICAgICAgeSA9IG1bMl0gKiB0aGlzLnggKyBtWzNdICogdGhpcy55O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqIEBwYXJhbSB7UG9pbnR9IHAgKi9cbiAgICBfYWRkKHApIHtcbiAgICAgICAgdGhpcy54ICs9IHAueDtcbiAgICAgICAgdGhpcy55ICs9IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKiBAcGFyYW0ge1BvaW50fSBwICovXG4gICAgX3N1YihwKSB7XG4gICAgICAgIHRoaXMueCAtPSBwLng7XG4gICAgICAgIHRoaXMueSAtPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKiogQHBhcmFtIHtudW1iZXJ9IGsgKi9cbiAgICBfbXVsdChrKSB7XG4gICAgICAgIHRoaXMueCAqPSBrO1xuICAgICAgICB0aGlzLnkgKj0gaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKiBAcGFyYW0ge251bWJlcn0gayAqL1xuICAgIF9kaXYoaykge1xuICAgICAgICB0aGlzLnggLz0gaztcbiAgICAgICAgdGhpcy55IC89IGs7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKiogQHBhcmFtIHtQb2ludH0gcCAqL1xuICAgIF9tdWx0QnlQb2ludChwKSB7XG4gICAgICAgIHRoaXMueCAqPSBwLng7XG4gICAgICAgIHRoaXMueSAqPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKiogQHBhcmFtIHtQb2ludH0gcCAqL1xuICAgIF9kaXZCeVBvaW50KHApIHtcbiAgICAgICAgdGhpcy54IC89IHAueDtcbiAgICAgICAgdGhpcy55IC89IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF91bml0KCkge1xuICAgICAgICB0aGlzLl9kaXYodGhpcy5tYWcoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcGVycCgpIHtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICAgICAgdGhpcy55ID0gdGhpcy54O1xuICAgICAgICB0aGlzLnggPSAteTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgKi9cbiAgICBfcm90YXRlKGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHggPSBjb3MgKiB0aGlzLnggLSBzaW4gKiB0aGlzLnksXG4gICAgICAgICAgICB5ID0gc2luICogdGhpcy54ICsgY29zICogdGhpcy55O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICogQHBhcmFtIHtQb2ludH0gcFxuICAgICAqL1xuICAgIF9yb3RhdGVBcm91bmQoYW5nbGUsIHApIHtcbiAgICAgICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICAgICAgeCA9IHAueCArIGNvcyAqICh0aGlzLnggLSBwLngpIC0gc2luICogKHRoaXMueSAtIHAueSksXG4gICAgICAgICAgICB5ID0gcC55ICsgc2luICogKHRoaXMueCAtIHAueCkgKyBjb3MgKiAodGhpcy55IC0gcC55KTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9yb3VuZCgpIHtcbiAgICAgICAgdGhpcy54ID0gTWF0aC5yb3VuZCh0aGlzLngpO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLnJvdW5kKHRoaXMueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBjb25zdHJ1Y3RvcjogUG9pbnRcbn07XG5cbi8qKlxuICogQ29uc3RydWN0IGEgcG9pbnQgZnJvbSBhbiBhcnJheSBpZiBuZWNlc3NhcnksIG90aGVyd2lzZSBpZiB0aGUgaW5wdXRcbiAqIGlzIGFscmVhZHkgYSBQb2ludCwgcmV0dXJuIGl0IHVuY2hhbmdlZC5cbiAqIEBwYXJhbSB7UG9pbnQgfCBbbnVtYmVyLCBudW1iZXJdIHwge3g6IG51bWJlciwgeTogbnVtYmVyfX0gcCBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7UG9pbnR9IGNvbnN0cnVjdGVkIHBvaW50LlxuICogQGV4YW1wbGVcbiAqIC8vIHRoaXNcbiAqIHZhciBwb2ludCA9IFBvaW50LmNvbnZlcnQoWzAsIDFdKTtcbiAqIC8vIGlzIGVxdWl2YWxlbnQgdG9cbiAqIHZhciBwb2ludCA9IG5ldyBQb2ludCgwLCAxKTtcbiAqL1xuUG9pbnQuY29udmVydCA9IGZ1bmN0aW9uIChwKSB7XG4gICAgaWYgKHAgaW5zdGFuY2VvZiBQb2ludCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtQb2ludH0gKi8gKHApO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwKSkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KCtwWzBdLCArcFsxXSk7XG4gICAgfVxuICAgIGlmIChwLnggIT09IHVuZGVmaW5lZCAmJiBwLnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KCtwLngsICtwLnkpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFt4LCB5XSBvciB7eCwgeX0gcG9pbnQgZm9ybWF0Jyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/point-geometry/index.js\n");

/***/ })

};
;